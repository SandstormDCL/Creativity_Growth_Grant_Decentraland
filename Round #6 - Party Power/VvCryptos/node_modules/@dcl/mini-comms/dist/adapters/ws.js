"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createWsComponent = void 0;
const ws_1 = require("ws");
/**
 * Creates a http-server component
 * @public
 */
async function createWsComponent(_) {
    let wss;
    async function start() {
        if (wss)
            return;
        wss = new ws_1.WebSocketServer({ noServer: true, skipUTF8Validation: true });
    }
    async function stop() {
        wss?.close();
        wss = undefined;
    }
    await start();
    return {
        start,
        stop,
        ws: wss
    };
}
exports.createWsComponent = createWsComponent;
//# sourceMappingURL=ws.js.map