import { createInputSystem, createPointerEventsSystem, createTweenSystem, } from '@dcl/ecs';
import { createComponents, initComponents } from './definitions';
import { createActionsSystem } from './actions';
import { createTriggersSystem } from './triggers';
import { createTimerSystem } from './timer';
import { getExplorerComponents as getEngineComponents } from './components';
import { createTransformSystem } from './transform';
import { createInputActionSystem } from './input-actions';
import { createCounterBarSystem } from './counter-bar';
let initialized = false;
export function initAssetPacks(_engine, sdkHelpers) {
    if (initialized)
        return;
    initialized = true;
    const engine = _engine;
    try {
        const components = getEngineComponents(engine);
        createComponents(engine);
        const inputSystem = createInputSystem(engine);
        const pointerEventsSystem = createPointerEventsSystem(engine, inputSystem);
        const tweenSystem = createTweenSystem(engine);
        initComponents(engine);
        engine.addSystem(createActionsSystem(engine, sdkHelpers));
        engine.addSystem(createTriggersSystem(engine, components, pointerEventsSystem, tweenSystem));
        engine.addSystem(createTimerSystem());
        engine.addSystem(createInputActionSystem(inputSystem));
        engine.addSystem(createCounterBarSystem(engine, components));
        engine.addSystem(createTransformSystem(components));
    }
    catch (error) {
        console.error(`Error initializing Asset Packs: ${error.message}`);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NlbmUtZW50cnlwb2ludC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zY2VuZS1lbnRyeXBvaW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHTCxpQkFBaUIsRUFDakIseUJBQXlCLEVBQ3pCLGlCQUFpQixHQUNsQixNQUFNLFVBQVUsQ0FBQTtBQUNqQixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFlLE1BQU0sZUFBZSxDQUFBO0FBQzdFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUMvQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxZQUFZLENBQUE7QUFDakQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sU0FBUyxDQUFBO0FBQzNDLE9BQU8sRUFBRSxxQkFBcUIsSUFBSSxtQkFBbUIsRUFBRSxNQUFNLGNBQWMsQ0FBQTtBQUMzRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxhQUFhLENBQUE7QUFDbkQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0saUJBQWlCLENBQUE7QUFDekQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sZUFBZSxDQUFBO0FBRXRELElBQUksV0FBVyxHQUFZLEtBQUssQ0FBQTtBQUtoQyxNQUFNLFVBQVUsY0FBYyxDQUFDLE9BQWdCLEVBQUUsVUFBd0I7SUFFdkUsSUFBSSxXQUFXO1FBQUUsT0FBTTtJQUN2QixXQUFXLEdBQUcsSUFBSSxDQUFBO0lBRWxCLE1BQU0sTUFBTSxHQUFHLE9BQWtCLENBQUE7SUFFakMsSUFBSSxDQUFDO1FBRUgsTUFBTSxVQUFVLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUE7UUFHOUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUE7UUFHeEIsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDN0MsTUFBTSxtQkFBbUIsR0FBRyx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUE7UUFDMUUsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUE7UUFHN0MsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3RCLE1BQU0sQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUE7UUFDekQsTUFBTSxDQUFDLFNBQVMsQ0FDZCxvQkFBb0IsQ0FDbEIsTUFBTSxFQUNOLFVBQVUsRUFDVixtQkFBbUIsRUFDbkIsV0FBVyxDQUNaLENBQ0YsQ0FBQTtRQUNELE1BQU0sQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFBO1FBQ3JDLE1BQU0sQ0FBQyxTQUFTLENBQUMsdUJBQXVCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQTtRQUN0RCxNQUFNLENBQUMsU0FBUyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFBO1FBQzVELE1BQU0sQ0FBQyxTQUFTLENBQUMscUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUNBQW9DLEtBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO0lBQzlFLENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW50aXR5LFxuICBJRW5naW5lLFxuICBjcmVhdGVJbnB1dFN5c3RlbSxcbiAgY3JlYXRlUG9pbnRlckV2ZW50c1N5c3RlbSxcbiAgY3JlYXRlVHdlZW5TeXN0ZW0sXG59IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50cywgaW5pdENvbXBvbmVudHMsIElTREtIZWxwZXJzIH0gZnJvbSAnLi9kZWZpbml0aW9ucydcbmltcG9ydCB7IGNyZWF0ZUFjdGlvbnNTeXN0ZW0gfSBmcm9tICcuL2FjdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVUcmlnZ2Vyc1N5c3RlbSB9IGZyb20gJy4vdHJpZ2dlcnMnXG5pbXBvcnQgeyBjcmVhdGVUaW1lclN5c3RlbSB9IGZyb20gJy4vdGltZXInXG5pbXBvcnQgeyBnZXRFeHBsb3JlckNvbXBvbmVudHMgYXMgZ2V0RW5naW5lQ29tcG9uZW50cyB9IGZyb20gJy4vY29tcG9uZW50cydcbmltcG9ydCB7IGNyZWF0ZVRyYW5zZm9ybVN5c3RlbSB9IGZyb20gJy4vdHJhbnNmb3JtJ1xuaW1wb3J0IHsgY3JlYXRlSW5wdXRBY3Rpb25TeXN0ZW0gfSBmcm9tICcuL2lucHV0LWFjdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVDb3VudGVyQmFyU3lzdGVtIH0gZnJvbSAnLi9jb3VudGVyLWJhcidcblxubGV0IGluaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2Vcbi8qKlxuICogdGhlIF9hcmdzIHBhcmFtIGlzIHRoZXJlIHRvIG1hbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBhbGwgdmVyc2lvbnMuXG4gKiBCZWZvcmUgaXQgd2FzIGluaXRBc3NldFBhY2tzKGVuZ2luZSwgcG9pbnRlckV2ZW50c1N5c3RlbSwgY29tcG9uZW50cylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRBc3NldFBhY2tzKF9lbmdpbmU6IHVua25vd24sIHNka0hlbHBlcnM/OiBJU0RLSGVscGVycykge1xuICAvLyBBdm9pZCBjcmVhdGluZyB0aGUgc2FtZSBzeXN0ZW1zIGlmIGFzc2V0LXBhY2sgaXMgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXG4gIGlmIChpbml0aWFsaXplZCkgcmV0dXJuXG4gIGluaXRpYWxpemVkID0gdHJ1ZVxuXG4gIGNvbnN0IGVuZ2luZSA9IF9lbmdpbmUgYXMgSUVuZ2luZVxuXG4gIHRyeSB7XG4gICAgLy8gZ2V0IGVuZ2luZSBjb21wb25lbnRzXG4gICAgY29uc3QgY29tcG9uZW50cyA9IGdldEVuZ2luZUNvbXBvbmVudHMoZW5naW5lKVxuXG4gICAgLy8gY3JlYXRlIGFzc2V0IHBhY2tzIGNvbXBvbmVudHNcbiAgICBjcmVhdGVDb21wb25lbnRzKGVuZ2luZSlcblxuICAgIC8vIGNyZWF0ZSBjb3JlIHN5c3RlbXNcbiAgICBjb25zdCBpbnB1dFN5c3RlbSA9IGNyZWF0ZUlucHV0U3lzdGVtKGVuZ2luZSlcbiAgICBjb25zdCBwb2ludGVyRXZlbnRzU3lzdGVtID0gY3JlYXRlUG9pbnRlckV2ZW50c1N5c3RlbShlbmdpbmUsIGlucHV0U3lzdGVtKVxuICAgIGNvbnN0IHR3ZWVuU3lzdGVtID0gY3JlYXRlVHdlZW5TeXN0ZW0oZW5naW5lKVxuXG4gICAgLy8gY3JlYXRlIHN5c3RlbXMgdGhhdCBzb21lIGNvbXBvbmVudHMgbmVlZHMgKFZpZGVvUGxheWVyLCBldGMpXG4gICAgaW5pdENvbXBvbmVudHMoZW5naW5lKVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oY3JlYXRlQWN0aW9uc1N5c3RlbShlbmdpbmUsIHNka0hlbHBlcnMpKVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oXG4gICAgICBjcmVhdGVUcmlnZ2Vyc1N5c3RlbShcbiAgICAgICAgZW5naW5lLFxuICAgICAgICBjb21wb25lbnRzLFxuICAgICAgICBwb2ludGVyRXZlbnRzU3lzdGVtLFxuICAgICAgICB0d2VlblN5c3RlbSxcbiAgICAgICksXG4gICAgKVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oY3JlYXRlVGltZXJTeXN0ZW0oKSlcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGNyZWF0ZUlucHV0QWN0aW9uU3lzdGVtKGlucHV0U3lzdGVtKSlcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGNyZWF0ZUNvdW50ZXJCYXJTeXN0ZW0oZW5naW5lLCBjb21wb25lbnRzKSlcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGNyZWF0ZVRyYW5zZm9ybVN5c3RlbShjb21wb25lbnRzKSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbml0aWFsaXppbmcgQXNzZXQgUGFja3M6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApXG4gIH1cbn1cbiJdfQ==