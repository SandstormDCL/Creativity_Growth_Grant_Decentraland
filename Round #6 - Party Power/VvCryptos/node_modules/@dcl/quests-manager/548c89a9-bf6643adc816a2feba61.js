/*! For license information please see 548c89a9-bf6643adc816a2feba61.js.LICENSE.txt */
(self.webpackChunk_dcl_quests_manager=self.webpackChunk_dcl_quests_manager||[]).push([[54],{31874:function(t,e,n){var r=n(27424),o=n(64687),i=n(17156),a=n(33496),s=n(66115),u=n(61655),c=n(94993),l=n(73808),f=n(89728),h=n(56690);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}n(65743),n(17727),function(t){"use strict";function e(t){if(t.jsonrpc="2.0",!t.id||"number"!=typeof t.id||Math.floor(t.id)!==t.id)throw new Error("Invalid RPC message(invalid id) message: ".concat(JSON.stringify(t)));if(!t.method||"string"!=typeof t.method||0===t.method.trim().length)throw new Error("Invalid RPC message(invalid method) message: ".concat(JSON.stringify(t)));if(!t.params||"object"!=typeof t.params)throw new Error("Invalid RPC message(invalid params) message: ".concat(JSON.stringify(t)));return t}var c={};function l(){var t,e,n=new Promise((function(r,o){t=function(t){r(t),n.isPending=!1},e=function(t){o(t),n.isPending=!1}})).catch((function(t){return Promise.reject(t)}));return n.resolve=t,n.reject=e,"finally"in n||(n.finally=function(t){n.then(t),n.catch(t)}),n.isPending=!0,n}Object.defineProperty(c,"__esModule",{value:!0});var d=c.future=l;c.default=l;var g={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,o=r?window:{};o.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?o=n.g:i&&(n.g=self);var a=!n.g.JS_SHA3_NO_COMMON_JS&&t.exports,s=!n.g.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),c=[4,1024,262144,67108864],l=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],p=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};!n.g.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!n.g.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,n){return function(r){return new S(t,e,t).update(r)[n]()}},y=function(t,e,n){return function(r,o){return new S(t,e,o).update(r)[n]()}},v=function(t,e,n){return function(e,r,o,i){return x["cshake"+t].update(e,r,o,i)[n]()}},w=function(t,e,n){return function(e,r,o,i){return x["kmac"+t].update(e,r,o,i)[n]()}},b=function(t,e,n,r){for(var o=0;o<d.length;++o){var i=d[o];t[i]=e(n,r,i)}return t},k=function(t,e){var n=m(t,e,"hex");return n.create=function(){return new S(t,e,t)},n.update=function(t){return n.create().update(t)},b(n,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:k},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:k},{name:"shake",padding:[31,7936,2031616,520093696],bits:p,createMethod:function(t,e){var n=y(t,e,"hex");return n.create=function(n){return new S(t,e,n)},n.update=function(t,e){return n.create(e).update(t)},b(n,y,t,e)}},{name:"cshake",padding:c,bits:p,createMethod:function(t,e){var n=g[t],r=v(t,0,"hex");return r.create=function(r,o,i){return o||i?new S(t,e,r).bytepad([o,i],n):x["shake"+t].create(r)},r.update=function(t,e,n,o){return r.create(e,n,o).update(t)},b(r,v,t,e)}},{name:"kmac",padding:c,bits:p,createMethod:function(t,e){var n=g[t],r=w(t,0,"hex");return r.create=function(r,o,i){return new C(t,e,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(t,e,n,o){return r.create(t,n,o).update(e)},b(r,w,t,e)}}],x={},F=[],N=0;N<_.length;++N)for(var A=_[N],T=A.bits,B=0;B<T.length;++B){var E=A.name+"_"+T[B];if(F.push(E),x[E]=A.createMethod(T[B],A.padding),"sha3"!==A.name){var O=A.name+T[B];F.push(O),x[O]=x[E]}}function S(t,e,n){this.blocks=[],this.s=[],this.padding=e,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function C(t,e,n){S.call(this,t,e,n)}S.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var o,i,a=this.blocks,u=this.byteCount,c=t.length,f=this.blockCount,h=0,p=this.s;h<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,o=1;o<f+1;++o)a[o]=0;if(n)for(o=this.start;h<c&&o<u;++h)a[o>>2]|=t[h]<<l[3&o++];else for(o=this.start;h<c&&o<u;++h)(i=t.charCodeAt(h))<128?a[o>>2]|=i<<l[3&o++]:i<2048?(a[o>>2]|=(192|i>>6)<<l[3&o++],a[o>>2]|=(128|63&i)<<l[3&o++]):i<55296||i>=57344?(a[o>>2]|=(224|i>>12)<<l[3&o++],a[o>>2]|=(128|i>>6&63)<<l[3&o++],a[o>>2]|=(128|63&i)<<l[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),a[o>>2]|=(240|i>>18)<<l[3&o++],a[o>>2]|=(128|i>>12&63)<<l[3&o++],a[o>>2]|=(128|i>>6&63)<<l[3&o++],a[o>>2]|=(128|63&i)<<l[3&o++]);if(this.lastByteIndex=o,o>=u){for(this.start=o-u,this.block=a[f],o=0;o<f;++o)p[o]^=a[o];P(p),this.reset=!0}else this.start=o}return this},S.prototype.encode=function(t,e){var n=255&t,r=1,o=[n];for(n=255&(t>>=8);n>0;)o.unshift(n),n=255&(t>>=8),++r;return e?o.push(r):o.unshift(r),this.update(o),o.length},S.prototype.encodeString=function(t){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}var o=0,i=t.length;if(n)o=i;else for(var a=0;a<t.length;++a){var u=t.charCodeAt(a);u<128?o+=1:u<2048?o+=2:u<55296||u>=57344?o+=3:(u=65536+((1023&u)<<10|1023&t.charCodeAt(++a)),o+=4)}return o+=this.encode(8*o),this.update(t),o},S.prototype.bytepad=function(t,e){for(var n=this.encode(e),r=0;r<t.length;++r)n+=this.encodeString(t[r]);var o=e-n%e,i=[];return i.length=o,this.update(i),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,n=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[n],e=1;e<n+1;++e)t[e]=0;for(t[n-1]|=2147483648,e=0;e<n;++e)r[e]^=t[e];P(r)}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,s="";a<r;){for(i=0;i<e&&a<r;++i,++a)t=n[i],s+=u[t>>4&15]+u[15&t]+u[t>>12&15]+u[t>>8&15]+u[t>>20&15]+u[t>>16&15]+u[t>>28&15]+u[t>>24&15];a%e==0&&(P(n),i=0)}return o&&(t=n[i],s+=u[t>>4&15]+u[15&t],o>1&&(s+=u[t>>12&15]+u[t>>8&15]),o>2&&(s+=u[t>>20&15]+u[t>>16&15])),s},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,s=this.outputBits>>3;t=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);a<r;){for(i=0;i<e&&a<r;++i,++a)u[a]=n[i];a%e==0&&P(n)}return o&&(u[i]=n[i],t=t.slice(0,s)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,a=0,s=0,u=[];s<o;){for(a=0;a<n&&s<o;++a,++s)t=s<<2,e=r[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%n==0&&P(r)}return i&&(t=s<<2,e=r[a],u[t]=255&e,i>1&&(u[t+1]=e>>8&255),i>2&&(u[t+2]=e>>16&255)),u},C.prototype=new S,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var P=function(t){var e,n,r,o,i,a,s,u,c,l,h,p,d,g,m,y,v,w,b,k,_,x,F,N,A,T,B,E,O,S,C,P,I,R,M,j,U,D,q,H,L,G,z,J,$,W,V,K,Z,Y,X,Q,tt,et,nt,rt,ot,it,at,st,ut,ct,lt;for(r=0;r<48;r+=2)o=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),n=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=n,t[10]^=e,t[11]^=n,t[20]^=e,t[21]^=n,t[30]^=e,t[31]^=n,t[40]^=e,t[41]^=n,e=o^(u<<1|c>>>31),n=i^(c<<1|u>>>31),t[2]^=e,t[3]^=n,t[12]^=e,t[13]^=n,t[22]^=e,t[23]^=n,t[32]^=e,t[33]^=n,t[42]^=e,t[43]^=n,e=a^(l<<1|h>>>31),n=s^(h<<1|l>>>31),t[4]^=e,t[5]^=n,t[14]^=e,t[15]^=n,t[24]^=e,t[25]^=n,t[34]^=e,t[35]^=n,t[44]^=e,t[45]^=n,e=u^(p<<1|d>>>31),n=c^(d<<1|p>>>31),t[6]^=e,t[7]^=n,t[16]^=e,t[17]^=n,t[26]^=e,t[27]^=n,t[36]^=e,t[37]^=n,t[46]^=e,t[47]^=n,e=l^(o<<1|i>>>31),n=h^(i<<1|o>>>31),t[8]^=e,t[9]^=n,t[18]^=e,t[19]^=n,t[28]^=e,t[29]^=n,t[38]^=e,t[39]^=n,t[48]^=e,t[49]^=n,g=t[0],m=t[1],W=t[11]<<4|t[10]>>>28,V=t[10]<<4|t[11]>>>28,E=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,M=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,S=t[33]<<13|t[32]>>>19,C=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,nt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,I=t[44]<<29|t[45]>>>3,N=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,ot=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,k=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,J=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,H=t[38]<<8|t[39]>>>24,L=t[39]<<8|t[38]>>>24,x=t[48]<<14|t[49]>>>18,F=t[49]<<14|t[48]>>>18,t[0]=g^~y&w,t[1]=m^~v&b,t[10]=N^~T&E,t[11]=A^~B&O,t[20]=R^~j&D,t[21]=M^~U&q,t[30]=J^~W&K,t[31]=$^~V&Z,t[40]=et^~rt&it,t[41]=nt^~ot&at,t[2]=y^~w&k,t[3]=v^~b&_,t[12]=T^~E&S,t[13]=B^~O&C,t[22]=j^~D&H,t[23]=U^~q&L,t[32]=W^~K&Y,t[33]=V^~Z&X,t[42]=rt^~it&st,t[43]=ot^~at&ut,t[4]=w^~k&x,t[5]=b^~_&F,t[14]=E^~S&P,t[15]=O^~C&I,t[24]=D^~H&G,t[25]=q^~L&z,t[34]=K^~Y&Q,t[35]=Z^~X&tt,t[44]=it^~st&ct,t[45]=at^~ut&lt,t[6]=k^~x&g,t[7]=_^~F&m,t[16]=S^~P&N,t[17]=C^~I&A,t[26]=H^~G&R,t[27]=L^~z&M,t[36]=Y^~Q&J,t[37]=X^~tt&$,t[46]=st^~ct&et,t[47]=ut^~lt&nt,t[8]=x^~g&y,t[9]=F^~m&v,t[18]=P^~N&T,t[19]=I^~A&B,t[28]=G^~R&j,t[29]=z^~M&U,t[38]=Q^~J&W,t[39]=tt^~$&V,t[48]=ct^~et&rt,t[49]=lt^~nt&ot,t[0]^=f[r],t[1]^=f[r+1]};if(a)t.exports=x;else for(N=0;N<F.length;++N)n.g[F[N]]=x[F[N]]}()}(g);var m=g.exports,y=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,v=Math.ceil,w=Math.floor,b="[BigNumber Error] ",k=b+"Number primitive has more than 15 significant digits: ",_=1e14,x=14,F=9007199254740991,N=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,T=1e9;function B(t){var e=0|t;return t>0||t===e?e:e-1}function E(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(e=t[r++]+"",n=x-e.length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function O(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function S(t,e,n,r){if(t<e||t>n||t!==w(t))throw Error(b+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function C(t){var e=t.c.length-1;return B(t.e/x)==e&&t.c[e]%2!=0}function P(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function I(t,e,n){var r,o;if(e<0){for(o=n+".";++e;o+=n);t=o+t}else if(++e>(r=t.length)){for(o=n,e-=r;--e;o+=n);t+=o}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var R=function t(e){var n,r,o,i,a,s,u,c,l,f,h=z.prototype={constructor:z,toString:null,valueOf:null},p=new z(1),d=20,g=4,m=-7,R=21,M=-1e7,j=1e7,U=!1,D=1,q=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function z(t,e){var n,i,a,s,u,c,l,f,h=this;if(!(h instanceof z))return new z(t,e);if(null==e){if(t&&!0===t._isBigNumber)return h.s=t.s,void(!t.c||t.e>j?h.c=h.e=null:t.e<M?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice()));if((c="number"==typeof t)&&0*t==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(s=0,u=t;u>=10;u/=10,s++);return void(s>j?h.c=h.e=null:(h.e=s,h.c=[t]))}f=String(t)}else{if(!y.test(f=String(t)))return o(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(s<0&&(s=u),s+=+f.slice(u+1),f=f.substring(0,u)):s<0&&(s=f.length)}else{if(S(e,2,L.length,"Base"),10==e&&G)return V(h=new z(t),d+h.e+1,g);if(f=String(t),c="number"==typeof t){if(0*t!=0)return o(h,f,c,e);if(h.s=1/t<0?(f=f.slice(1),-1):1,z.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(k+t)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=L.slice(0,e),s=u=0,l=f.length;u<l;u++)if(n.indexOf(i=f.charAt(u))<0){if("."==i){if(u>s){s=l;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,u=-1,s=0;continue}return o(h,String(t),c,e)}c=!1,(s=(f=r(f,e,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):s=f.length}for(u=0;48===f.charCodeAt(u);u++);for(l=f.length;48===f.charCodeAt(--l););if(f=f.slice(u,++l)){if(l-=u,c&&z.DEBUG&&l>15&&(t>F||t!==w(t)))throw Error(k+h.s*t);if((s=s-u-1)>j)h.c=h.e=null;else if(s<M)h.c=[h.e=0];else{if(h.e=s,h.c=[],u=(s+1)%x,s<0&&(u+=x),u<l){for(u&&h.c.push(+f.slice(0,u)),l-=x;u<l;)h.c.push(+f.slice(u,u+=x));u=x-(f=f.slice(u)).length}else u-=l;for(;u--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function J(t,e,n,r){var o,i,a,s,u;if(null==n?n=g:S(n,0,8),!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)u=E(t.c),u=1==r||2==r&&(a<=m||a>=R)?P(u,a):I(u,a,"0");else if(i=(t=V(new z(t),e,n)).e,s=(u=E(t.c)).length,1==r||2==r&&(e<=i||i<=m)){for(;s<e;u+="0",s++);u=P(u,i)}else if(e-=a,u=I(u,i,"0"),i+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=i-s)>0)for(i+1==s&&(u+=".");e--;u+="0");return t.s<0&&o?"-"+u:u}function $(t,e){for(var n,r=1,o=new z(t[0]);r<t.length;r++){if(!(n=new z(t[r])).s){o=n;break}e.call(o,n)&&(o=n)}return o}function W(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*x-1)>j?t.c=t.e=null:n<M?t.c=[t.e=0]:(t.e=n,t.c=e),t}function V(t,e,n,r){var o,i,a,s,u,c,l,f=t.c,h=N;if(f){t:{for(o=1,s=f[0];s>=10;s/=10,o++);if((i=e-o)<0)i+=x,a=e,l=(u=f[c=0])/h[o-a-1]%10|0;else if((c=v((i+1)/x))>=f.length){if(!r)break t;for(;f.length<=c;f.push(0));u=l=0,o=1,a=(i%=x)-x+1}else{for(u=s=f[c],o=1;s>=10;s/=10,o++);l=(a=(i%=x)-x+o)<0?0:u/h[o-a-1]%10|0}if(r=r||e<0||null!=f[c+1]||(a<0?u:u%h[o-a-1]),r=n<4?(l||r)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?u/h[o-a]:0:f[c-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,r?(e-=t.e+1,f[0]=h[(x-e%x)%x],t.e=-e||0):f[0]=t.e=0,t;if(0==i?(f.length=c,s=1,c--):(f.length=c+1,s=h[x-i],f[c]=a>0?w(u/h[o-a]%h[a])*s:0),r)for(;;){if(0==c){for(i=1,a=f[0];a>=10;a/=10,i++);for(a=f[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(t.e++,f[0]==_&&(f[0]=1));break}if(f[c]+=s,f[c]!=_)break;f[c--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}t.e>j?t.c=t.e=null:t.e<M&&(t.c=[t.e=0])}return t}function K(t){var e,n=t.e;return null===n?t.toString():(e=E(t.c),e=n<=m||n>=R?P(e,n):I(e,n,"0"),t.s<0?"-"+e:e)}return z.clone=t,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(b+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(S(n=t[e],0,T,e),d=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(S(n=t[e],0,8,e),g=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(S(n[0],-T,0,e),S(n[1],0,T,e),m=n[0],R=n[1]):(S(n,-T,T,e),m=-(R=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)S(n[0],-T,-1,e),S(n[1],1,T,e),M=n[0],j=n[1];else{if(S(n,-T,T,e),!n)throw Error(b+e+" cannot be zero: "+n);M=-(j=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(b+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(b+"crypto unavailable");U=n}else U=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(S(n=t[e],0,9,e),D=n),t.hasOwnProperty(e="POW_PRECISION")&&(S(n=t[e],0,T,e),q=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(b+e+" not an object: "+n);H=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(b+e+" invalid: "+n);G="0123456789"==n.slice(0,10),L=n}}return{DECIMAL_PLACES:d,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,R],RANGE:[M,j],CRYPTO:U,MODULO_MODE:D,POW_PRECISION:q,FORMAT:H,ALPHABET:L}},z.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!z.DEBUG)return!0;var e,n,r=t.c,o=t.e,i=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-T&&o<=T&&o===w(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break t}if((e=(o+1)%x)<1&&(e+=x),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=_||n!==w(n))break t;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(b+"Invalid BigNumber: "+t)},z.maximum=z.max=function(){return $(arguments,h.lt)},z.minimum=z.min=function(){return $(arguments,h.gt)},z.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return w(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,o,i,s=0,u=[],c=new z(p);if(null==t?t=d:S(t,0,T),o=v(t/x),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(u.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw U=!1,Error(b+"crypto unavailable");for(e=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(u.push(i%1e14),s+=7);s=o/7}if(!U)for(;s<o;)(i=a())<9e15&&(u[s++]=i%1e14);for(o=u[--s],t%=x,o&&t&&(i=N[x-t],u[s]=w(o/i)*i);0===u[s];u.pop(),s--);if(s<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=x);for(s=1,i=u[0];i>=10;i/=10,s++);s<x&&(r-=x-s)}return c.e=r,c.c=u,c}),z.sum=function(){for(var t=1,e=arguments,n=new z(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var o,i,a=[0],s=0,u=t.length;s<u;){for(i=a.length;i--;a[i]*=e);for(a[0]+=r.indexOf(t.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var u,c,l,f,h,p,m,y,v=r.indexOf("."),w=d,b=g;for(v>=0&&(f=q,q=0,r=r.replace(".",""),p=(y=new z(o)).pow(r.length-v),q=f,y.c=e(I(E(p.c),p.e,"0"),10,i,t),y.e=y.c.length),l=f=(m=e(r,o,i,s?(u=L,t):(u=t,L))).length;0==m[--f];m.pop());if(!m[0])return u.charAt(0);if(v<0?--l:(p.c=m,p.e=l,p.s=a,m=(p=n(p,y,w,b,i)).c,h=p.r,l=p.e),v=m[c=l+w+1],f=i/2,h=h||c<0||null!=m[c+1],h=b<4?(null!=v||h)&&(0==b||b==(p.s<0?3:2)):v>f||v==f&&(4==b||h||6==b&&1&m[c-1]||b==(p.s<0?8:7)),c<1||!m[0])r=h?I(u.charAt(1),-w,u.charAt(0)):u.charAt(0);else{if(m.length=c,h)for(--i;++m[--c]>i;)m[c]=0,c||(++l,m=[1].concat(m));for(f=m.length;!m[--f];);for(v=0,r="";v<=f;r+=u.charAt(m[v++]));r=I(r,l,u.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,o,i,a,s=0,u=t.length,c=e%A,l=e/A|0;for(t=t.slice();u--;)s=((o=c*(i=t[u]%A)+(r=l*i+(a=t[u]/A|0)*c)%A*A+s)/n|0)+(r/A|0)+l*a,t[u]=o%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function n(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,o,i,a,s){var u,c,l,f,h,p,d,g,m,y,v,b,k,F,N,A,T,E=r.s==o.s?1:-1,O=r.c,S=o.c;if(!(O&&O[0]&&S&&S[0]))return new z(r.s&&o.s&&(O?!S||O[0]!=S[0]:S)?O&&0==O[0]||!S?0*E:E/0:NaN);for(m=(g=new z(E)).c=[],E=i+(c=r.e-o.e)+1,s||(s=_,c=B(r.e/x)-B(o.e/x),E=E/x|0),l=0;S[l]==(O[l]||0);l++);if(S[l]>(O[l]||0)&&c--,E<0)m.push(1),f=!0;else{for(F=O.length,A=S.length,l=0,E+=2,(h=w(s/(S[0]+1)))>1&&(S=t(S,h,s),O=t(O,h,s),A=S.length,F=O.length),k=A,v=(y=O.slice(0,A)).length;v<A;y[v++]=0);T=S.slice(),T=[0].concat(T),N=S[0],S[1]>=s/2&&N++;do{if(h=0,(u=e(S,y,A,v))<0){if(b=y[0],A!=v&&(b=b*s+(y[1]||0)),(h=w(b/N))>1)for(h>=s&&(h=s-1),d=(p=t(S,h,s)).length,v=y.length;1==e(p,y,d,v);)h--,n(p,A<d?T:S,d,s),d=p.length,u=1;else 0==h&&(u=h=1),d=(p=S.slice()).length;if(d<v&&(p=[0].concat(p)),n(y,p,v,s),v=y.length,-1==u)for(;e(S,y,A,v)<1;)h++,n(y,A<v?T:S,v,s),v=y.length}else 0===u&&(h++,y=[0]);m[l++]=h,y[0]?y[v++]=O[k]||0:(y=[O[k]],v=1)}while((k++<F||null!=y[0])&&E--);f=null!=y[0],m[0]||m.splice(0,1)}if(s==_){for(l=1,E=m[0];E>=10;E/=10,l++);V(g,i+(g.e=l+c*x-1)+1,a,f)}else g.e=c,g.r=+f;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(t,e,n,r){var o,i=n?e:e.replace(f,"");if(l.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(t,e,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?t:e})),r&&(o=r,i=i.replace(u,"$1").replace(c,"0.$1")),e!=i))return new z(i,o);if(z.DEBUG)throw Error(b+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},h.absoluteValue=h.abs=function(){var t=new z(this);return t.s<0&&(t.s=1),t},h.comparedTo=function(t,e){return O(this,new z(t,e))},h.decimalPlaces=h.dp=function(t,e){var n,r,o,i=this;if(null!=t)return S(t,0,T),null==e?e=g:S(e,0,8),V(new z(i),t+i.e+1,e);if(!(n=i.c))return null;if(r=((o=n.length-1)-B(this.e/x))*x,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},h.dividedBy=h.div=function(t,e){return n(this,new z(t,e),d,g)},h.dividedToIntegerBy=h.idiv=function(t,e){return n(this,new z(t,e),0,1)},h.exponentiatedBy=h.pow=function(t,e){var n,r,o,i,a,s,u,c,l=this;if((t=new z(t)).c&&!t.isInteger())throw Error(b+"Exponent not an integer: "+K(t));if(null!=e&&(e=new z(e)),a=t.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!t.c||!t.c[0])return c=new z(Math.pow(+K(l),a?t.s*(2-C(t)):+K(t))),e?c.mod(e):c;if(s=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new z(NaN);(r=!s&&l.isInteger()&&e.isInteger())&&(l=l.mod(e))}else{if(t.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&C(t)?-0:0,l.e>-1&&(i=1/i),new z(s?1/i:i);q&&(i=v(q/x+2))}for(a?(n=new z(.5),s&&(t.s=1),u=C(t)):u=(o=Math.abs(+K(t)))%2,c=new z(p);;){if(u){if(!(c=c.times(l)).c)break;i?c.c.length>i&&(c.c.length=i):r&&(c=c.mod(e))}if(o){if(0===(o=w(o/2)))break;u=o%2}else if(V(t=t.times(n),t.e+1,1),t.e>14)u=C(t);else{if(0==(o=+K(t)))break;u=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(e))}return r?c:(s&&(c=p.div(c)),e?c.mod(e):i?V(c,q,g,void 0):c)},h.integerValue=function(t){var e=new z(this);return null==t?t=g:S(t,0,8),V(e,e.e+1,t)},h.isEqualTo=h.eq=function(t,e){return 0===O(this,new z(t,e))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(t,e){return O(this,new z(t,e))>0},h.isGreaterThanOrEqualTo=h.gte=function(t,e){return 1===(e=O(this,new z(t,e)))||0===e},h.isInteger=function(){return!!this.c&&B(this.e/x)>this.c.length-2},h.isLessThan=h.lt=function(t,e){return O(this,new z(t,e))<0},h.isLessThanOrEqualTo=h.lte=function(t,e){return-1===(e=O(this,new z(t,e)))||0===e},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(t,e){var n,r,o,i,a=this,s=a.s;if(e=(t=new z(t,e)).s,!s||!e)return new z(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/x,c=t.e/x,l=a.c,f=t.c;if(!u||!c){if(!l||!f)return l?(t.s=-e,t):new z(f?a:NaN);if(!l[0]||!f[0])return f[0]?(t.s=-e,t):new z(l[0]?a:3==g?-0:0)}if(u=B(u),c=B(c),l=l.slice(),s=u-c){for((i=s<0)?(s=-s,o=l):(c=u,o=f),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(e=f.length))?s:e,s=e=0;e<r;e++)if(l[e]!=f[e]){i=l[e]<f[e];break}if(i&&(o=l,l=f,f=o,t.s=-t.s),(e=(r=f.length)-(n=l.length))>0)for(;e--;l[n++]=0);for(e=_-1;r>s;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=e);--l[n],l[r]+=_}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--c);return l[0]?W(t,l,c):(t.s=3==g?-1:1,t.c=[t.e=0],t)},h.modulo=h.mod=function(t,e){var r,o,i=this;return t=new z(t,e),!i.c||!t.s||t.c&&!t.c[0]?new z(NaN):!t.c||i.c&&!i.c[0]?new z(i):(9==D?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,D),(t=i.minus(r.times(t))).c[0]||1!=D||(t.s=i.s),t)},h.multipliedBy=h.times=function(t,e){var n,r,o,i,a,s,u,c,l,f,h,p,d,g,m,y=this,v=y.c,w=(t=new z(t,e)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!t.s||v&&!v[0]&&!w||w&&!w[0]&&!v?t.c=t.e=t.s=null:(t.s*=y.s,v&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=B(y.e/x)+B(t.e/x),t.s*=y.s,(u=v.length)<(f=w.length)&&(d=v,v=w,w=d,o=u,u=f,f=o),o=u+f,d=[];o--;d.push(0));for(g=_,m=A,o=f;--o>=0;){for(n=0,h=w[o]%m,p=w[o]/m|0,i=o+(a=u);i>o;)n=((c=h*(c=v[--a]%m)+(s=p*c+(l=v[a]/m|0)*h)%m*m+d[i]+n)/g|0)+(s/m|0)+p*l,d[i--]=c%g;d[i]=n}return n?++r:d.splice(0,1),W(t,d,r)},h.negated=function(){var t=new z(this);return t.s=-t.s||null,t},h.plus=function(t,e){var n,r=this,o=r.s;if(e=(t=new z(t,e)).s,!o||!e)return new z(NaN);if(o!=e)return t.s=-e,r.minus(t);var i=r.e/x,a=t.e/x,s=r.c,u=t.c;if(!i||!a){if(!s||!u)return new z(o/0);if(!s[0]||!u[0])return u[0]?t:new z(s[0]?r:0*o)}if(i=B(i),a=B(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=u):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(e=u.length)<0&&(n=u,u=s,s=n,e=o),o=0;e;)o=(s[--e]=s[e]+u[e]+o)/_|0,s[e]=_===s[e]?0:s[e]%_;return o&&(s=[o].concat(s),++a),W(t,s,a)},h.precision=h.sd=function(t,e){var n,r,o,i=this;if(null!=t&&t!==!!t)return S(t,1,T),null==e?e=g:S(e,0,8),V(new z(i),t,e);if(!(n=i.c))return null;if(r=(o=n.length-1)*x+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return t&&i.e+1>r&&(r=i.e+1),r},h.shiftedBy=function(t){return S(t,-9007199254740991,F),this.times("1e"+t)},h.squareRoot=h.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,u=a.s,c=a.e,l=d+4,f=new z("0.5");if(1!==u||!s||!s[0])return new z(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+K(a)))||u==1/0?(((e=E(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=B((c+1)/2)-(c<0||c%2),r=new z(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new z(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),E(i.c).slice(0,u)===(e=E(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(V(r,r.e+d+2,1),t=!r.times(r).eq(a));break}if(!o&&(V(i,i.e+d+2,0),i.times(i).eq(a))){r=i;break}l+=4,u+=4,o=1}return V(r,r.e+d+1,g,t)},h.toExponential=function(t,e){return null!=t&&(S(t,0,T),t++),J(this,t,e,1)},h.toFixed=function(t,e){return null!=t&&(S(t,0,T),t=t+this.e+1),J(this,t,e)},h.toFormat=function(t,e,n){var r,o=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=H;else if("object"!=typeof n)throw Error(b+"Argument not an object: "+n);if(r=o.toFixed(t,e),o.c){var i,a=r.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,c=n.groupSeparator||"",l=a[0],f=a[1],h=o.s<0,p=h?l.slice(1):l,d=p.length;if(u&&(i=s,s=u,u=i,d-=i),s>0&&d>0){for(i=d%s||s,l=p.substr(0,i);i<d;i+=s)l+=c+p.substr(i,s);u>0&&(l+=c+p.slice(i)),h&&(l="-"+l)}r=f?l+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):l}return(n.prefix||"")+r+(n.suffix||"")},h.toFraction=function(t){var e,r,o,i,a,s,u,c,l,f,h,d,m=this,y=m.c;if(null!=t&&(!(u=new z(t)).isInteger()&&(u.c||1!==u.s)||u.lt(p)))throw Error(b+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+K(u));if(!y)return new z(m);for(e=new z(p),l=r=new z(p),o=c=new z(p),d=E(y),a=e.e=d.length-m.e-1,e.c[0]=N[(s=a%x)<0?x+s:s],t=!t||u.comparedTo(e)>0?a>0?e:l:u,s=j,j=1/0,u=new z(d),c.c[0]=0;f=n(u,e,0,1),1!=(i=r.plus(f.times(o))).comparedTo(t);)r=o,o=i,l=c.plus(f.times(i=l)),c=i,e=u.minus(f.times(i=e)),u=i;return i=n(t.minus(r),o,0,1),c=c.plus(i.times(l)),r=r.plus(i.times(o)),c.s=l.s=m.s,h=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(c,r,a,g).minus(m).abs())<1?[l,o]:[c,r],j=s,h},h.toNumber=function(){return+K(this)},h.toPrecision=function(t,e){return null!=t&&S(t,1,T),J(this,t,e,2)},h.toString=function(t){var e,n=this,o=n.s,i=n.e;return null===i?o?(e="Infinity",o<0&&(e="-"+e)):e="NaN":(null==t?e=i<=m||i>=R?P(E(n.c),i):I(E(n.c),i,"0"):10===t&&G?e=I(E((n=V(new z(n),d+i+1,g)).c),n.e,"0"):(S(t,2,L.length,"Base"),e=r(I(E(n.c),i,"0"),10,t,o,!0)),o<0&&n.c[0]&&(e="-"+e)),e},h.valueOf=h.toJSON=function(){return K(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=e&&z.set(e),z}(),M={ROUNDING_MODE:R.ROUND_DOWN};function j(t){return(new TextEncoder).encode(t)}function U(t){return"string"==typeof t?U(L(t)):(new TextDecoder).decode(t)}R.config(M);var D="UNKNOWN_ERROR",q="INVALID_ARGUMENT";function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];Object.keys(n).forEach((function(t){try{r.push(t+"="+JSON.stringify(n[t]))}catch(e){r.push(t+"="+JSON.stringify(n[t].toString()))}}));var o=t;r.length&&(t+=" ("+r.join(", ")+")");var i=new Error(t);return i.reason=o,i.code=e,Object.keys(n).forEach((function(t){i[t]=n[t]})),i}function L(t){if("string"!=typeof t)throw new Error("hexToBytes only accept strings, got: "+typeof t);if("0x"===t.substr(0,2))return L(t.substr(2));for(var e=new Uint8Array(Math.ceil(t.length/2)),n=0,r=0;r<t.length;r+=2){var o=parseInt(t.substr(r,2),16);if(isNaN(o))throw new Error("Cannot read hex string:"+JSON.stringify(t));e[n]=o,n++}return e}function G(t){return Array.from(t).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function z(t,e){if("string"==typeof t){if(e&&"hex"===e.encoding&&"string"==typeof t){var n=t;n.length>2&&"0x"===n.substr(0,2)&&(n=n.substr(2));var r=L(n);return m.keccak256(r)}return m.keccak256(j(t))}return m.keccak256(t)}var J,$,W={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function V(t,e,n){return new Array(e-t.length+1).join(n||"0")+t}function K(t){var e="",n=0,r=t.length;for("0x"===t.substring(0,2)&&(n=2);n<r;n+=2){var o=parseInt(t.substr(n,2),16);e+=String.fromCharCode(o)}return e}function Z(t){return Ft(t)&&t.name&&-1!==t.name.indexOf("(")?t.name:t.name+"("+X(!1,t.inputs||[]).join(",")+")"}function Y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.reduce((function(t,e){return t+e.length}),0),o=new Uint8Array(r),i=0,a=0,s=e;a<s.length;a++){var u=s[a];o.set(u,i),i+=u.length}return o}function X(t,e){var n=[];return e.forEach((function(e){if("object"==typeof e.components){if("tuple"!==e.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var r="",o=e.type.indexOf("[");o>=0&&(r=e.type.substring(o));var i=X(t,e.components);At(i)&&t?n.push("tuple("+i.join(",")+")"+r):t?n.push("("+i+")"):n.push("("+i.join(",")+")"+r)}else n.push(e.type)})),n}function Q(t){var e=t.indexOf("("),n=t.indexOf(")");return-1!==e&&-1!==n?t.substr(0,e):t}function tt(t){var e=t.indexOf("("),n=t.indexOf(")");return-1!==e&&-1!==n?t.substr(e+1,n-e-1).replace(" ",""):""}function et(t){return null==t?t:lt(t).toNumber()}function nt(t){return lt(t).toNumber()}function rt(t){return _t(t)?t.toString(10):""+t}function ot(t){return"string"==typeof t&&!t.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t)?"0x"+t:ut(t)}function it(t){if("string"==typeof t)return t.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t)?ut(t):"0x"+G(j(t));if(t instanceof Uint8Array)return"0x"+G(t);throw new Error("toStringData: Error trying to convert ".concat(t," (").concat(typeof t,") to a hex string."))}function at(t){return"boolean"==typeof t?t:0!==lt(t).toNumber()}function st(t){var e=lt(t),n=e.toString(16);return e.isLessThan(0)?"-0x"+n.substr(1):"0x"+n}function ut(t){if(Nt(t))return st(+t);if(_t(t))return st(t);if(xt(t)){var e=t;if(0===e.indexOf("-0x"))return st(e);if(0===e.indexOf("0x"))return e;if(!isFinite(e))return G(j(e))}if(t instanceof Uint8Array)return"0x"+G(t);if(At(t)||Ft(t))throw new Error("toHex can only be called with scalar values, not objects or arrays");return st(t)}function ct(t){var e=t?t.toLowerCase():"ether",n=W[e];if(void 0===n)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(W,null,2));return new R(n,10)}function lt(t){var e=t||0;return _t(e)?e:("string"==typeof e&&(e=e.trim()),"string"!=typeof e||0!==e.indexOf("0x")&&0!==e.indexOf("-0x")?e instanceof Uint8Array?new R(G(e),16):new R(e,10):new R(e.replace("0x","").toLowerCase(),16))}function ft(t){return new R(new Array(t).fill("1").join(""),2)}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=lt(t).integerValue();return n.isLessThan(0)?ft(e).plus(n).plus(1):n}function pt(t,e){return"1"===V(t.toString(2),e,"0")[0]}function dt(t){if("string"!=typeof t)throw H("invalid address",q,{arg:"address",value:t});if(t.trim().match(/^(0x)?[0-9a-fA-F]{40}$/))return"0x"!==t.trim().substring(0,2)&&(t="0x"+t),wt(t);throw H("invalid address",q,{arg:"address",value:t})}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;if(pt(t,e)){var n=ft(e);return t.minus(n).minus(1)}return t}function mt(t){return/^0x[0-9a-f]{40}$/i.test(t)}function yt(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||vt(t))}function vt(t){for(var e=t.replace("0x",""),n=z(e.toLowerCase()),r=0;r<40;r++)if(parseInt(n[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(n[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0}function wt(t){if(void 0===t)return"";for(var e=t.toLowerCase().replace("0x",""),n=z(e),r="0x",o=0;o<e.length;o++)parseInt(n[o],16)>7?r+=e[o].toUpperCase():r+=e[o];return r}function bt(t){if(!Array.isArray(t))throw new Error("Value was not an array: ".concat(JSON.stringify(t)));return t}function kt(t){return mt(t)?t:/^[0-9a-f]{40}$/.test(t)?"0x"+t:"0x"+V(ut(t).substr(2),40)}function _t(t){return t instanceof R}function xt(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name}function Ft(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t}function Nt(t){return"boolean"==typeof t}function At(t){return Array.isArray(t)}function Tt(e,n){if(!e)throw new Error("jsonrpc method should be specified!");if("string"!=typeof e)throw new Error("jsonrpc must be a string, got ".concat(typeof e,"!"));return t.messageId++,{jsonrpc:"2.0",id:t.messageId,method:e,params:n||[]}}function Bt(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!!t&&!("error"in t)&&"2.0"===t.jsonrpc&&"number"==typeof t.id&&void 0!==t.result}}function Et(t){return lt(t)}function Ot(t){return"latest"===t||"pending"===t||"earliest"===t}function St(t){return void 0===t?"latest":Ct(t)}function Ct(t){return null==t?null:Ot(t)?t:ut(t)}function Pt(t){return t.from&&(t.from=qt(t.from)),t.to&&(t.to=qt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=st(t.gasPrice)),void 0!==t.gas&&(t.gas=st(t.gas)),void 0!==t.value&&(t.value=st(t.value)),void 0!==t.nonce&&(t.nonce=st(t.nonce)),t.data&&!t.data.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data="0x"+t.data),t}function It(t){if("string"!=typeof t)throw new Error("The provided input for transactionId is not a string, got: "+JSON.stringify(t));if(0!==t.indexOf("0x"))throw new Error("TransactionID must start with 0x, got: "+JSON.stringify(t));if(66!==t.length)throw new Error("TransactionID must be a 32 byte hex, got: "+JSON.stringify(t));return t}function Rt(t){if("object"!=typeof t)throw new Error("Did not provide transaction options");if(!t.from)throw new Error('Missing "from" in transaction options');return t.from=qt(t.from),t.to&&(t.to=qt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=st(t.gasPrice)),void 0!==t.gas&&(t.gas=st(t.gas)),void 0!==t.value&&(t.value=st(t.value)),void 0!==t.nonce&&(t.nonce=st(t.nonce)),t.data&&!t.data.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data="0x"+t.data),t}function Mt(t){return t?(null!==t.blockNumber&&(t.blockNumber=nt(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=nt(t.transactionIndex)),t.nonce=nt(t.nonce),t.gas=nt(t.gas),t.gasPrice=lt(t.gasPrice),t.value=lt(t.value),t):null}function jt(t){return t?(null!==t.blockNumber&&(t.blockNumber=nt(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=nt(t.transactionIndex)),t.cumulativeGasUsed=nt(t.cumulativeGasUsed),t.gasUsed=nt(t.gasUsed),t.logs&&At(t.logs)&&(t.logs=t.logs.map((function(t){return Dt(t)}))),t.status=nt(t.status||""),t):null}function Ut(t){return t?(t.gasLimit=nt(t.gasLimit),t.gasUsed=nt(t.gasUsed),t.size=nt(t.size),t.timestamp=nt(t.timestamp),null!==t.number&&(t.number=nt(t.number)),t.difficulty=lt(t.difficulty),t.totalDifficulty=lt(t.totalDifficulty),At(t.transactions)&&t.transactions.forEach((function(e,n){xt(e)||(t.transactions[n]=Mt(e)||t.transactions[n])})),t):null}function Dt(t){return t?(t.blockNumber&&(t.blockNumber=nt(t.blockNumber)),t.transactionIndex&&(t.transactionIndex=nt(t.transactionIndex)),t.logIndex&&(t.logIndex=nt(t.logIndex)),t):t}function qt(t){if(mt(t))return t;if(yt(t))return"0x"+t;throw new Error("Invalid address: ".concat(JSON.stringify(t)))}function Ht(t){return t}function Lt(t){return t?(t.startingBlock=nt(t.startingBlock),t.currentBlock=nt(t.currentBlock),t.highestBlock=nt(t.highestBlock),t.knownStates&&(t.knownStates=nt(t.knownStates),t.pulledStates=nt(t.pulledStates)),t):t}function Gt(t){if(null===t)throw H("cannot convert null value to array",q,{arg:"value",value:t});if(t instanceof Uint8Array)return new Uint8Array(t);if("string"==typeof t){var e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw H("invalid hexidecimal string",q,{arg:"value",value:t});if("0x"!==e[1])throw H("hex string must have 0x prefix",q,{arg:"value",value:t});(t=t.substring(2)).length%2&&(t="0"+t);for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substr(r,2),16));return new Uint8Array(n)}if(function(t){if(!t||parseInt(String(t.length))!==t.length||"string"==typeof t)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>=256||parseInt(String(n))!==n)return!1}return!0}(t))return new Uint8Array(t);throw H("invalid arrayify value",void 0,{arg:"value",value:t,type:typeof t})}function zt(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}t.TransactionStatus=void 0,(J=t.TransactionStatus||(t.TransactionStatus={})).pending="pending",J.confirmed="confirmed",J.failed="failed",t.TransactionType=void 0,($=t.TransactionType||(t.TransactionType={})).queued="queued",$.dropped="dropped",$.replaced="replaced",$.pending="pending",$.reverted="reverted",$.confirmed="confirmed",t.messageId=0;var Jt=new R(-1),$t=new R(0),Wt=new R(1),Vt=new R("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Kt(t){return function(t,e){function n(e){return new Error('unexpected character "'+t[e]+'" at position '+e+' in "'+t+'"')}for(var r={type:"",name:"",state:{allowType:!0}},o=r,i=0;i<t.length;i++){var a=t[i];switch(a){case"(":if(!o.state.allowParams)throw n(i);o.state.allowType=!1,o.type=Zt(o.type),o.components=[{type:"",name:"",parent:o,state:{allowType:!0}}],o=o.components[0];break;case")":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=Zt(o.type);var s=o;if(!(o=o.parent))throw n(i);delete s.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=Zt(o.type);var u={type:"",name:"",parent:o.parent,state:{allowType:!0}};o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&""!==o.type&&(o.type=Zt(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&(e&&"indexed"===o.name?(o.indexed=!0,o.name=""):o.state.allowName=!1);break;case"[":if(!o.state.allowArray)throw n(i);o.type+=a,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":if(!o.state.readArray)throw n(i);o.type+=a,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:if(o.state.allowType)o.type+=a,o.state.allowParams=!0,o.state.allowArray=!0;else if(o.state.allowName)o.name+=a,delete o.state.allowArray;else{if(!o.state.readArray)throw n(i);o.type+=a}}}if(o.parent)throw new Error("unexpected eof");return delete r.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),r.type=Zt(r.type),r}(t,!0)}function Zt(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var Yt=new RegExp(/^bytes([0-9]*)$/),Xt=new RegExp(/^(u?int)([0-9]*)$/),Qt=new RegExp(/^(.*)\[([0-9]*)\]$/),te=function(t,e){var n=t.match(Xt);return n&&parseInt(n[2])<=48?e.toNumber():e},ee=f((function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;h(this,t),this.coerceFunc=e,this.name=n,this.type=r,this.localName=o,this.dynamic=i})),ne=function(t){u(n,t);var e=p(n);function n(t){var r;return h(this,n),r=e.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic),zt(s(r),"coder",t),r}return f(n,[{key:"encode",value:function(t){return this.coder.encode(t)}},{key:"decode",value:function(t,e){return this.coder.decode(t,e)}}]),n}(ee),re=function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,"null","",r,!1)}return f(n,[{key:"encode",value:function(t){return Gt([])}},{key:"decode",value:function(t,e){if(e>t.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}}}]),n}(ee);function oe(t,e){return new R(t.toString(2).substr(-e),2)}var ie=function(t){u(r,t);var n=p(r);function r(t,e,o,i){var a;h(this,r);var s=(o?"int":"uint")+8*e;return(a=n.call(this,t,s,s,i,!1)).size=e,a.signed=o,a}return f(r,[{key:"encode",value:function(t){try{var n=lt(t);if(this.signed){var r=oe(Vt,8*this.size-1);if(n.gt(r))throw new Error("out-of-bounds");if(r=r.plus(Wt).multipliedBy(Jt),n.lt(r))throw new Error("out-of-bounds")}else if(n.lt($t)||n.gt(oe(Vt,8*this.size)))throw new Error("out-of-bounds");n=oe(ht(n,8*this.size),8*this.size),this.signed&&(n=ht(gt(n,8*this.size),256));var o=V(ht(n).toString(16),64);if(-1!==o.indexOf("NaN"))throw H("invalid number value, NaN",q,{arg:this.localName,coderType:this.name,value:t,v:n,twosComplement:ht(n),twosComplement16:ht(n).toString(16),pad:V(ht(n).toString(16),64),size:this.size});return L(o)}catch(e){throw H("invalid number value",q,{arg:this.localName,coderType:this.name,value:t,message:e.toString()})}}},{key:"decode",value:function(t,e){if(t.length<e+32)throw H("insufficient data for "+this.name+" type",q,{arg:this.localName,coderType:this.name,value:ut(t.slice(e,e+32))});var n=32-this.size,r=new R(G(t.slice(e+n,e+32)),16);return r=this.signed?gt(r,8*this.size):oe(r,8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}}}]),r}(ee),ae=new ie((function(t,e){return e}),32,!1,"none"),se=function(t){u(n,t);var e=p(n);function n(t,r,o){var i;h(this,n);var a="bytes"+r;return(i=e.call(this,t,a,a,o,!1)).length=r,i}return f(n,[{key:"encode",value:function(t){var e=new Uint8Array(32);try{if("string"==typeof t&&t.length%2!=0)throw new Error("hex string cannot be odd-length");var n=Gt(t);if(n.length>this.length)throw new Error("incorrect data length");e.set(n)}catch(e){throw H("invalid "+this.name+" value. Use hex strings or Uint8Array",q,{arg:this.localName,coderType:this.name,value:e.value||t,details:e.message})}return e}},{key:"decode",value:function(t,e){if(t.length<e+32)throw H("insufficient data for "+this.name+" type",q,{arg:this.localName,coderType:this.name,value:ut(t.slice(e,e+32))});return{consumed:32,value:this.coerceFunc(this.name,t.slice(e,e+this.length))}}}]),n}(ee);function ue(t){var e=32*Math.ceil(t.length/32),n=new Uint8Array(e-t.length);return Y(ae.encode(t.length),t,n)}function ce(t,e,n){if(t.length<e+32)throw H("insufficient data for dynamicBytes length",q,{arg:n,coderType:"dynamicBytes",value:ut(t.slice(e,e+32))});var r=ae.decode(t,e).value;try{r=r.toNumber()}catch(t){throw t("dynamic bytes count too large",q,{arg:n,coderType:"dynamicBytes",value:r.toString()})}if(t.length<e+32+r)throw H("insufficient data for dynamicBytes type",q,{arg:n,coderType:"dynamicBytes",value:ut(t.slice(e,e+32+r))});return{consumed:32+32*Math.ceil(r/32),value:t.slice(e+32,e+32+r)}}function le(t){return 32*Math.ceil(t/32)}function fe(t,e){if(Array.isArray(e));else{if(!e||"object"!=typeof e)throw H("invalid tuple value",q,{coderType:"tuple",value:e});var n=[];t.forEach((function(t){n.push(e[t.localName])})),e=n}if(t.length!==e.length)throw H("types/value length mismatch",q,{coderType:"tuple",value:e});var r=[];t.forEach((function(t,n){r.push({dynamic:t.dynamic,value:t.encode(e[n])})}));var o=0,i=0;r.forEach((function(t){t.dynamic?(o+=32,i+=le(t.value.length)):o+=le(t.value.length)}));var a=0,s=o,u=new Uint8Array(o+i);return r.forEach((function(t){t.dynamic?(u.set(ae.encode(s),a),a+=32,u.set(t.value,s),s+=le(t.value.length)):(u.set(t.value,a),a+=le(t.value.length))})),u}var he=function(t){u(n,t);var e=p(n);function n(){return h(this,n),e.apply(this,arguments)}return f(n)}(a(Array)),pe=function(t){u(n,t);var e=p(n);function n(t,r,o,i){var a;return h(this,n),(a=e.call(this,t,"array",r.type+"["+(o>=0?o:"")+"]",i,-1===o||r.dynamic)).coder=r,a.length=o,a}return f(n,[{key:"encode",value:function(t){if(!Array.isArray(t))throw H("expected array value",q,{arg:this.localName,coderType:"array",value:t});var e=this.length,n=new Uint8Array(0);-1===e&&(e=t.length,n=ae.encode(e)),function(t,e,n){if(n||(n=""),t<e)throw H("missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e});if(t>e)throw H("too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}(e,t.length,"in coder array"+(this.localName?" "+this.localName:""));for(var r=[],o=0;o<t.length;o++)r.push(this.coder);return Y(n,fe(r,t))}},{key:"decode",value:function(t,e){var n=0,r=this.length;if(-1===r){var o;try{o=ae.decode(t,e)}catch(t){throw H("insufficient data for dynamic array length",q,{arg:this.localName,coderType:"array",value:t.value})}try{r=o.value.toNumber()}catch(t){throw H("array count too large",q,{arg:this.localName,coderType:"array",value:o.value.toString()})}n+=o.consumed,e+=o.consumed}for(var i=[],a=0;a<r;a++)i.push(new ne(this.coder));var s=function(t,e,n){var r=n,o=0,i=[];return t.forEach((function(t){var a;if(t.dynamic){var s=ae.decode(e,n);(a=t.decode(e,r+s.value.toNumber())).consumed=s.consumed}else a=t.decode(e,n);void 0!==a.value&&i.push(a.value),n+=a.consumed,o+=a.consumed})),{value:i,consumed:o}}(i,t,e);return s.consumed+=n,s.value=this.coerceFunc(this.type,s.value),s}}]),n}(ee),de=function(t){u(n,t);var e=p(n);function n(t,r,o){var i;h(this,n);var a=!1,s=[];return r.forEach((function(t){t.dynamic&&(a=!0),s.push(t.type)})),(i=e.call(this,t,"tuple","tuple("+s.join(",")+")",o,a)).coders=r,i}return f(n,[{key:"encode",value:function(t){return fe(this.coders,t)}},{key:"decode",value:function(t,e){var n=function(t,e,n){var r=n,o=0,i=new he;return t.forEach((function(t){var a;if(t.dynamic){var s=ae.decode(e,n);(a=t.decode(e,r+s.value.toNumber())).consumed=s.consumed}else a=t.decode(e,n);void 0!==a.value&&i.push(a.value),n+=a.consumed,o+=a.consumed})),t.forEach((function(t,e){var n=t.localName;n&&("length"===n&&(n="_length"),null!==i[n]&&void 0!==i[n]||(i[n]=i[e]))})),{value:i,consumed:o}}(this.coders,t,e);return n.value=this.coerceFunc(this.type,n.value),n}}]),n}(ee),ge={address:function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,"address","address",r,!1)}return f(n,[{key:"encode",value:function(t){var e=new Uint8Array(32),n=t.trim();if(!yt(n))throw H("invalid address format",q,{arg:this.localName,coderType:"address",value:t});try{e.set(L(qt(n)),12)}catch(e){throw H("invalid address (".concat(e.message,")"),q,{arg:this.localName,coderType:"address",value:t})}return e}},{key:"decode",value:function(t,e){if(t.length<e+32)throw H("insufficuent data for address type",q,{arg:this.localName,coderType:"address",value:ut(t.slice(e,e+32)),missingBytes:e+32-t.length});return{consumed:32,value:this.coerceFunc("address",dt(ut(t.slice(e+12,e+32))))}}}]),n}(ee),bool:function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,"bool","bool",r,!1)}return f(n,[{key:"encode",value:function(t){return ae.encode(t?1:0)}},{key:"decode",value:function(t,e){try{var n=ae.decode(t,e);return{consumed:n.consumed,value:this.coerceFunc("bool",!n.value.isZero())}}catch(t){if("insufficient data for uint256 type"===t.reason)throw H("insufficient data for boolean type",q,{arg:this.localName,coderType:"boolean",value:t.value});throw t}}}]),n}(ee),string:function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,"string","string",r,!0)}return f(n,[{key:"encode",value:function(t){if("string"!=typeof t)throw H("invalid string value",q,{arg:this.localName,coderType:"string",value:t});return ue(j(t))}},{key:"decode",value:function(t,e){var n=ce(t,e,this.localName);return n.value=this.coerceFunc("string",U(n.value)),n}}]),n}(ee),bytes:function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,"bytes","bytes",r,!0)}return f(n,[{key:"encode",value:function(t){try{return ue(Gt(t))}catch(t){throw t("invalid bytes value",q,{arg:this.localName,coderType:"bytes",value:t.value})}}},{key:"decode",value:function(t,e){var n=ce(t,e,this.localName);return n.value=this.coerceFunc("bytes",n.value),n}}]),n}(ee),function:function(t){u(n,t);var e=p(n);function n(t,r){return h(this,n),e.call(this,t,24,r)}return f(n)}(se)};function me(t,e){var n=ge[e.type];if(n)return new n(t,e.name);var r=e.type.match(Xt);if(r){var o=parseInt(r[2]||"256");if(0===o||o>256||o%8!=0)throw H("invalid "+r[1]+" bit length",q,{arg:"param",value:e});return new ie(t,o/8,"int"===r[1],e.name)}if(r=e.type.match(Yt)){var i=parseInt(r[1]);if(0===i||i>32)throw H("invalid bytes length",q,{arg:"param",value:e});return new se(t,i,e.name)}if(r=e.type.match(Qt)){var a=Object.assign({},e),s=parseInt(r[2]||"-1");return a.type=r[1],new pe(t,me(t,a),s,e.name)}if("tuple"===e.type.substring(0,5))return function(t,e,n){e||(e=[]);var r=e.map((function(e){return me(t,e)}));return new de(t,r,n)}(t,e.components,e.name);if(""===e.type)return new re(t,e.name);throw H("invalid type",q,{arg:"type",value:e.type,fullType:e})}var ye,ve,we=function(){function t(e){h(this,t),function(t,e){if(!(t instanceof e))throw H("missing new","MISSING_NEW",{name:e.name})}(this,t),e||(e=te),zt(this,"coerceFunc",e)}return f(t,[{key:"encode",value:function(t,e){var n=this;if(t.length!==e.length)throw H("types/values length mismatch",q,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var r=t.map((function(t){return"string"==typeof t?Kt(t):t})).map((function(t){return me(n.coerceFunc,t)}));return new de(this.coerceFunc,r,"_").encode(e)}},{key:"decode",value:function(t,e){var n=this,r=t.map((function(t){return"string"==typeof t?Kt(t):t})).map((function(t){return me(n.coerceFunc,t)}));return new de(this.coerceFunc,r,"_").decode(e,0).value}}]),t}(),be=new we;function ke(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function _e(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}t.coder=void 0,(ye=t.coder||(t.coder={})).encodeParams=function(t,e){return G(be.encode(t,e))},ye.decodeParams=function(t,e){if(t.length>0&&(!e||"0x"===e||"0X"===e))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return be.decode(t,L("0x"+e.replace(/0x/i,"")))},"function"==typeof SuppressedError&&SuppressedError;var xe=function(){function t(e){h(this,t),this.callName=e.callName,this.params=e.params||0,this.inputFormatter=e.inputFormatter||null,this.outputFormatter=e.outputFormatter}return f(t,[{key:"validateArgs",value:function(t){if(t.length!==this.params)throw e=this.callName,n=t.length,r=this.params,new Error('Invalid number of input parameters to RPC method "'.concat(e,'" given: ').concat(n,", expected: ").concat(r));var e,n,r}},{key:"formatInput",value:function(t){return this.inputFormatter?this.inputFormatter.map((function(e,n){return e?e(t[n]):t[n]})):t}},{key:"formatOutput",value:function(t){return null!==t?this.outputFormatter(t):null}},{key:"toPayload",value:function(t){var e=this.formatInput(t);return this.validateArgs(e),{method:this.callName,params:e}}},{key:"execute",value:function(){var t=i(o.mark((function t(e){var n,r,i,a,s,u=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=u.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=u[i];if(a=this.toPayload(r),e){t.next=4;break}throw new Error("Missing RequestManager in method#exec");case 4:return t.next=6,e.sendAsync(a);case 6:return s=t.sent,t.abrupt("return",this.formatOutput(s));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),Fe=function(){function t(e){h(this,t),this.getter=e.getter,this.outputFormatter=e.outputFormatter}return f(t,[{key:"formatOutput",value:function(t){return this.outputFormatter(t)}},{key:"execute",value:function(){var t=i(o.mark((function t(e){var n;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendAsync({method:this.getter,params:[]});case 2:return n=t.sent,t.abrupt("return",this.formatOutput(n));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();function Ne(t){return new Promise((function(e){return setTimeout(e,t)}))}function Ae(e,n){var r=t.eth[n];if(!r)throw new Error("Could not find the method/property named ".concat(n.toString()));Object.defineProperty(e,n,{value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.execute.apply(r,[this].concat(e))}})}t.eth=void 0,(ve=t.eth||(t.eth={})).eth_getBalance=new xe({callName:"eth_getBalance",params:2,inputFormatter:[qt,St],outputFormatter:Et}),ve.eth_getStorageAt=new xe({callName:"eth_getStorageAt",params:3,inputFormatter:[qt,ut,St],outputFormatter:ot}),ve.eth_getCode=new xe({callName:"eth_getCode",params:2,inputFormatter:[qt,St],outputFormatter:ot}),ve.eth_getBlockByHash=new xe({callName:"eth_getBlockByHash",params:2,inputFormatter:[Ct,function(t){return!!t}],outputFormatter:Ut}),ve.eth_getBlockByNumber=new xe({callName:"eth_getBlockByNumber",params:2,inputFormatter:[Ct,function(t){return!!t}],outputFormatter:Ut}),ve.eth_getUncleByBlockHashAndIndex=new xe({callName:"eth_getUncleByBlockHashAndIndex",params:2,inputFormatter:[Ct,ut],outputFormatter:Ut}),ve.eth_getUncleByBlockNumberAndIndex=new xe({callName:"eth_getUncleByBlockNumberAndIndex",params:2,inputFormatter:[Ct,ut],outputFormatter:Ut}),ve.eth_getBlockTransactionCountByHash=new xe({callName:"eth_getBlockTransactionCountByHash",params:1,inputFormatter:[Ct],outputFormatter:nt}),ve.eth_getBlockTransactionCountByNumber=new xe({callName:"eth_getBlockTransactionCountByNumber",params:1,inputFormatter:[Ct],outputFormatter:nt}),ve.eth_getUncleCountByBlockHash=new xe({callName:"eth_getUncleCountByBlockHash",params:1,inputFormatter:[Ct],outputFormatter:nt}),ve.eth_getUncleCountByBlockNumber=new xe({callName:"eth_getUncleCountByBlockNumber",params:1,inputFormatter:[Ct],outputFormatter:nt}),ve.eth_getTransactionByHash=new xe({callName:"eth_getTransactionByHash",params:1,inputFormatter:[It],outputFormatter:Mt}),ve.eth_getTransactionByBlockHashAndIndex=new xe({callName:"eth_getTransactionByBlockHashAndIndex",params:2,inputFormatter:[Ct,ut],outputFormatter:Mt}),ve.eth_getTransactionByBlockNumberAndIndex=new xe({callName:"eth_getTransactionByBlockNumberAndIndex",params:2,inputFormatter:[Ct,ut],outputFormatter:Mt}),ve.eth_getTransactionReceipt=new xe({callName:"eth_getTransactionReceipt",params:1,inputFormatter:[It],outputFormatter:jt}),ve.eth_getTransactionCount=new xe({callName:"eth_getTransactionCount",params:2,inputFormatter:[qt,St],outputFormatter:nt}),ve.eth_sendRawTransaction=new xe({callName:"eth_sendRawTransaction",params:1,inputFormatter:[null],outputFormatter:ot}),ve.web3_sha3=new xe({callName:"web3_sha3",params:1,inputFormatter:[null],outputFormatter:ot}),ve.eth_sendTransaction=new xe({callName:"eth_sendTransaction",params:1,inputFormatter:[Rt],outputFormatter:ot}),ve.eth_sign=new xe({callName:"eth_sign",params:2,inputFormatter:[qt,null],outputFormatter:ot}),ve.eth_call=new xe({callName:"eth_call",params:2,inputFormatter:[Pt,St],outputFormatter:ot}),ve.eth_estimateGas=new xe({callName:"eth_estimateGas",params:1,inputFormatter:[Pt],outputFormatter:nt}),ve.eth_submitWork=new xe({callName:"eth_submitWork",params:3,inputFormatter:[null,null,null],outputFormatter:at}),ve.eth_getWork=new xe({callName:"eth_getWork",params:0,inputFormatter:[],outputFormatter:bt}),ve.eth_coinbase=new Fe({getter:"eth_coinbase",outputFormatter:kt}),ve.eth_mining=new Fe({getter:"eth_mining",outputFormatter:at}),ve.eth_hashrate=new Fe({getter:"eth_hashrate",outputFormatter:nt}),ve.eth_syncing=new Fe({getter:"eth_syncing",outputFormatter:Lt}),ve.eth_gasPrice=new Fe({getter:"eth_gasPrice",outputFormatter:Et}),ve.eth_accounts=new Fe({getter:"eth_accounts",outputFormatter:bt}),ve.eth_blockNumber=new Fe({getter:"eth_blockNumber",outputFormatter:nt}),ve.eth_protocolVersion=new Fe({getter:"eth_protocolVersion",outputFormatter:nt}),ve.web3_clientVersion=new Fe({getter:"web3_clientVersion",outputFormatter:rt}),ve.net_version=new Fe({getter:"net_version",outputFormatter:rt}),ve.shh_version=new xe({callName:"shh_version",params:0,inputFormatter:[],outputFormatter:nt}),ve.shh_post=new xe({callName:"shh_post",params:1,inputFormatter:[null],outputFormatter:at}),ve.personal_newAccount=new xe({callName:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:kt}),ve.personal_importRawKey=new xe({callName:"personal_importRawKey",params:2,inputFormatter:[null,null],outputFormatter:kt}),ve.personal_sign=new xe({callName:"personal_sign",params:3,inputFormatter:[it,qt,null],outputFormatter:ot}),ve.personal_ecRecover=new xe({callName:"personal_ecRecover",params:2,inputFormatter:[it,null],outputFormatter:kt}),ve.personal_unlockAccount=new xe({callName:"personal_unlockAccount",params:3,inputFormatter:[qt,null,et],outputFormatter:at}),ve.personal_sendTransaction=new xe({callName:"personal_sendTransaction",params:2,inputFormatter:[Rt,null],outputFormatter:ot}),ve.personal_lockAccount=new xe({callName:"personal_lockAccount",params:1,inputFormatter:[qt],outputFormatter:at}),ve.personal_listAccounts=new Fe({getter:"personal_listAccounts",outputFormatter:bt}),ve.net_listening=new Fe({getter:"net_listening",outputFormatter:at}),ve.net_peerCount=new Fe({getter:"net_peerCount",outputFormatter:nt}),ve.eth_newFilter=new xe({callName:"eth_newFilter",params:1,inputFormatter:[Ht],outputFormatter:ut}),ve.eth_getLogs=new xe({callName:"eth_getLogs",params:1,inputFormatter:[bt],outputFormatter:bt}),ve.eth_newBlockFilter=new xe({callName:"eth_newBlockFilter",params:0,inputFormatter:[],outputFormatter:ut}),ve.eth_newPendingTransactionFilter=new xe({callName:"eth_newPendingTransactionFilter",params:0,inputFormatter:[],outputFormatter:ut}),ve.eth_uninstallFilter=new xe({callName:"eth_uninstallFilter",params:1,inputFormatter:[ut],outputFormatter:at}),ve.eth_getFilterLogs=new xe({callName:"eth_getFilterLogs",params:1,inputFormatter:[ut],outputFormatter:bt}),ve.eth_getFilterChanges=new xe({callName:"eth_getFilterChanges",params:1,inputFormatter:[ut],outputFormatter:bt}),ve.eth_submitHashrate=new xe({callName:"eth_submitHashrate",params:2,inputFormatter:[null,null],outputFormatter:at}),ve.shh_newIdentity=new xe({callName:"shh_newIdentity",params:0,inputFormatter:[],outputFormatter:ot}),ve.shh_hasIdentity=new xe({callName:"shh_hasIdentity",params:1,inputFormatter:[null],outputFormatter:at}),ve.shh_newGroup=new xe({callName:"shh_newGroup",params:0,inputFormatter:[],outputFormatter:ot}),ve.shh_addToGroup=new xe({callName:"shh_addToGroup",params:1,inputFormatter:[null],outputFormatter:at}),ve.shh_newFilter=new xe({callName:"shh_newFilter",params:1,inputFormatter:[null],outputFormatter:ut}),ve.shh_uninstallFilter=new xe({callName:"shh_uninstallFilter",params:1,inputFormatter:[null],outputFormatter:at}),ve.shh_getLogs=new xe({callName:"shh_getLogs",params:1,inputFormatter:[null],outputFormatter:bt}),ve.shh_getFilterMessages=new xe({callName:"shh_getFilterMessages",params:1,inputFormatter:[null],outputFormatter:bt}),ve.shh_getFilterChanges=new xe({callName:"shh_getFilterChanges",params:1,inputFormatter:[null],outputFormatter:bt}),ve.shh_getMessages=new xe({callName:"shh_getMessages",params:1,inputFormatter:[null],outputFormatter:bt});var Te=function(){function e(t){h(this,e),this.provider=t,this.requests=new Map}return f(e,[{key:"sendAsync",value:function(){var t=i(o.mark((function t(e){var n,r,i,a=this;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider;case 2:if(n=t.sent){t.next=5;break}throw new Error("Provider not set or invalid");case 5:return r=Tt(e.method,e.params),i=d(),t.abrupt("return",(this.requests.set(r.id,i),n.sendAsync(r,(function(t,e){a.requests.delete(r.id),t?i.reject(t):Bt(e)?i.resolve(e.result):i.reject(function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)}(e))})),i));case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setProvider",value:function(t){this.provider=t}},{key:"getConfirmedTransaction",value:function(){var t=i(o.mark((function t(e){var n;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForCompletion(e);case 2:if(n=t.sent,!this.isFailure(n)){t.next=5;break}throw new Error('Transaction "'.concat(e,'" failed'));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"waitForCompletion",value:function(){var e=i(o.mark((function e(n,r){var i,a,s;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=It(n),e.next=3,this.isTxDropped(i,r);case 3:if(!e.sent){e.next=8;break}return e.next=6,this.getTransactionAndReceipt(i);case 6:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},a),{status:t.TransactionStatus.failed}));case 8:return e.next=10,this.getTransactionAndReceipt(i);case 10:if(s=e.sent,this.isPending(s)||!s.receipt){e.next=13;break}return e.abrupt("return",Object.assign(Object.assign({},s),{status:this.isFailure(s)?t.TransactionStatus.failed:t.TransactionStatus.confirmed}));case 13:return e.next=15,Ne(2e3);case 15:e.next=8;break;case 17:case"end":return e.stop()}}),e,this)})));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"getTransaction",value:function(){var e=i(o.mark((function e(n){var r,i,a,s,u;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,a=It(n),e.prev=2,e.next=5,this.eth_accounts();case 5:if(s=e.sent[0],e.t0=s,!e.t0){e.next=11;break}return e.next=10,this.eth_getTransactionCount(s,"latest");case 10:i=e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(2),i=null;case 16:return e.prev=16,e.next=19,this.eth_getTransactionByHash(a);case 19:if(null!==(r=e.sent)){e.next=22;break}return e.abrupt("return",null);case 22:e.next=27;break;case 24:return e.prev=24,e.t2=e.catch(16),e.abrupt("return",null);case 27:if(null!==r.blockNumber){e.next=34;break}if(null===i){e.next=33;break}if(!(r.nonce<i)){e.next=31;break}return e.abrupt("return",{hash:a,type:t.TransactionType.replaced,nonce:r.nonce});case 31:if(!(r.nonce>i)){e.next=33;break}return e.abrupt("return",{hash:a,type:t.TransactionType.queued,nonce:r.nonce});case 33:return e.abrupt("return",Object.assign({type:t.TransactionType.pending},r));case 34:return e.prev=34,e.next=37,this.eth_getTransactionReceipt(a);case 37:if(null!==(u=e.sent)&&0!==u.status){e.next=40;break}return e.abrupt("return",Object.assign({type:t.TransactionType.reverted},r));case 40:e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(34),e.abrupt("return",null);case 45:return e.abrupt("return",Object.assign(Object.assign({type:t.TransactionType.confirmed},r),{receipt:u}));case 46:case"end":return e.stop()}}),e,this,[[2,13],[16,24],[34,42]])})));function n(t){return e.apply(this,arguments)}return n}()},{key:"isTxDropped",value:function(){var t=i(o.mark((function t(e){var n,r,i=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:15,r=n;case 2:if(!(r>0)){t.next=13;break}return t.next=5,this.getTransactionAndReceipt(e);case 5:if(t.t0=t.sent,null===t.t0){t.next=8;break}return t.abrupt("return",!1);case 8:return r-=1,t.next=11,Ne(2e3);case 11:t.next=2;break;case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTransactionAndReceipt",value:function(){var t=i(o.mark((function t(e){var n,i,a,s;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=It(e),t.next=3,Promise.all([this.eth_getTransactionByHash(e),this.eth_getTransactionReceipt(e)]);case 3:return n=t.sent,i=r(n,2),a=i[0],s=i[1],t.abrupt("return",Object.assign(Object.assign({},a),{receipt:s}));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isPending",value:function(t){return t&&null===t.blockNumber}},{key:"isFailure",value:function(t){return t&&(!t.receipt||0===t.receipt.status)}}]),e}();ke([Ae,_e("design:type",Function)],Te.prototype,"web3_clientVersion",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"web3_sha3",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"net_version",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"net_peerCount",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"net_listening",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_protocolVersion",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_syncing",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_coinbase",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_mining",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_hashrate",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_gasPrice",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_accounts",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_blockNumber",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getBalance",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getStorageAt",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getTransactionCount",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getBlockTransactionCountByHash",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getBlockTransactionCountByNumber",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getUncleCountByBlockHash",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getUncleCountByBlockNumber",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getCode",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_sign",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_sendTransaction",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_sendRawTransaction",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_call",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_estimateGas",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getBlockByHash",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getBlockByNumber",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getTransactionByHash",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getTransactionByBlockHashAndIndex",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getTransactionByBlockNumberAndIndex",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getTransactionReceipt",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getUncleByBlockHashAndIndex",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getUncleByBlockNumberAndIndex",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_newFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_newBlockFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_newPendingTransactionFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_uninstallFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getFilterChanges",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getFilterLogs",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getLogs",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_getWork",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_submitWork",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"eth_submitHashrate",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_post",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_version",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_newIdentity",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_hasIdentity",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_newGroup",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_addToGroup",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_newFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_uninstallFilter",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_getFilterChanges",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"shh_getMessages",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_unlockAccount",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_newAccount",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_listAccounts",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_lockAccount",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_importRawKey",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_sendTransaction",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_sign",void 0),ke([Ae,_e("design:type",Function)],Te.prototype,"personal_ecRecover",void 0);var Be=function(){function e(t){h(this,e),this.json=t,this._inputTypes=t.inputs||[],this._outputTypes=t.outputs||[],this._constant=!!t.constant,this._payable=!!t.payable||"payable"===t.stateMutability,this.needsToBeTransaction=this._payable||"constant"in t&&!t.constant||"nonpayable"===t.stateMutability,this._name=Z(t)}return f(e,[{key:"extractDefaultBlock",value:function(t){return t.length>this._inputTypes.length&&!Ft(t[t.length-1])&&St(t.pop())||"latest"}},{key:"validateArgs",value:function(t){if(t.some((function(t){return void 0===t})))throw new Error("Invalid call, some arguments are undefined");var e,n,r=t.filter((function(t){return!(!0===Ft(t)&&!1===At(t)&&!1===_t(t)&&!(t instanceof Uint8Array))}));if(r.length!==this._inputTypes.length)throw e=r.length,n=this._inputTypes.length,new Error("Invalid number of arguments to Solidity function. given: ".concat(e,", expected: ").concat(n))}},{key:"toPayload",value:function(e){var n={to:void 0,data:void 0,value:void 0,from:void 0};e.length>this._inputTypes.length&&Ft(e[e.length-1])&&(n=e.pop()),this.validateArgs(e);var r=this.signature(),o=t.coder.encodeParams(this._inputTypes,e);return 0===o.indexOf("0x")&&(o=o.substr(2)),n.data="0x"+r+o,n}},{key:"signature",value:function(){return z(this._name).slice(0,8)}},{key:"unpackOutput",value:function(e){if(e){var n=e.length>=2?e.slice(2):e,r=t.coder.decodeParams(this._outputTypes,n);return 1===r.length?r[0]:r}}},{key:"execute",value:function(){var t=i(o.mark((function t(e,n){var r,i,a,s,u,c,l,f=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Cannot call function ".concat(this.displayName()," because there is no requestManager"));case 2:for(r=f.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=f[a];if(!this.needsToBeTransaction){t.next=12;break}if((s=this.toPayload(i)).to=n,!(s.value>0)||this._payable){t.next=7;break}throw new Error("Cannot send value to non-payable function");case 7:if(s.from){t.next=9;break}throw new Error('Missing "from" in transaction options');case 9:return t.next=11,e.eth_sendTransaction(s);case 11:return t.abrupt("return",t.sent);case 12:return u=this.extractDefaultBlock(i),(c=this.toPayload(i)).to=n,t.next=16,e.eth_call(c,u);case 16:return l=t.sent,t.abrupt("return",this.unpackOutput(l));case 18:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"estimateGas",value:function(t,e){if(!(t instanceof Te))throw new Error("estimateGas needs to receive a RequestManager as first argument");for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this.toPayload(r);return i.to=e,t.eth_estimateGas(i)}},{key:"displayName",value:function(){return Q(this._name)}},{key:"typeName",value:function(){return tt(this._name)||"void"}},{key:"attachToContract",value:function(t){var e=this,n=this.displayName(),r=Object.assign((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.execute.apply(e,[t.requestManager,t.address].concat(r))}),{estimateGas:this.estimateGas.bind(this,t.requestManager,t.address),toPayload:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.toPayload(n)},toRPCMessage:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=e.extractDefaultBlock(r),a=e.toPayload(r);return a.to=t.address,{method:"eth_call",params:[a,i]}},unpackOutput:function(t){return e.unpackOutput(t)}});t[n]||(t[n]=r),t[n][this.typeName()]=r}}]),e}();function Ee(t){if(null==t)return null;var e=String(t).toString();return 0===e.indexOf("0x")?e:G(j(e))}var Oe=function(){function t(e){h(this,t),this.requestManager=e,this.isStarted=!1,this.isDisposed=!1,this.formatter=function(t){return t},this.filterId=d(),this.callbacks=[],this.stopSemaphore=d()}return f(t,[{key:"watch",value:function(){var t=i(o.mark((function t(e){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDisposed){t.next=2;break}throw new Error("The filter was disposed");case 2:if(t.t0=e,!t.t0){t.next=9;break}if(this.callbacks.push(e),t.t1=this.isStarted,t.t1){t.next=9;break}return t.next=9,this.start();case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"start",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDisposed){t.next=2;break}throw new Error("The filter was disposed");case 2:if(this.isStarted){t.next=19;break}return this.isStarted=!0,t.prev=4,t.next=7,this.getNewFilter();case 7:if(e=t.sent){t.next=10;break}throw new Error("Could not create a filter, response: "+JSON.stringify(e));case 10:this.filterId.resolve(e),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(4),t.t0;case 16:return this.stopSemaphore=d(),t.next=19,this.poll();case 19:case"end":return t.stop()}}),t,this,[[4,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isStarted){t.next=2;break}return t.abrupt("return");case 2:if(!this.isDisposed){t.next=4;break}return t.abrupt("return");case 4:return this.isDisposed=!0,t.next=7,this.filterId;case 7:if(e=t.sent,this.isStarted=!1,t.t0=this.stopSemaphore,!t.t0){t.next=13;break}return t.next=13,this.stopSemaphore;case 13:return t.t1=!0,t.next=16,this.uninstall();case 16:if(t.t2=t.sent,t.t1===t.t2){t.next=19;break}throw new Error("Couldn't stop the eth filter: ".concat(e));case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"poll",value:function(){var t=i(o.mark((function t(){var e,n,r=this;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStarted){t.next=9;break}if(!this.callbacks.length){t.next=6;break}return t.next=4,this.getChanges();case 4:(e=t.sent)&&this.callbacks.forEach((function(t){r.formatter?e.forEach((function(e){t(r.formatter(e))})):e.forEach((function(e){return t(e)}))}));case 6:this.stopSemaphore.resolve(1),this.isStarted&&(this.stopSemaphore=d(),setTimeout((n=function(){return r.poll()},function(){n().catch((function(t){return console.error(t)}))}),500)),t.next=10;break;case 9:this.stopSemaphore.resolve(1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Se=function(t){u(n,t);var e=p(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return h(this,n),(o=e.call(this,t)).requestManager=t,o.options=r,o.formatter=i,o.options=o.options||{},o.options.topics=o.options.topics||[],o.options.topics=o.options.topics.map((function(t){return Ee(t)})),o.options={topics:o.options.topics,address:o.options.address?o.options.address:void 0,fromBlock:"number"==typeof o.options.fromBlock||"string"==typeof o.options.fromBlock?Ct(o.options.fromBlock)||void 0:"latest",toBlock:"number"==typeof o.options.toBlock||"string"==typeof o.options.toBlock?Ct(o.options.toBlock)||void 0:"latest"},o}return f(n,[{key:"getLogs",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isStarted,t.t0){t.next=4;break}return t.next=4,this.start();case 4:return t.next=6,this.filterId;case 6:return e=t.sent,t.abrupt("return",this.requestManager.eth_getFilterLogs(e));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getNewFilter",value:function(){var t=i(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newFilter(this.options));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getChanges",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.eth_getFilterChanges(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"uninstall",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.eth_uninstallFilter(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Oe),Ce=function(){function e(t,n,r){h(this,e),this.requestManager=t,this.address=r,this._anonymous=!1,this._params=n.inputs||[],this._name=Z(n),this._anonymous=n.anonymous||!1}return f(e,[{key:"types",value:function(t){return this._params.filter((function(e){return e.indexed===t}))}},{key:"displayName",value:function(){return Q(this._name)}},{key:"typeName",value:function(){return tt(this._name)||"void"}},{key:"signature",value:function(){return z(this._name)}},{key:"encode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={topics:[],address:this.address};void 0!==n.fromBlock&&(r.fromBlock=Ct(n.fromBlock)||void 0),void 0!==n.toBlock&&(r.toBlock=Ct(n.toBlock)||void 0),r.topics=r.topics||[],this._anonymous||r.topics.push("0x"+this.signature());var o=this._params.filter((function(t){return!0===t.indexed})).map((function(n){var r=e[n.name];return null==r?null:At(r)?r.map((function(e){return"0x"+t.coder.encodeParams([n],[e])})):"0x"+t.coder.encodeParams([n],[r])}));return r.topics=r.topics.concat(o),r}},{key:"decode",value:function(e){e.data=e.data||"",e.topics=e.topics||[];var n=(this._anonymous?e.topics:e.topics.slice(1)).map((function(t){return t.slice(2)})).join(""),r=t.coder.decodeParams(this.types(!0),n),o=e.data.slice(2),i=t.coder.decodeParams(this.types(!1),o),a=this._params.reduce((function(t,e){return t[e.name]=e.indexed?r.shift():i.shift(),t}),{});return Object.assign(Object.assign({},Dt(e)),{event:this.displayName(),address:e.address,args:a})}},{key:"execute",value:function(){var t=i(o.mark((function t(e,n){var r,i;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.encode(e,n),i=this.decode.bind(this),t.abrupt("return",new Se(this.requestManager,r,i));case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"attachToContract",value:function(t){var e=this.execute.bind(this),n=this.displayName();t.events[n]||(t.events[n]=e),t.events[n][this.typeName()]=this.execute.bind(this,t)}}]),e}(),Pe=function(){function t(e,n,r){h(this,t),this._requestManager=e,this._json=n,this._address=r}return f(t,[{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={address:this._address};return void 0!==t.fromBlock&&(e.fromBlock=Ct(t.fromBlock)||void 0),void 0!==t.toBlock&&(e.toBlock=Ct(t.toBlock)||void 0),e}},{key:"decode",value:function(t){t.data=t.data||"";var e=At(t.topics)&&xt(t.topics[0])?t.topics[0].slice(2):"",n=this._json.filter((function(t){return e===z(Z(t))}))[0];return n?new Ce(this._requestManager,n,this._address).decode(t):Dt(t)}},{key:"execute",value:function(){var t=i(o.mark((function t(e){var n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.encode(e),r=this.decode.bind(this),t.abrupt("return",new Se(this._requestManager,n,r));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAllEventsFunction",value:function(){return this.execute.bind(this)}}]),t}(),Ie=f((function t(e,n,r){var o;h(this,t),this.requestManager=e,this.abi=n,this.address=r,this.events={},this.transactionHash=null,this.address=r,this.abi=n,(o=this).abi.filter((function(t){return"function"===t.type})).map((function(t){return new Be(t)})).forEach((function(t){t.attachToContract(o)})),this.allEvents=function(t){var e=t.abi.filter((function(t){return"event"===t.type})),n=new Pe(t.requestManager,e,t.address);return e.map((function(e){return new Ce(t.requestManager,e,t.address)})).forEach((function(e){e.attachToContract(t)})),n.getAllEventsFunction()}(this)}));t.AbstractFilter=Oe,t.BigNumber=R,t.Contract=Ie,t.ContractFactory=function(){function e(t,n){h(this,e),this.requestManager=t,this.abi=n}return f(e,[{key:"deploy",value:function(){var e=i(o.mark((function e(){var n,r,a,s,u,c,l,f,h,p,g,m=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=m.length,r=new Array(n),a=0;a<n;a++)r[a]=m[a];if(Ft(u=r[r.length-1])&&!At(u)&&(s=r.pop()),s){e.next=4;break}throw new Error("Missing options object");case 4:if(s.data&&"string"==typeof s.data){e.next=6;break}throw new Error("Invalid options.data");case 6:if(!(nt(s.value)>0)){e.next=9;break}if((this.abi.filter((function(t){return"constructor"===t.type&&t.inputs.length===r.length}))[0]||{}).payable){e.next=9;break}throw new Error("Cannot send value to non-payable constructor");case 9:if(l=this.abi,f=r,c=l.filter((function(t){return"constructor"===t.type&&t.inputs&&t.inputs.length===f.length})).map((function(t){return t.inputs||[]})).map((function(e){return t.coder.encodeParams(e,f)}))[0]||"",s.data+=c,e.t0=s.gas,e.t0){e.next=16;break}return e.next=15,this.requestManager.eth_estimateGas(s);case 15:s.gas=e.sent;case 16:return e.next=18,this.requestManager.eth_sendTransaction(s);case 18:if(h=e.sent){e.next=21;break}throw new Error("Error while sending contract creation transaction. A TxHash was not retrieved");case 21:return e.next=23,function(){var t=i(o.mark((function t(e,n){var r,i,a,s;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d(),i=0,function t(){++i>50?r.reject(new Error("Contract transaction couldn't be found after 50 blocks")):e.eth_getTransactionReceipt(n).then((function(e){e&&e.blockHash?r.resolve(e):setTimeout(t,1e3)}),(function(t){return r.reject(t)}))}(),t.next=6,r;case 6:return a=t.sent,t.next=9,e.eth_getCode(a.contractAddress,"latest");case 9:if(!((s=t.sent)&&s.length>3)){t.next=12;break}return t.abrupt("return",a.contractAddress);case 12:throw Object.assign(new Error("The contract code couldn't be stored, please check your gas amount."),{response:s,receipt:a});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(this.requestManager,h);case 23:return p=e.sent,e.next=26,this.at(p);case 26:return g=e.sent,e.abrupt("return",(g.transactionHash=h,g));case 28:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"at",value:function(){var t=i(o.mark((function t(e){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(yt(e)){t.next=2;break}throw new TypeError("Invalid address ".concat(JSON.stringify(e)));case 2:return t.abrupt("return",new Ie(this.requestManager,this.abi,e));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),e}(),t.EthBlockFilter=function(t){u(n,t);var e=p(n);function n(t){return h(this,n),e.call(this,t,{})}return f(n,[{key:"getNewFilter",value:function(){var t=i(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newBlockFilter());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Se),t.EthFilter=Se,t.EthPendingTransactionFilter=function(t){u(n,t);var e=p(n);function n(t){return h(this,n),e.call(this,t,{})}return f(n,[{key:"getNewFilter",value:function(){var t=i(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newPendingTransactionFilter());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Se),t.HTTPProvider=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.host=e,this.options=n,this.debug=!1,this.host=e||"http://localhost:8545"}return f(t,[{key:"send",value:function(){throw new Error("Sync requests are deprecated")}},{key:"sendAsync",value:function(t,n){var r=this;try{var a=null;a=t instanceof Array?t.map((function(t){return e(t)})):e(t);var s=this.options.fetch||globalThis.fetch;if(void 0===s)throw new Error("There is no global fetch object nor it was provided. Please install and import isomorphic-fetch");var u={body:JSON.stringify(a),method:"POST",headers:Object.assign(Object.assign({},this.options.headers),{"Content-Type":"application/json"})};this.debug&&console.log("SEND >> "+u.body),s(this.host,u).then(function(){var t=i(o.mark((function t(e){var i;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=7;break}return t.next=3,e.json();case 3:i=t.sent,r.debug&&console.log("RECV << "+JSON.stringify(i)),i.error?n(Object.assign(new Error(i.error.json||i.error),i.error)):n(null,i),t.next=8;break;case 7:r.debug&&console.log("ERR << "+JSON.stringify(e)),n(new Error("External error. response code: "+e.status));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){r.debug&&console.log("ERR << "+JSON.stringify(t)),n(t)}))}catch(t){this.debug&&console.log("ERR << "+JSON.stringify(t)),n(t)}}}]),t}(),t.Method=xe,t.Property=Fe,t.RequestManager=Te,t.SHHFilter=function(t){u(n,t);var e=p(n);function n(t,r){var o;return h(this,n),(o=e.call(this,t)).requestManager=t,o.options=r,o.options=o.options||{topics:[]},o.options.topics=o.options.topics||[],o.options.topics=o.options.topics.map((function(t){return Ee(t)})),o.options={topics:o.options.topics,to:o.options.to},o}return f(n,[{key:"getMessages",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_getMessages(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getNewFilter",value:function(){var t=i(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.shh_newFilter(this.options));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getChanges",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_getFilterChanges(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"uninstall",value:function(){var t=i(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_uninstallFilter(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Oe),t.SolidityEvent=Ce,t.SolidityFunction=Be,t.WebSocketProvider=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.url=e,this.options=n,this.isDisposed=!1,this.responseCallbacks=new Map,this.notificationCallbacks=new Set,this.debug=!1,this.lastChunk="",this.connect()}return f(t,[{key:"dispose",value:function(){var t=this;this.isDisposed=!0;var e=this.connection;this.timeout(new Error("Provider disposed.")),e.then((function(t){return t.close()})).catch((function(e){t.debug&&console.error(e)}))}},{key:"send",value:function(){throw new Error("Sync requests are deprecated")}},{key:"sendAsync",value:function(t,n){var r,o=this,i=[];if(t instanceof Array)r=Promise.all(t.map((function(t){var n=d();try{var r=e(t);i.push(r),o.responseCallbacks.set(r.id,n)}catch(t){n.reject(t)}return n})));else{var a=d();try{var s=e(t);i.push(s),this.responseCallbacks.set(s.id,a)}catch(t){a.reject(t)}r=a}r.then((function(t){return n(null,t)}),(function(t){return n(t)})),this.connection.then((function(t){i.forEach((function(e){var n=JSON.stringify(e);o.debug&&console.log("SEND >> "+n),t.send(n)}))}),(function(t){n(t)}))}},{key:"parseResponse",value:function(t){var e=this,n=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(t){var r=t;e.lastChunk&&(r=e.lastChunk+r);var o=null;try{o=JSON.parse(r)}catch(t){return e.lastChunk=r,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){e.timeout()}),15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk="",o&&n.push(o)})),n}},{key:"processMessage",value:function(t){if("id"in t){var e=t.id,n=this.responseCallbacks.get(e);if(!n)return void console.error("Error: Received a response for an unknown request",t);this.responseCallbacks.delete(e),"error"in t?n.reject(Object.assign(new Error(t.error.message||t.error),t.error)):"result"in t&&n.resolve(t)}else this.notificationCallbacks.forEach((function(e){return e(null,t)}))}},{key:"timeout",value:function(t){var e=this;this.connection&&this.connection.isPending||(this.connection=d());var n=t||new Error("Connection timeout");this.responseCallbacks.forEach((function(t){return t.reject(n)})),this.responseCallbacks.clear(),this.isDisposed||setTimeout((function(){return e.connect()}),1e3)}},{key:"connect",value:function(){var t=this;this.connection&&!this.connection.isPending&&this.connection.then((function(t){return t.close()})).catch((function(e){t.debug&&console.error(e)})),this.connection&&this.connection.isPending||(this.connection=d()),this.lastChunk="";var e=this.options.WebSocketConstructor||("undefined"!=typeof WebSocket?WebSocket:void 0);if(!e)throw new Error("Please provide a WebSocketConstructor");var n=new e(this.url,this.options.protocol);n.onopen=function(){t.connection.resolve(n)},n.onerror=function(e){var n=new Error("Error in web socket");n.data=e,t.timeout(n)},n.onclose=function(e){t.timeout(new Error("Connection closed (".concat(e&&e.reason||"Unknown reason",")")))},n.onmessage=function(e){var n="string"==typeof e.data?e.data:"";t.debug&&console.log("RECV << "+e.data),t.parseResponse(n).forEach((function(e){e instanceof Array?e.forEach((function(e){return t.processMessage(e)})):t.processMessage(e)}))}}}]),t}(),t.bytesToHex=G,t.bytesToUtf8String=U,t.concatBytes=Y,t.default=Te,t.extractDisplayName=Q,t.extractTypeName=tt,t.fromAscii=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="",r=0;r<t.length;r++){var o=t.charCodeAt(r).toString(16);n+=o.length<2?"0"+o:o}return"0x"+n.padEnd(e,"0")},t.fromDecimal=st,t.fromTwosComplement=gt,t.fromWei=function(t,e){var n=lt(t).dividedBy(ct(e));return _t(t)?n:n.toString(10)},t.getAddress=dt,t.getValueOfUnit=ct,t.hexToBytes=L,t.inputAddressFormatter=qt,t.inputBlockNumberFormatter=Ct,t.inputCallFormatter=Pt,t.inputDefaultBlockNumberFormatter=St,t.inputFilterOptions=Ht,t.inputPostFormatter=function(t){return t?(t.ttl=st(t.ttl),t.workToProve=st(t.workToProve),t.priority=st(t.priority),At(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map((function(t){return 0===t.indexOf("0x")?t:"0x"+G(j(t))})),t):null},t.inputTransactionFormatter=Rt,t.inputTransactionId=It,t.isAddress=yt,t.isArray=At,t.isBigNumber=_t,t.isBloom=function(t){return!!/^(0x)?[0-9a-f]{512}$/i.test(t)&&!!/^(0x)?[0-9a-f]{512}$/i.test(t)},t.isBoolean=Nt,t.isChecksumAddress=vt,t.isFunction=function(t){return"function"==typeof t},t.isHex=function(t){return"string"==typeof t&&/^0x[0-9a-fA-F]+$/.test(t)},t.isJson=function(t){try{return!!JSON.parse(t)}catch(t){return!1}},t.isObject=Ft,t.isPredefinedBlockNumber=Ot,t.isStrictAddress=mt,t.isString=xt,t.isTopic=function(t){return!!/^(0x)?[0-9a-f]{64}$/i.test(t)&&!!/^(0x)?[0-9a-f]{64}$/i.test(t)},t.isValidResponse=Bt,t.outputBigNumberFormatter=Et,t.outputBlockFormatter=Ut,t.outputLogFormatter=Dt,t.outputPostFormatter=function(t){return t?(t.expiry=nt(t.expiry),t.sent=nt(t.sent),t.ttl=nt(t.ttl),t.workProved=nt(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map((function(t){return K(t)})),t):null},t.outputSyncingFormatter=Lt,t.outputTransactionFormatter=Mt,t.outputTransactionReceiptFormatter=jt,t.padLeft=V,t.padRight=function(t,e,n){return t+new Array(e-t.length+1).join(n||"0")},t.sha3=z,t.signedIsNegative=pt,t.stringToUtf8Bytes=j,t.toAddress=kt,t.toArray=bt,t.toAscii=K,t.toBatchPayload=function(t){return t.map((function(t){return Tt(t.method,t.params)}))},t.toBigNumber=lt,t.toBoolean=at,t.toChecksumAddress=wt,t.toData=ot,t.toDecimal=nt,t.toHex=ut,t.toJsonRpcRequest=Tt,t.toNullDecimal=et,t.toString=rt,t.toStringData=it,t.toTwosComplement=ht,t.toWei=function(t,e){var n=lt(t).times(ct(e));return _t(t)?n:n.toString(10)},t.transformToFullName=Z,Object.defineProperty(t,"__esModule",{value:!0})}(e)}}]);
//# sourceMappingURL=548c89a9-bf6643adc816a2feba61.js.map