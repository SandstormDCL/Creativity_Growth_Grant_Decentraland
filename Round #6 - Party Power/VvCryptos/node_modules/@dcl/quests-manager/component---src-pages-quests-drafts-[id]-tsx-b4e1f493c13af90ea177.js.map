{"version":3,"file":"component---src-pages-quests-drafts-[id]-tsx-b4e1f493c13af90ea177.js","mappings":"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","sources":["webpack://@dcl/quests-manager/./node_modules/decentraland-ui/dist/components/Checkbox/Checkbox.js","webpack://@dcl/quests-manager/./src/components/DesignerView.tsx","webpack://@dcl/quests-manager/./src/components/AddItem.tsx","webpack://@dcl/quests-manager/./src/components/Edit.tsx","webpack://@dcl/quests-manager/./src/components/QuestStepsDraftSaved.tsx","webpack://@dcl/quests-manager/./src/pages/quests/drafts/[id].tsx","webpack://@dcl/quests-manager/./src/quests.ts"],"sourcesContent":["\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Checkbox = void 0;\nvar Checkbox_1 = require(\"semantic-ui-react/dist/commonjs/modules/Checkbox\");\nObject.defineProperty(exports, \"Checkbox\", {\n  enumerable: true,\n  get: function get() {\n    return __importDefault(Checkbox_1).default;\n  }\n});\nrequire(\"./Checkbox.css\");","import React from \"react\"\n\nimport { QuestDefinition } from \"@dcl/quests-client/dist/protocol/decentraland/quests/definitions.gen\"\nimport { Edge, Node } from \"@dcl/quests-designer/dist/types\"\nimport useAsyncState from \"decentraland-gatsby/dist/hooks/useAsyncState\"\nimport { back } from \"decentraland-gatsby/dist/plugins/intl\"\n\nexport const DesignerView = ({\n  initialNodes,\n  initialEdges,\n  type = \"new\",\n  onClick,\n  close,\n}: {\n  initialNodes?: Node[]\n  initialEdges?: Edge[]\n  type?: \"new\" | \"draft\" | \"published\" | \"old\"\n  onClick?: (nodes: Node[], edges: Edge[], definition?: QuestDefinition) => void\n  close?: () => void\n}) => {\n  const [QuestDesigner] = useAsyncState(() => import(\"@dcl/quests-designer\"))\n  return (\n    <div style={{ height: \"100vh\", width: \"100vw\" }}>\n      {QuestDesigner && (\n        <QuestDesigner.QuestsDesigner\n          saveDesignButton={\n            type !== \"old\" && onClick\n              ? {\n                  content:\n                    type == \"new\"\n                      ? \"Save Draft\"\n                      : type == \"draft\"\n                      ? \"Update Draft\"\n                      : \"Update Quest\",\n                  onClick: onClick,\n                  validate: type == \"published\",\n                }\n              : undefined\n          }\n          backButton={() => (close ? close() : back())}\n          initialNodes={initialNodes}\n          initialEdges={initialEdges}\n        />\n      )}\n    </div>\n  )\n}\n","import React, { useState } from \"react\"\n\nimport { Button } from \"decentraland-ui/dist/components/Button/Button\"\nimport { Field } from \"decentraland-ui/dist/components/Field/Field\"\n\nimport { urlRegex } from \"../utils\"\n\nexport const AddItem = ({\n  items,\n  onSaveItem,\n}: {\n  items: { name: string; imageLink: string }[]\n  onSaveItem: (item: { name: string; imageLink: string }, index: number) => void\n}) => {\n  const [adding, setAdding] = useState<{\n    name: string\n    imageLink: string\n  } | null>(null)\n  const [currentSelected, setCurrentSelected] = useState<{\n    index: number\n    name: string\n    imageLink: string\n  } | null>(null)\n\n  if (currentSelected) {\n    return (\n      <Adder\n        item={currentSelected}\n        onChange={(key, value) =>\n          setCurrentSelected({ ...currentSelected, [key]: value })\n        }\n        onClose={() => setCurrentSelected(null)}\n        onSave={() => {\n          onSaveItem(currentSelected, currentSelected.index)\n          setCurrentSelected(null)\n        }}\n      />\n    )\n  }\n\n  if (adding) {\n    return (\n      <Adder\n        item={adding}\n        onChange={(key, value) => setAdding({ ...adding, [key]: value })}\n        onClose={() => setAdding(null)}\n        onSave={() => {\n          onSaveItem(adding, -1)\n          setAdding(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginTop: \"20px\",\n        marginBottom: \"20px\",\n      }}\n    >\n      <h4>\n        Reward Items <span style={{ color: \"var(--primary)\" }}>*</span>\n      </h4>\n      {items.length ? (\n        <ul>\n          {items.map((item, i) => (\n            <Button\n              size=\"small\"\n              type=\"button\"\n              content={`${item.name}`}\n              inverted\n              onClick={() => setCurrentSelected({ ...item, index: i })}\n            />\n          ))}\n        </ul>\n      ) : (\n        <p>No items</p>\n      )}\n      <Button\n        type=\"button\"\n        content=\"Add item\"\n        size=\"small\"\n        inverted\n        style={{ border: \"none\", width: \"20px\" }}\n        onClick={() => setAdding({ name: \"\", imageLink: \"\" })}\n      />\n    </div>\n  )\n}\n\nconst Adder = ({\n  item,\n  onSave,\n  onClose,\n  onChange,\n}: {\n  item: { name: string; imageLink: string }\n  onChange: (key: string, value: string) => void\n  onSave: () => void\n  onClose: () => void\n}) => {\n  return (\n    <div style={{ width: \"100%\", marginTop: \"20px\" }}>\n      <h4>Adding Item</h4>\n      <div\n        style={{\n          display: \"flex\",\n          maxWidth: \"100%\",\n          justifyContent: \"space-between\",\n        }}\n        className=\"key-value\"\n      >\n        <Field\n          label=\"name\"\n          value={item.name}\n          onChange={(e) => onChange(\"name\", e.target.value)}\n          error={item.name.length < 3}\n          message={\n            item.name.length < 3 ? \"Name should be at least 3 chars\" : undefined\n          }\n        />\n        <Field\n          label=\"image link\"\n          value={item.imageLink}\n          onChange={(e) => onChange(\"imageLink\", e.target.value)}\n          error={new RegExp(urlRegex).test(item.imageLink || \"\") ? false : true}\n          message={\n            !new RegExp(urlRegex).test(item.imageLink || \"\")\n              ? \"Image URL is invalud\"\n              : undefined\n          }\n        />\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n        }}\n      >\n        <Button\n          type=\"button\"\n          content=\"Save\"\n          secondary\n          size=\"small\"\n          style={{ maxWidth: \"20px\", marginRight: \"10px\" }}\n          disabled={\n            item?.name.length < 3 ||\n            item?.imageLink == \"\" ||\n            !new RegExp(urlRegex).test(item.imageLink || \"\")\n          }\n          onClick={() => onSave()}\n        />\n        <Button\n          type=\"button\"\n          content=\"Close\"\n          inverted\n          size=\"small\"\n          style={{ maxWidth: \"20px\" }}\n          onClick={() => {\n            onClose()\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { Button } from \"decentraland-ui/dist/components/Button/Button\"\nimport { Checkbox } from \"decentraland-ui/dist/components/Checkbox/Checkbox\"\nimport { Field } from \"decentraland-ui/dist/components/Field/Field\"\nimport { Header } from \"decentraland-ui/dist/components/Header/Header\"\n\nimport { AddItem } from \"./AddItem\"\nimport { RawQuest } from \"../types\"\nimport { urlRegex } from \"../utils\"\n\nexport const Edit = ({\n  onChange,\n  quest,\n  readonly = false,\n}: {\n  quest: RawQuest\n  onChange: (quest: RawQuest) => void\n  readonly?: boolean\n}) => {\n  return (\n    <>\n      <h3>Quest Information</h3>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Header sub size=\"small\">\n          <label>\n            Name <span style={{ color: \"var(--primary)\" }}>*</span>\n          </label>\n        </Header>\n        <Field\n          placeholder=\"Name of the quest\"\n          value={quest.name}\n          onChange={(e) => {\n            onChange({ ...quest, name: e.target.value })\n          }}\n          readOnly={readonly}\n          error={quest.name && quest.name?.length < 5 ? true : false}\n          message={\n            quest.name && quest.name?.length < 5\n              ? \"Name should be at least 5 chars \"\n              : undefined\n          }\n        />\n        <Header sub size=\"small\">\n          <label>\n            Description <span style={{ color: \"var(--primary)\" }}>*</span>\n          </label>\n        </Header>\n        <Field\n          placeholder=\"Short description of the quest\"\n          value={quest.description}\n          onChange={(e) => {\n            onChange({\n              ...quest,\n              description: e.target.value,\n            })\n          }}\n          readOnly={readonly}\n          error={\n            quest.description && quest.description?.length < 5 ? true : false\n          }\n          message={\n            quest.description && quest.description?.length < 5\n              ? \"Description should be at least 5 chars \"\n              : undefined\n          }\n        />\n        <Header sub size=\"small\">\n          <label>\n            Image <span style={{ color: \"var(--primary)\" }}>*</span>\n          </label>\n        </Header>\n        <Field\n          value={quest.imageUrl}\n          placeholder=\"Image URL to display when listing the quest\"\n          onChange={(e) => {\n            onChange({\n              ...quest,\n              imageUrl: e.target.value,\n            })\n          }}\n          readOnly={readonly}\n          error={\n            !quest.imageUrl\n              ? false\n              : new RegExp(urlRegex).test(quest.imageUrl)\n              ? false\n              : true\n          }\n          message={\n            !quest.imageUrl\n              ? false\n              : !new RegExp(urlRegex).test(quest.imageUrl)\n              ? \"Image URL is invalid\"\n              : undefined\n          }\n        />\n      </div>\n      <div>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div>\n            <h3 style={{ marginBottom: \"0px\" }}>Rewards</h3>\n          </div>\n          <Checkbox\n            toggle\n            checked={!!quest.reward}\n            onChange={() => {\n              if (quest.reward) {\n                onChange({ ...quest, reward: undefined })\n              } else {\n                onChange({\n                  ...quest,\n                  reward: {\n                    hook: { webhookUrl: \"\", requestBody: {} },\n                    items: [],\n                  },\n                })\n              }\n            }}\n          />\n        </div>\n        {quest.reward && (\n          <>\n            <p\n              style={{\n                fontSize: \"10px\",\n                marginBottom: \"10px\",\n                whiteSpace: \"pre\",\n                color: \"#676370\",\n              }}\n            >\n              Available placeholders for Webhook URL and Data to Receive\n              (request body): {\"\\n\"}\n              &#123; <span style={{ fontWeight: \"bold\" }}>quest_id</span>&#125;\n              , &#123; <span style={{ fontWeight: \"bold\" }}>user_address</span>\n              &#125; {\"\\n\"}\n              E.g: &#123; beneficary: &#123;user_address&#125;, quest:\n              &#123;quest_id&#125; &#125;\n            </p>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                flexDirection: \"column\",\n                marginTop: \"40px\",\n              }}\n            >\n              <Header sub size=\"small\">\n                <label>\n                  Webhook URL <span style={{ color: \"var(--primary)\" }}>*</span>\n                </label>\n              </Header>\n              <Field\n                value={quest?.reward?.hook.webhookUrl || \"\"}\n                onChange={(e) => {\n                  onChange({\n                    ...quest,\n                    reward: {\n                      items: quest.reward?.items || [],\n                      hook: {\n                        requestBody: quest.reward?.hook?.requestBody || {},\n                        webhookUrl: e.target.value,\n                      },\n                    },\n                  })\n                }}\n                placeholder=\"URL to call when the quest is completed\"\n                readOnly={readonly}\n                error={\n                  new RegExp(urlRegex).test(quest.reward.hook.webhookUrl || \"\")\n                    ? false\n                    : true\n                }\n                message={\n                  !new RegExp(urlRegex).test(quest.reward.hook.webhookUrl || \"\")\n                    ? \"Webhook URL is invalud\"\n                    : undefined\n                }\n              />\n              <div style={{ width: \"100%\" }}>\n                <Header sub size=\"small\">\n                  <label>\n                    Data to Receive{\" \"}\n                    <span style={{ color: \"var(--primary)\" }}>*</span>\n                  </label>\n                </Header>\n                {Object.entries(\n                  quest?.reward?.hook.requestBody ||\n                    ({} as Record<string, string>)\n                ).length\n                  ? Object.entries(\n                      quest?.reward?.hook.requestBody ||\n                        ({} as Record<string, string>)\n                    ).map(([key, value], index) => {\n                      return (\n                        <div\n                          style={{\n                            display: \"flex\",\n                            justifyContent: \"space-between\",\n                            alignItems: \"center\",\n                          }}\n                          className=\"key-value\"\n                        >\n                          <Field\n                            value={key}\n                            onChange={(e) => {\n                              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                              const entries = Object.entries(\n                                quest.reward?.hook.requestBody || {}\n                              )\n                              entries[index][0] = e.target.value\n                              onChange({\n                                ...quest,\n                                reward: {\n                                  hook: {\n                                    webhookUrl:\n                                      quest.reward?.hook.webhookUrl || \"\",\n                                    requestBody: Object.fromEntries(entries),\n                                  },\n                                  items: quest.reward?.items || [],\n                                },\n                              })\n                            }}\n                            readOnly={readonly}\n                            error={key.length ? false : true}\n                            message={\n                              !key.length ? \"Key cannot be empty\" : undefined\n                            }\n                          />\n                          <span style={{ fontSize: \"24px\" }}>:</span>\n                          <Field\n                            value={value}\n                            onChange={(e) => {\n                              const entries = Object.entries(\n                                quest.reward?.hook.requestBody || {}\n                              )\n                              entries[index][1] = e.target.value\n                              onChange({\n                                ...quest,\n                                reward: {\n                                  hook: {\n                                    webhookUrl:\n                                      quest.reward?.hook.webhookUrl || \"\",\n                                    requestBody: Object.fromEntries(entries),\n                                  },\n                                  items: quest.reward?.items || [],\n                                },\n                              })\n                            }}\n                            readOnly={readonly}\n                            error={value.length ? false : true}\n                            message={\n                              !value.length\n                                ? \"Value cannot be empty\"\n                                : undefined\n                            }\n                          />\n                          {!readonly && (\n                            <button\n                              style={{\n                                color: \"red\",\n                                backgroundColor: \"transparent\",\n                                border: \"none\",\n                                cursor: \"pointer\",\n                              }}\n                              onClick={() => {\n                                const entries = Object.entries(\n                                  quest.reward?.hook.requestBody || {}\n                                )\n                                onChange({\n                                  ...quest,\n                                  reward: {\n                                    hook: {\n                                      webhookUrl:\n                                        quest.reward?.hook.webhookUrl || \"\",\n                                      requestBody: Object.fromEntries(\n                                        entries.filter(\n                                          (entry) => entry[0] != key\n                                        )\n                                      ),\n                                    },\n                                    items: quest.reward?.items || [],\n                                  },\n                                })\n                              }}\n                            >\n                              &#x2715;\n                            </button>\n                          )}\n                        </div>\n                      )\n                    })\n                  : null}\n                {!readonly && (\n                  <Button\n                    type=\"button\"\n                    content=\"Add Key:Value\"\n                    size=\"small\"\n                    inverted\n                    style={{ border: \"none\" }}\n                    onClick={() => {\n                      const keys = Object.keys(\n                        quest.reward?.hook.requestBody || {}\n                      )\n                      onChange({\n                        ...quest,\n                        reward: {\n                          hook: {\n                            webhookUrl: quest.reward?.hook.webhookUrl || \"\",\n                            requestBody: {\n                              ...(quest.reward?.hook.requestBody || {}),\n                              [`key${keys.length == 0 ? \"\" : keys.length}`]:\n                                \"value\",\n                            } as Record<string, string>,\n                          },\n                          items: quest.reward?.items || [],\n                        },\n                      })\n                    }}\n                  />\n                )}\n              </div>\n              {!readonly && (\n                <AddItem\n                  items={quest?.reward?.items || []}\n                  onSaveItem={(item, index) => {\n                    const newItems = [...(quest?.reward?.items || [])]\n\n                    if (index === -1) {\n                      newItems.push(item)\n                    } else {\n                      newItems[index] = item\n                    }\n\n                    onChange({\n                      ...quest,\n                      reward: {\n                        hook: {\n                          requestBody: quest.reward?.hook.requestBody || {},\n                          webhookUrl: quest.reward?.hook?.webhookUrl || \"\",\n                        },\n                        items: newItems,\n                      },\n                    })\n                  }}\n                />\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </>\n  )\n}\n","import React from \"react\"\n\nimport { Button } from \"decentraland-ui/dist/components/Button/Button\"\nimport { Modal } from \"decentraland-ui/dist/components/Modal/Modal\"\n\nexport const QuestDraftSaved = ({\n  onContinue,\n  onKeepEditing,\n}: {\n  onContinue: () => void\n  onKeepEditing: () => void\n}) => (\n  <Modal open={true} size=\"tiny\" className=\"quests-modal\">\n    <Modal.Header>Quest Draft saved successfully</Modal.Header>\n    <Modal.Content></Modal.Content>\n    <Modal.Actions>\n      <Button primary onClick={onContinue} size=\"medium\">\n        Continue\n      </Button>\n      <Button\n        inverted\n        onClick={onKeepEditing}\n        size=\"medium\"\n        style={{ backgroundColor: \"transparent\" }}\n      >\n        Keep Editing\n      </Button>\n    </Modal.Actions>\n  </Modal>\n)\n","import React, { useState } from \"react\"\n\nimport { generateNodesAndEdgesFromQuestDefinition } from \"@dcl/quests-designer/dist/utils\"\nimport { useAuthContext } from \"decentraland-gatsby/dist/context/Auth\"\nimport { navigate } from \"decentraland-gatsby/dist/plugins/intl\"\nimport { Back } from \"decentraland-ui/dist/components/Back/Back\"\nimport { Button } from \"decentraland-ui/dist/components/Button/Button\"\nimport { Container } from \"decentraland-ui/dist/components/Container/Container\"\nimport { Loader } from \"decentraland-ui/dist/components/Loader/Loader\"\nimport { Modal } from \"decentraland-ui/dist/components/Modal/Modal\"\nimport { SignIn } from \"decentraland-ui/dist/components/SignIn/SignIn\"\n\nimport { DesignerView } from \"../../../components/DesignerView\"\nimport { Edit } from \"../../../components/Edit\"\nimport { QuestDraftSaved } from \"../../../components/QuestStepsDraftSaved\"\nimport { QuestsClient } from \"../../../quests\"\nimport {\n  deleteQuestDraft,\n  getQuestDraftById,\n  isValidQuest,\n  locations,\n  updateQuestDraft,\n  updateQuestDraftDefinition,\n} from \"../../../utils\"\n\nimport \"../quests.css\"\n\nconst EditDraft = ({ id }: { id: string }) => {\n  const [questDesigner, setQuestDesigner] = useState(false)\n  const [quest, setQuestDraft] = useState(getQuestDraftById(Number(id)))\n  const [editDraftState, setEditDraftState] = useState({\n    savedDraft: false,\n    publishingQuest: false,\n    publishedQuest: false,\n    publishQuestLoading: false,\n    publishedQuestID: \"\",\n    publishedQuestError: null,\n    deleteDraft: false,\n  })\n  const [draftSavedModal, setDraftSavedModal] = useState(false)\n\n  const [account, accountState] = useAuthContext()\n\n  if (!account || accountState.loading) {\n    return (\n      <SignIn\n        onConnect={() => accountState.select()}\n        isConnecting={accountState.loading}\n      />\n    )\n  }\n\n  const questClient = new QuestsClient(account)\n\n  if (!quest) {\n    return (\n      <Container>\n        <h2>Draft not found :(</h2>\n      </Container>\n    )\n  }\n\n  const saveDraft = () => {\n    updateQuestDraft(quest)\n    setEditDraftState({\n      savedDraft: true,\n      publishingQuest: false,\n      publishQuestLoading: false,\n      publishedQuest: false,\n      publishedQuestID: \"\",\n      publishedQuestError: null,\n      deleteDraft: false,\n    })\n  }\n\n  if (questDesigner) {\n    let nodes\n    let edges\n    if (quest.definition) {\n      const canvas = generateNodesAndEdgesFromQuestDefinition(\n        quest.definition,\n        quest.metadata?.stepPositions\n      )\n      nodes = canvas.nodes\n      edges = canvas.edges\n    } else {\n      nodes = quest.metadata.nodes\n      edges = quest.metadata.edges\n    }\n\n    return (\n      <>\n        <DesignerView\n          initialEdges={edges}\n          initialNodes={nodes}\n          type=\"draft\"\n          close={() => setQuestDesigner(false)}\n          onClick={(nodes, edges, definition) => {\n            updateQuestDraftDefinition(Number(id), {\n              definition,\n              metadata: {\n                stepPositions: nodes.reduce((acc, curr) => {\n                  if (curr.data.id) {\n                    acc[curr.data.id] = curr.position\n                  } else {\n                    acc[curr.id] = curr.position\n                  }\n                  return acc\n                }, {} as Record<string, { x: number; y: number }>),\n                nodes,\n                edges,\n              },\n            })\n            setQuestDraft(getQuestDraftById(Number(id)))\n          }}\n        />\n        {draftSavedModal && (\n          <QuestDraftSaved\n            onContinue={() => {\n              setDraftSavedModal(false)\n              setQuestDesigner(false)\n            }}\n            onKeepEditing={() => {\n              setDraftSavedModal(false)\n            }}\n          />\n        )}\n      </>\n    )\n  }\n\n  if (editDraftState.publishQuestLoading)\n    return <Loader active size=\"massive\" />\n\n  if (editDraftState.publishedQuest) {\n    return (\n      <QuestPublished\n        onClick={() => {\n          navigate(\n            locations.editPublishedQuest(editDraftState.publishedQuestID)\n          )\n        }}\n      />\n    )\n  }\n\n  return (\n    <Container>\n      <div\n        style={{\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n            width: \"45%\",\n          }}\n        >\n          <Back onClick={() => navigate(locations.home())} />\n          <div style={{ marginLeft: \"24px\" }}>\n            <h2>Edit Quest</h2>\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            width: \"55%\",\n          }}\n        >\n          <Button onClick={() => setQuestDesigner(true)}>\n            Edit Quest Steps\n          </Button>\n          <Button\n            type=\"button\"\n            content=\"Delete Draft\"\n            size=\"small\"\n            style={{\n              marginLeft: \"10px\",\n            }}\n            inverted\n            onClick={() => {\n              setEditDraftState({\n                savedDraft: true,\n                publishingQuest: false,\n                publishQuestLoading: false,\n                publishedQuest: false,\n                publishedQuestID: \"\",\n                publishedQuestError: null,\n                deleteDraft: true,\n              })\n            }}\n          />\n        </div>\n      </div>\n      <div style={{ width: \"50%\", marginLeft: \"60px\" }}>\n        <Edit\n          quest={quest}\n          onChange={(editedQuest) =>\n            setQuestDraft({ ...quest, ...editedQuest })\n          }\n        />\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginTop: \"40px\",\n          width: \"50%\",\n          marginLeft: \"60px\",\n        }}\n      >\n        <Button\n          type=\"button\"\n          content=\"Save Draft\"\n          size=\"small\"\n          style={{\n            backgroundColor: \"transparent\",\n            border: \"2px solid black\",\n            width: \"45%\",\n          }}\n          onClick={() => saveDraft()}\n        />\n        <Button\n          type=\"button\"\n          content=\"Publish\"\n          size=\"small\"\n          primary\n          style={{\n            width: \"45%\",\n          }}\n          disabled={!isValidQuest(quest)}\n          onClick={async () => {\n            setEditDraftState({\n              publishedQuestID: \"\",\n              publishingQuest: true,\n              publishedQuest: false,\n              publishQuestLoading: false,\n              savedDraft: false,\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n          }}\n        />\n      </div>\n      {!quest.definition && (\n        <div\n          style={{\n            display: \"flex\",\n            alignContent: \"center\",\n            marginLeft: \"60px\",\n            marginTop: \"5px\",\n          }}\n        >\n          <span>\n            <ErrorIcon />\n          </span>\n          <p\n            style={{\n              color: \"var(--primary)\",\n              fontSize: \"12px\",\n              marginLeft: \"5px\",\n            }}\n          >\n            Cannot publish due to invalid Quest steps\n          </p>\n        </div>\n      )}\n      {editDraftState.savedDraft && (\n        <SavedDraftModal\n          onClick={() =>\n            setEditDraftState({\n              publishedQuest: false,\n              publishingQuest: false,\n              savedDraft: false,\n              publishQuestLoading: false,\n              publishedQuestID: \"\",\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n          }\n        />\n      )}\n      {editDraftState.publishingQuest && (\n        <PublishingQuest\n          onCancel={() => {\n            setEditDraftState({\n              publishedQuestID: \"\",\n              publishingQuest: false,\n              publishedQuest: false,\n              publishQuestLoading: false,\n              savedDraft: false,\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n          }}\n          onDelete={async () => {\n            deleteQuestDraft(Number(quest.id))\n            setEditDraftState({\n              publishedQuestID: \"\",\n              publishingQuest: false,\n              publishedQuest: false,\n              publishQuestLoading: true,\n              savedDraft: false,\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { metadata, id, ...rest } = quest\n            const response = await questClient.publishQuest(rest)\n            setTimeout(() => {\n              setEditDraftState({\n                publishedQuestID: response.id,\n                publishingQuest: false,\n                publishedQuest: true,\n                publishQuestLoading: false,\n                savedDraft: false,\n                publishedQuestError: null,\n                deleteDraft: false,\n              })\n            }, 1500)\n          }}\n          onProceed={async () => {\n            setEditDraftState({\n              publishedQuestID: \"\",\n              publishingQuest: false,\n              publishedQuest: false,\n              publishQuestLoading: true,\n              savedDraft: false,\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { metadata, id, ...rest } = quest\n            const response = await questClient.publishQuest(rest)\n            setTimeout(() => {\n              setEditDraftState({\n                publishedQuestID: response.id,\n                publishingQuest: false,\n                publishedQuest: true,\n                publishQuestLoading: false,\n                savedDraft: false,\n                publishedQuestError: null,\n                deleteDraft: false,\n              })\n            }, 1500)\n          }}\n        />\n      )}\n      {editDraftState.deleteDraft && (\n        <DeleteDraftModal\n          onDelete={() => {\n            deleteQuestDraft(quest.id)\n            navigate(locations.home())\n          }}\n          onCancel={() => {\n            setEditDraftState({\n              publishedQuestID: \"\",\n              publishingQuest: false,\n              publishedQuest: true,\n              publishQuestLoading: false,\n              savedDraft: false,\n              publishedQuestError: null,\n              deleteDraft: false,\n            })\n          }}\n        />\n      )}\n    </Container>\n  )\n}\n\nconst SavedDraftModal = ({ onClick }: { onClick: () => void }) => (\n  <Modal open={true} size=\"tiny\" className=\"quests-modal\">\n    <Modal.Content>Your draft has been saved</Modal.Content>\n    <Modal.Actions>\n      <Button primary onClick={onClick}>\n        Close\n      </Button>\n    </Modal.Actions>\n  </Modal>\n)\n\nconst QuestPublished = ({ onClick }: { onClick: () => void }) => (\n  <Modal open={true} size=\"tiny\" className=\"quests-modal\">\n    <Modal.Content>Your Quest was published!</Modal.Content>\n    <Modal.Actions>\n      <Button primary onClick={onClick}>\n        Go to edit page\n      </Button>\n    </Modal.Actions>\n  </Modal>\n)\n\nconst DeleteDraftModal = ({\n  onDelete,\n  onCancel,\n}: {\n  onDelete: () => void\n  onCancel: () => void\n}) => (\n  <Modal open={true} size=\"tiny\" className=\"quests-modal\">\n    <Modal.Header>Delete Quest</Modal.Header>\n    <Modal.Content>\n      You will lose your quest definition and information\n    </Modal.Content>\n    <Modal.Actions>\n      <Button primary onClick={onDelete} size=\"medium\">\n        Delete\n      </Button>\n      <Button inverted onClick={onCancel} size=\"medium\">\n        Cancel\n      </Button>\n    </Modal.Actions>\n  </Modal>\n)\n\nconst PublishingQuest = ({\n  onDelete,\n  onProceed,\n  onCancel,\n}: {\n  onDelete: () => void\n  onProceed: () => void\n  onCancel: () => void\n}) => (\n  <Modal open={true} size=\"tiny\" className=\"quests-modal\">\n    <Modal.Header>Publish Quest</Modal.Header>\n    <Modal.Content>\n      Once your Quest is published, it will become live on the server.\n    </Modal.Content>\n    <Modal.Actions>\n      <Button primary onClick={onProceed} size=\"medium\">\n        Publish and Keep Draft\n      </Button>\n      <Button onClick={onDelete} size=\"medium\">\n        Publish and Delete Draft\n      </Button>\n      <Button\n        inverted\n        style={{ backgroundColor: \"transparent\" }}\n        onClick={onCancel}\n        size=\"medium\"\n      >\n        Cancel\n      </Button>\n    </Modal.Actions>\n  </Modal>\n)\n\nconst ErrorIcon = () => (\n  <svg\n    width=\"17\"\n    height=\"17\"\n    viewBox=\"0 0 24 25\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g id=\"Group 2971\">\n      <circle id=\"Ellipse 86\" cx=\"12\" cy=\"12.5\" r=\"11.9104\" fill=\"#FF2D55\" />\n      <g id=\"x\">\n        <g id=\"Vector\">\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M15.9109 9.2488C16.2429 9.5803 16.2427 10.1175 15.9104 10.4487L9.9516 16.3879C9.61931 16.7191 9.08081 16.7189 8.74882 16.3874C8.41684 16.0558 8.41709 15.5186 8.74938 15.1874L14.7082 9.24824C15.0405 8.91704 15.579 8.91729 15.9109 9.2488Z\"\n            fill=\"#FCFCFC\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M15.9109 16.3876C15.579 16.7191 15.0405 16.7193 14.7082 16.3881L8.74939 10.449C8.41709 10.1178 8.41684 9.58052 8.74882 9.24901C9.08081 8.9175 9.61931 8.91725 9.9516 9.24845L15.9104 15.1876C16.2427 15.5188 16.2429 16.0561 15.9109 16.3876Z\"\n            fill=\"#FCFCFC\"\n          />\n        </g>\n      </g>\n    </g>\n  </svg>\n)\n\nexport default EditDraft\n","import { Quest } from \"@dcl/quests-client/dist/protocol/decentraland/quests/definitions.gen\"\nimport { validateCreateQuest } from \"@dcl/quests-client/dist/utils\"\nimport API from \"decentraland-gatsby/dist/utils/api/API\"\nimport env from \"decentraland-gatsby/dist/utils/env\"\n\nimport { DraftQuest, QuestAmplified, QuestRewards } from \"./types\"\n\nexport class QuestsClient extends API {\n  static URL = env(\"QUESTS_SERVER_URL\", \"https://quests.decentraland.org/api\")\n\n  constructor(public user: string) {\n    super(QuestsClient.URL)\n  }\n\n  getMyQuests() {\n    return this.fetch<{\n      quests: QuestAmplified[]\n    }>(\n      `/creators/${this.user}/quests`,\n      this.options().method(\"GET\").authorization({ sign: true })\n    )\n  }\n\n  publishQuest(quest: Omit<DraftQuest, \"metadata\" | \"id\">) {\n    validateCreateQuest(quest)\n    // we must stringify all non-string parameters\n    // server expects map<string, string>\n    for (const step of quest.definition!.steps) {\n      for (const task of step.tasks) {\n        for (const action of task.actionItems) {\n          for (const param in action.parameters) {\n            if (typeof action.parameters[param] != \"string\") {\n              action.parameters[param] = JSON.stringify(\n                action.parameters[param]\n              )\n            }\n          }\n        }\n      }\n    }\n\n    return this.fetch<{ id: string }>(\n      `/quests`,\n      this.options()\n        .method(\"POST\")\n        .authorization({ sign: true })\n        .json(quest)\n        .metadata(quest as unknown as any)\n    )\n  }\n\n  async getQuest(id: string): Promise<QuestAmplified> {\n    const questWithoutRewards = await this.fetch<{\n      quest: Quest & { active: boolean }\n    }>(\n      `/quests/${id}`,\n      this.options().method(\"GET\").authorization({ sign: true })\n    )\n\n    let questRewards: QuestRewards[\"reward\"] | null = null\n\n    try {\n      questRewards = await this.fetch<QuestRewards[\"reward\"]>(\n        `/quests/${id}/reward?with_hook=true`,\n        this.options().method(\"GET\").authorization({ sign: true })\n      )\n    } catch (error) {\n      console.log(error)\n    }\n\n    return {\n      ...questWithoutRewards.quest,\n      reward: questRewards ? questRewards : undefined,\n    }\n  }\n\n  updateQuest(\n    id: string,\n    quest: Omit<QuestAmplified, \"creatorAddress\" | \"id\" | \"active\">\n  ) {\n    if (!quest.name) {\n      throw new Error(\"Quest must have a name\")\n    }\n\n    return this.fetch<{ quest_id: string }>(\n      `/quests/${id}`,\n      this.options().method(\"PUT\").authorization({ sign: true }).json(quest)\n    )\n  }\n\n  deactivateQuest(id: string) {\n    return this.fetch(\n      `/quests/${id}`,\n      this.options().method(\"DELETE\").authorization({ sign: true })\n    )\n  }\n\n  activateQuest(id: string) {\n    return this.fetch(\n      `/quests/${id}/activate`,\n      this.options().method(\"PUT\").authorization({ sign: true })\n    )\n  }\n\n  getOldVersions(id: string) {\n    return this.fetch<{ updates: string[] }>(\n      `/quests/${id}/updates`,\n      this.options().method(\"GET\")\n    )\n  }\n}\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","Checkbox","Checkbox_1","enumerable","get","default","DesignerView","_ref","initialNodes","initialEdges","_ref$type","type","onClick","close","QuestDesigner","useAsyncState","React","style","height","width","QuestsDesigner","saveDesignButton","content","validate","undefined","backButton","back","AddItem","items","onSaveItem","_useState","useState","adding","setAdding","_useState2","currentSelected","setCurrentSelected","Adder","item","onChange","key","_Object$assign","assign","onClose","onSave","index","_Object$assign2","display","flexDirection","marginTop","marginBottom","color","length","map","i","Button","size","name","inverted","border","imageLink","_ref2","_onChange","maxWidth","justifyContent","className","Field","label","e","target","error","message","RegExp","urlRegex","test","secondary","marginRight","disabled","Edit","_quest$name","_quest$name2","_quest$description","_quest$description2","_quest$reward","_quest$reward4","_quest$reward5","_quest$reward19","quest","_ref$readonly","readonly","Header","sub","placeholder","readOnly","description","imageUrl","toggle","checked","reward","hook","webhookUrl","requestBody","fontSize","whiteSpace","fontWeight","_quest$reward2","_quest$reward3","_quest$reward3$hook","entries","alignItems","_quest$reward6","_quest$reward7","_quest$reward8","fromEntries","_quest$reward9","_quest$reward10","_quest$reward11","backgroundColor","cursor","_quest$reward12","_quest$reward13","_quest$reward14","filter","entry","_quest$reward15","_quest$reward16","_quest$reward17","_quest$reward18","keys","_quest$reward20","_quest$reward21","_quest$reward22","_quest$reward22$hook","newItems","_toConsumableArray","push","QuestDraftSaved","onContinue","onKeepEditing","Modal","open","Content","Actions","primary","SavedDraftModal","_ref5","QuestPublished","_ref6","DeleteDraftModal","_ref7","onDelete","onCancel","PublishingQuest","_ref8","onProceed","ErrorIcon","viewBox","fill","xmlns","id","cx","cy","r","fillRule","clipRule","d","questDesigner","setQuestDesigner","getQuestDraftById","Number","setQuestDraft","_useState3","savedDraft","publishingQuest","publishedQuest","publishQuestLoading","publishedQuestID","publishedQuestError","deleteDraft","editDraftState","setEditDraftState","_useState4","draftSavedModal","setDraftSavedModal","_useAuthContext","useAuthContext","account","accountState","loading","SignIn","onConnect","select","isConnecting","questClient","QuestsClient","Container","nodes","edges","definition","_quest$metadata","canvas","generateNodesAndEdgesFromQuestDefinition","metadata","stepPositions","updateQuestDraftDefinition","reduce","acc","curr","data","position","Loader","active","navigate","locations","editPublishedQuest","Back","home","marginLeft","editedQuest","updateQuestDraft","isValidQuest","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","stop","alignContent","_callee2","rest","response","_context2","deleteQuestDraft","_objectWithoutPropertiesLoose","_excluded","publishQuest","sent","setTimeout","_callee3","_context3","_excluded2","_API","user","_this","call","URL","_inheritsLoose","_proto","prototype","getMyQuests","fetch","options","method","authorization","sign","validateCreateQuest","_step","_iterator","_createForOfIteratorHelperLoose","steps","done","_step2","_iterator2","tasks","_step3","_iterator3","actionItems","action","param","parameters","JSON","stringify","json","getQuest","_getQuest","questWithoutRewards","questRewards","t0","console","log","abrupt","_x","apply","arguments","updateQuest","Error","deactivateQuest","activateQuest","getOldVersions","API","env"],"sourceRoot":""}