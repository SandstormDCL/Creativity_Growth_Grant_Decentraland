{"version":3,"file":"971df74e-dd9e68b35435d0503b2f.js","mappings":"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","sources":["webpack://@dcl/quests-manager/./node_modules/@reactflow/core/dist/esm/index.mjs"],"sourcesContent":["import _slicedToArray from \"/home/runner/work/quests-manager/quests-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/home/runner/work/quests-manager/quests-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"/home/runner/work/quests-manager/quests-manager/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/home/runner/work/quests-manager/quests-manager/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _handleDirections, _MarkerSymbols, _oppositePosition;\nvar _excluded = [\"position\", \"children\", \"className\", \"style\"],\n  _excluded2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"],\n  _excluded3 = [\"id\"],\n  _excluded4 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"isConnectableStart\", \"isConnectableEnd\", \"id\", \"onConnect\", \"children\", \"className\", \"onMouseDown\", \"onTouchStart\"],\n  _excluded5 = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectEnd\", \"onClickConnectStart\", \"onClickConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"onSelectionStart\", \"onSelectionEnd\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"connectionLineContainerStyle\", \"deleteKeyCode\", \"selectionKeyCode\", \"selectionOnDrag\", \"selectionMode\", \"panActivationKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"nodesFocusable\", \"nodeOrigin\", \"edgesFocusable\", \"edgesUpdatable\", \"elementsSelectable\", \"defaultViewport\", \"minZoom\", \"maxZoom\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneMouseEnter\", \"onPaneMouseMove\", \"onPaneMouseLeave\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\", \"elevateNodesOnSelect\", \"elevateEdgesOnSelect\", \"disableKeyboardA11y\", \"autoPanOnConnect\", \"autoPanOnNodeDrag\", \"connectionRadius\", \"isValidConnection\", \"onError\", \"style\", \"id\", \"nodeDragThreshold\"];\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStoreWithEqualityFn, createWithEqualityFn } from 'zustand/traditional';\nimport { shallow } from 'zustand/shallow';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { createPortal } from 'react-dom';\nvar StoreContext = createContext(null);\nvar Provider$1 = StoreContext.Provider;\nvar errorMessages = {\n  error001: function error001() {\n    return '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001';\n  },\n  error002: function error002() {\n    return \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\";\n  },\n  error003: function error003(nodeType) {\n    return \"Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\".\");\n  },\n  error004: function error004() {\n    return 'The React Flow parent container needs a width and a height to render the graph.';\n  },\n  error005: function error005() {\n    return 'Only child nodes can use a parent extent.';\n  },\n  error006: function error006() {\n    return \"Can't create edge. An edge needs a source and a target.\";\n  },\n  error007: function error007(id) {\n    return \"The old edge with id=\".concat(id, \" does not exist.\");\n  },\n  error009: function error009(type) {\n    return \"Marker type \\\"\".concat(type, \"\\\" doesn't exist.\");\n  },\n  error008: function error008(sourceHandle, edge) {\n    return \"Couldn't create edge for \".concat(!sourceHandle ? 'source' : 'target', \" handle id: \\\"\").concat(!sourceHandle ? edge.sourceHandle : edge.targetHandle, \"\\\", edge id: \").concat(edge.id, \".\");\n  },\n  error010: function error010() {\n    return 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.';\n  },\n  error011: function error011(edgeType) {\n    return \"Edge type \\\"\".concat(edgeType, \"\\\" not found. Using fallback type \\\"default\\\".\");\n  },\n  error012: function error012(id) {\n    return \"Node with id \\\"\".concat(id, \"\\\" does not exist, it may have been removed. This can happen when a node is deleted before the \\\"onNodeClick\\\" handler is called.\");\n  }\n};\nvar zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n  var store = useContext(StoreContext);\n  if (store === null) {\n    throw new Error(zustandErrorMessage);\n  }\n  return useStoreWithEqualityFn(store, selector, equalityFn);\n}\nvar useStoreApi = function useStoreApi() {\n  var store = useContext(StoreContext);\n  if (store === null) {\n    throw new Error(zustandErrorMessage);\n  }\n  return useMemo(function () {\n    return {\n      getState: store.getState,\n      setState: store.setState,\n      subscribe: store.subscribe,\n      destroy: store.destroy\n    };\n  }, [store]);\n};\nvar selector$g = function selector$g(s) {\n  return s.userSelectionActive ? 'none' : 'all';\n};\nfunction Panel(_ref) {\n  var position = _ref.position,\n    children = _ref.children,\n    className = _ref.className,\n    style = _ref.style,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var pointerEvents = useStore(selector$g);\n  var positionClasses = \"\".concat(position).split('-');\n  return React.createElement(\"div\", _objectSpread({\n    className: cc(['react-flow__panel', className].concat(_toConsumableArray(positionClasses))),\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      pointerEvents: pointerEvents\n    })\n  }, rest), children);\n}\nfunction Attribution(_ref2) {\n  var proOptions = _ref2.proOptions,\n    _ref2$position = _ref2.position,\n    position = _ref2$position === void 0 ? 'bottom-right' : _ref2$position;\n  if (proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\n    return null;\n  }\n  return React.createElement(Panel, {\n    position: position,\n    className: \"react-flow__attribution\",\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev\"\n  }, React.createElement(\"a\", {\n    href: \"https://reactflow.dev\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    \"aria-label\": \"React Flow attribution\"\n  }, \"React Flow\"));\n}\nvar EdgeText = function EdgeText(_ref3) {\n  var x = _ref3.x,\n    y = _ref3.y,\n    label = _ref3.label,\n    _ref3$labelStyle = _ref3.labelStyle,\n    labelStyle = _ref3$labelStyle === void 0 ? {} : _ref3$labelStyle,\n    _ref3$labelShowBg = _ref3.labelShowBg,\n    labelShowBg = _ref3$labelShowBg === void 0 ? true : _ref3$labelShowBg,\n    _ref3$labelBgStyle = _ref3.labelBgStyle,\n    labelBgStyle = _ref3$labelBgStyle === void 0 ? {} : _ref3$labelBgStyle,\n    _ref3$labelBgPadding = _ref3.labelBgPadding,\n    labelBgPadding = _ref3$labelBgPadding === void 0 ? [2, 4] : _ref3$labelBgPadding,\n    _ref3$labelBgBorderRa = _ref3.labelBgBorderRadius,\n    labelBgBorderRadius = _ref3$labelBgBorderRa === void 0 ? 2 : _ref3$labelBgBorderRa,\n    children = _ref3.children,\n    className = _ref3.className,\n    rest = _objectWithoutProperties(_ref3, _excluded2);\n  var edgeRef = useRef(null);\n  var _useState = useState({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    edgeTextBbox = _useState2[0],\n    setEdgeTextBbox = _useState2[1];\n  var edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n  useEffect(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, [label]);\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n  return React.createElement(\"g\", _objectSpread({\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\n    className: edgeTextClasses,\n    visibility: edgeTextBbox.width ? 'visible' : 'hidden'\n  }, rest), labelShowBg && React.createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), React.createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label), children);\n};\nvar EdgeText$1 = memo(EdgeText);\nvar getDimensions = function getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n};\nvar clamp = function clamp(val) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.min(Math.max(val, min), max);\n};\nvar clampPosition = function clampPosition() {\n  var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    x: 0,\n    y: 0\n  };\n  var extent = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n};\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nvar calcAutoPanVelocity = function calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, 50) / 50;\n  } else if (value > max) {\n    return -clamp(Math.abs(value - max), 1, 50) / 50;\n  }\n  return 0;\n};\nvar calcAutoPan = function calcAutoPan(pos, bounds) {\n  var xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n  var yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n  return [xMovement, yMovement];\n};\nvar getHostForElement = function getHostForElement(element) {\n  var _element$getRootNode, _window;\n  return ((_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element)) || ((_window = window) === null || _window === void 0 ? void 0 : _window.document);\n};\nvar getBoundsOfBoxes = function getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n};\nvar rectToBox = function rectToBox(_ref4) {\n  var x = _ref4.x,\n    y = _ref4.y,\n    width = _ref4.width,\n    height = _ref4.height;\n  return {\n    x: x,\n    y: y,\n    x2: x + width,\n    y2: y + height\n  };\n};\nvar boxToRect = function boxToRect(_ref5) {\n  var x = _ref5.x,\n    y = _ref5.y,\n    x2 = _ref5.x2,\n    y2 = _ref5.y2;\n  return {\n    x: x,\n    y: y,\n    width: x2 - x,\n    height: y2 - y\n  };\n};\nvar nodeToRect = function nodeToRect(node) {\n  return _objectSpread(_objectSpread({}, node.positionAbsolute || {\n    x: 0,\n    y: 0\n  }), {}, {\n    width: node.width || 0,\n    height: node.height || 0\n  });\n};\nvar getBoundsOfRects = function getBoundsOfRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n};\nvar getOverlappingArea = function getOverlappingArea(rectA, rectB) {\n  var xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  var yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar isRectObject = function isRectObject(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n};\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nvar isNumeric = function isNumeric(n) {\n  return !isNaN(n) && isFinite(n);\n};\nvar internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nvar elementSelectionKeys = ['Enter', ' ', 'Escape'];\nvar devWarn = function devWarn(id, message) {\n  if (process.env.NODE_ENV === 'development') {\n    console.warn(\"[React Flow]: \".concat(message, \" Help: https://reactflow.dev/error#\").concat(id));\n  }\n};\nvar isReactKeyboardEvent = function isReactKeyboardEvent(event) {\n  return 'nativeEvent' in event;\n};\nfunction isInputDOMNode(event) {\n  var _kbEvent$composedPath;\n  var kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n  // using composed path for handling shadow dom\n  var target = ((_kbEvent$composedPath = kbEvent.composedPath) === null || _kbEvent$composedPath === void 0 || (_kbEvent$composedPath = _kbEvent$composedPath.call(kbEvent)) === null || _kbEvent$composedPath === void 0 ? void 0 : _kbEvent$composedPath[0]) || event.target;\n  var isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\n  // when an input field is focused we don't want to trigger deletion or movement of nodes\n  return isInput || !!(target !== null && target !== void 0 && target.closest('.nokey'));\n}\nvar isMouseEvent = function isMouseEvent(event) {\n  return 'clientX' in event;\n};\nvar getEventPosition = function getEventPosition(event, bounds) {\n  var _event$touches, _event$touches2, _bounds$left, _bounds$top;\n  var isMouseTriggered = isMouseEvent(event);\n  var evtX = isMouseTriggered ? event.clientX : (_event$touches = event.touches) === null || _event$touches === void 0 ? void 0 : _event$touches[0].clientX;\n  var evtY = isMouseTriggered ? event.clientY : (_event$touches2 = event.touches) === null || _event$touches2 === void 0 ? void 0 : _event$touches2[0].clientY;\n  return {\n    x: evtX - ((_bounds$left = bounds === null || bounds === void 0 ? void 0 : bounds.left) !== null && _bounds$left !== void 0 ? _bounds$left : 0),\n    y: evtY - ((_bounds$top = bounds === null || bounds === void 0 ? void 0 : bounds.top) !== null && _bounds$top !== void 0 ? _bounds$top : 0)\n  };\n};\nvar isMacOs = function isMacOs() {\n  var _navigator;\n  return typeof navigator !== 'undefined' && ((_navigator = navigator) === null || _navigator === void 0 || (_navigator = _navigator.userAgent) === null || _navigator === void 0 ? void 0 : _navigator.indexOf('Mac')) >= 0;\n};\nvar BaseEdge = function BaseEdge(_ref6) {\n  var id = _ref6.id,\n    path = _ref6.path,\n    labelX = _ref6.labelX,\n    labelY = _ref6.labelY,\n    label = _ref6.label,\n    labelStyle = _ref6.labelStyle,\n    labelShowBg = _ref6.labelShowBg,\n    labelBgStyle = _ref6.labelBgStyle,\n    labelBgPadding = _ref6.labelBgPadding,\n    labelBgBorderRadius = _ref6.labelBgBorderRadius,\n    style = _ref6.style,\n    markerEnd = _ref6.markerEnd,\n    markerStart = _ref6.markerStart,\n    _ref6$interactionWidt = _ref6.interactionWidth,\n    interactionWidth = _ref6$interactionWidt === void 0 ? 20 : _ref6$interactionWidt;\n  return React.createElement(React.Fragment, null, React.createElement(\"path\", {\n    id: id,\n    style: style,\n    d: path,\n    fill: \"none\",\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  }), interactionWidth && React.createElement(\"path\", {\n    d: path,\n    fill: \"none\",\n    strokeOpacity: 0,\n    strokeWidth: interactionWidth,\n    className: \"react-flow__edge-interaction\"\n  }), label && isNumeric(labelX) && isNumeric(labelY) ? React.createElement(EdgeText$1, {\n    x: labelX,\n    y: labelY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null);\n};\nBaseEdge.displayName = 'BaseEdge';\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\".concat(markerEndId, \")\");\n  }\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var edge = getState().edges.find(function (e) {\n      return e.id === id;\n    });\n    if (edge) {\n      handler(event, _objectSpread({}, edge));\n    }\n  };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter(_ref7) {\n  var sourceX = _ref7.sourceX,\n    sourceY = _ref7.sourceY,\n    targetX = _ref7.targetX,\n    targetY = _ref7.targetY;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter(_ref8) {\n  var sourceX = _ref8.sourceX,\n    sourceY = _ref8.sourceY,\n    targetX = _ref8.targetX,\n    targetY = _ref8.targetY,\n    sourceControlX = _ref8.sourceControlX,\n    sourceControlY = _ref8.sourceControlY,\n    targetControlX = _ref8.targetControlX,\n    targetControlY = _ref8.targetControlY;\n  // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var offsetX = Math.abs(centerX - sourceX);\n  var offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nvar ConnectionMode;\n(function (ConnectionMode) {\n  ConnectionMode[\"Strict\"] = \"strict\";\n  ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n  PanOnScrollMode[\"Free\"] = \"free\";\n  PanOnScrollMode[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n  SelectionMode[\"Partial\"] = \"partial\";\n  SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n  ConnectionLineType[\"Bezier\"] = \"default\";\n  ConnectionLineType[\"Straight\"] = \"straight\";\n  ConnectionLineType[\"Step\"] = \"step\";\n  ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n  ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n  MarkerType[\"Arrow\"] = \"arrow\";\n  MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\nvar Position;\n(function (Position) {\n  Position[\"Left\"] = \"left\";\n  Position[\"Top\"] = \"top\";\n  Position[\"Right\"] = \"right\";\n  Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\nfunction getControl(_ref9) {\n  var pos = _ref9.pos,\n    x1 = _ref9.x1,\n    y1 = _ref9.y1,\n    x2 = _ref9.x2,\n    y2 = _ref9.y2;\n  if (pos === Position.Left || pos === Position.Right) {\n    return [0.5 * (x1 + x2), y1];\n  }\n  return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath(_ref10) {\n  var sourceX = _ref10.sourceX,\n    sourceY = _ref10.sourceY,\n    _ref10$sourcePosition = _ref10.sourcePosition,\n    sourcePosition = _ref10$sourcePosition === void 0 ? Position.Bottom : _ref10$sourcePosition,\n    targetX = _ref10.targetX,\n    targetY = _ref10.targetY,\n    _ref10$targetPosition = _ref10.targetPosition,\n    targetPosition = _ref10$targetPosition === void 0 ? Position.Top : _ref10$targetPosition;\n  var _getControl = getControl({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY\n    }),\n    _getControl2 = _slicedToArray(_getControl, 2),\n    sourceControlX = _getControl2[0],\n    sourceControlY = _getControl2[1];\n  var _getControl3 = getControl({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY\n    }),\n    _getControl4 = _slicedToArray(_getControl3, 2),\n    targetControlX = _getControl4[0],\n    targetControlY = _getControl4[1];\n  var _getBezierEdgeCenter = getBezierEdgeCenter({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourceControlX: sourceControlX,\n      sourceControlY: sourceControlY,\n      targetControlX: targetControlX,\n      targetControlY: targetControlY\n    }),\n    _getBezierEdgeCenter2 = _slicedToArray(_getBezierEdgeCenter, 4),\n    labelX = _getBezierEdgeCenter2[0],\n    labelY = _getBezierEdgeCenter2[1],\n    offsetX = _getBezierEdgeCenter2[2],\n    offsetY = _getBezierEdgeCenter2[3];\n  return [\"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY), labelX, labelY, offsetX, offsetY];\n}\nvar SimpleBezierEdge = memo(function (_ref11) {\n  var sourceX = _ref11.sourceX,\n    sourceY = _ref11.sourceY,\n    targetX = _ref11.targetX,\n    targetY = _ref11.targetY,\n    _ref11$sourcePosition = _ref11.sourcePosition,\n    sourcePosition = _ref11$sourcePosition === void 0 ? Position.Bottom : _ref11$sourcePosition,\n    _ref11$targetPosition = _ref11.targetPosition,\n    targetPosition = _ref11$targetPosition === void 0 ? Position.Top : _ref11$targetPosition,\n    label = _ref11.label,\n    labelStyle = _ref11.labelStyle,\n    labelShowBg = _ref11.labelShowBg,\n    labelBgStyle = _ref11.labelBgStyle,\n    labelBgPadding = _ref11.labelBgPadding,\n    labelBgBorderRadius = _ref11.labelBgBorderRadius,\n    style = _ref11.style,\n    markerEnd = _ref11.markerEnd,\n    markerStart = _ref11.markerStart,\n    interactionWidth = _ref11.interactionWidth;\n  var _getSimpleBezierPath = getSimpleBezierPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourcePosition,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition\n    }),\n    _getSimpleBezierPath2 = _slicedToArray(_getSimpleBezierPath, 3),\n    path = _getSimpleBezierPath2[0],\n    labelX = _getSimpleBezierPath2[1],\n    labelY = _getSimpleBezierPath2[2];\n  return React.createElement(BaseEdge, {\n    path: path,\n    labelX: labelX,\n    labelY: labelY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart,\n    interactionWidth: interactionWidth\n  });\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\nvar handleDirections = (_handleDirections = {}, _defineProperty(_handleDirections, Position.Left, {\n  x: -1,\n  y: 0\n}), _defineProperty(_handleDirections, Position.Right, {\n  x: 1,\n  y: 0\n}), _defineProperty(_handleDirections, Position.Top, {\n  x: 0,\n  y: -1\n}), _defineProperty(_handleDirections, Position.Bottom, {\n  x: 0,\n  y: 1\n}), _handleDirections);\nvar getDirection = function getDirection(_ref12) {\n  var source = _ref12.source,\n    _ref12$sourcePosition = _ref12.sourcePosition,\n    sourcePosition = _ref12$sourcePosition === void 0 ? Position.Bottom : _ref12$sourcePosition,\n    target = _ref12.target;\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? {\n      x: 1,\n      y: 0\n    } : {\n      x: -1,\n      y: 0\n    };\n  }\n  return source.y < target.y ? {\n    x: 0,\n    y: 1\n  } : {\n    x: 0,\n    y: -1\n  };\n};\nvar distance = function distance(a, b) {\n  return Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n};\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints(_ref13) {\n  var source = _ref13.source,\n    _ref13$sourcePosition = _ref13.sourcePosition,\n    sourcePosition = _ref13$sourcePosition === void 0 ? Position.Bottom : _ref13$sourcePosition,\n    target = _ref13.target,\n    _ref13$targetPosition = _ref13.targetPosition,\n    targetPosition = _ref13$targetPosition === void 0 ? Position.Top : _ref13$targetPosition,\n    center = _ref13.center,\n    offset = _ref13.offset;\n  var sourceDir = handleDirections[sourcePosition];\n  var targetDir = handleDirections[targetPosition];\n  var sourceGapped = {\n    x: source.x + sourceDir.x * offset,\n    y: source.y + sourceDir.y * offset\n  };\n  var targetGapped = {\n    x: target.x + targetDir.x * offset,\n    y: target.y + targetDir.y * offset\n  };\n  var dir = getDirection({\n    source: sourceGapped,\n    sourcePosition: sourcePosition,\n    target: targetGapped\n  });\n  var dirAccessor = dir.x !== 0 ? 'x' : 'y';\n  var currDir = dir[dirAccessor];\n  var points = [];\n  var centerX, centerY;\n  var sourceGapOffset = {\n    x: 0,\n    y: 0\n  };\n  var targetGapOffset = {\n    x: 0,\n    y: 0\n  };\n  var _getEdgeCenter = getEdgeCenter({\n      sourceX: source.x,\n      sourceY: source.y,\n      targetX: target.x,\n      targetY: target.y\n    }),\n    _getEdgeCenter2 = _slicedToArray(_getEdgeCenter, 4),\n    defaultCenterX = _getEdgeCenter2[0],\n    defaultCenterY = _getEdgeCenter2[1],\n    defaultOffsetX = _getEdgeCenter2[2],\n    defaultOffsetY = _getEdgeCenter2[3];\n  // opposite handle positions, default case\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x || defaultCenterX;\n    centerY = center.y || defaultCenterY;\n    //    --->\n    //    |\n    // >---\n    var verticalSplit = [{\n      x: centerX,\n      y: sourceGapped.y\n    }, {\n      x: centerX,\n      y: targetGapped.y\n    }];\n    //    |\n    //  ---\n    //  |\n    var horizontalSplit = [{\n      x: sourceGapped.x,\n      y: centerY\n    }, {\n      x: targetGapped.x,\n      y: centerY\n    }];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    // sourceTarget means we take x from source and y from target, targetSource is the opposite\n    var sourceTarget = [{\n      x: sourceGapped.x,\n      y: targetGapped.y\n    }];\n    var targetSource = [{\n      x: targetGapped.x,\n      y: sourceGapped.y\n    }];\n    // this handles edges with same handle positions\n    if (dirAccessor === 'x') {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      var diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n      if (diff <= offset) {\n        var gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    // these are conditions for handling mixed handle positions like Right -> Bottom for example\n    if (sourcePosition !== targetPosition) {\n      var dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n      var isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      var sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      var sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      var flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === 'x' ? sourceTarget : targetSource;\n      }\n    }\n    var sourceGapPoint = {\n      x: sourceGapped.x + sourceGapOffset.x,\n      y: sourceGapped.y + sourceGapOffset.y\n    };\n    var targetGapPoint = {\n      x: targetGapped.x + targetGapOffset.x,\n      y: targetGapped.y + targetGapOffset.y\n    };\n    var maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    var maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    // we want to place the label on the longest segment of the edge\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  var pathPoints = [source, {\n    x: sourceGapped.x + sourceGapOffset.x,\n    y: sourceGapped.y + sourceGapOffset.y\n  }].concat(_toConsumableArray(points), [{\n    x: targetGapped.x + targetGapOffset.x,\n    y: targetGapped.y + targetGapOffset.y\n  }, target]);\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  var bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  var x = b.x,\n    y = b.y;\n  // no bend\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return \"L\".concat(x, \" \").concat(y);\n  }\n  // first segment is horizontal\n  if (a.y === y) {\n    var _xDir = a.x < c.x ? -1 : 1;\n    var _yDir = a.y < c.y ? 1 : -1;\n    return \"L \".concat(x + bendSize * _xDir, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + bendSize * _yDir);\n  }\n  var xDir = a.x < c.x ? 1 : -1;\n  var yDir = a.y < c.y ? -1 : 1;\n  return \"L \".concat(x, \",\").concat(y + bendSize * yDir, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + bendSize * xDir, \",\").concat(y);\n}\nfunction getSmoothStepPath(_ref14) {\n  var sourceX = _ref14.sourceX,\n    sourceY = _ref14.sourceY,\n    _ref14$sourcePosition = _ref14.sourcePosition,\n    sourcePosition = _ref14$sourcePosition === void 0 ? Position.Bottom : _ref14$sourcePosition,\n    targetX = _ref14.targetX,\n    targetY = _ref14.targetY,\n    _ref14$targetPosition = _ref14.targetPosition,\n    targetPosition = _ref14$targetPosition === void 0 ? Position.Top : _ref14$targetPosition,\n    _ref14$borderRadius = _ref14.borderRadius,\n    borderRadius = _ref14$borderRadius === void 0 ? 5 : _ref14$borderRadius,\n    centerX = _ref14.centerX,\n    centerY = _ref14.centerY,\n    _ref14$offset = _ref14.offset,\n    offset = _ref14$offset === void 0 ? 20 : _ref14$offset;\n  var _getPoints = getPoints({\n      source: {\n        x: sourceX,\n        y: sourceY\n      },\n      sourcePosition: sourcePosition,\n      target: {\n        x: targetX,\n        y: targetY\n      },\n      targetPosition: targetPosition,\n      center: {\n        x: centerX,\n        y: centerY\n      },\n      offset: offset\n    }),\n    _getPoints2 = _slicedToArray(_getPoints, 5),\n    points = _getPoints2[0],\n    labelX = _getPoints2[1],\n    labelY = _getPoints2[2],\n    offsetX = _getPoints2[3],\n    offsetY = _getPoints2[4];\n  var path = points.reduce(function (res, p, i) {\n    var segment = '';\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = \"\".concat(i === 0 ? 'M' : 'L').concat(p.x, \" \").concat(p.y);\n    }\n    res += segment;\n    return res;\n  }, '');\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nvar SmoothStepEdge = memo(function (_ref15) {\n  var sourceX = _ref15.sourceX,\n    sourceY = _ref15.sourceY,\n    targetX = _ref15.targetX,\n    targetY = _ref15.targetY,\n    label = _ref15.label,\n    labelStyle = _ref15.labelStyle,\n    labelShowBg = _ref15.labelShowBg,\n    labelBgStyle = _ref15.labelBgStyle,\n    labelBgPadding = _ref15.labelBgPadding,\n    labelBgBorderRadius = _ref15.labelBgBorderRadius,\n    style = _ref15.style,\n    _ref15$sourcePosition = _ref15.sourcePosition,\n    sourcePosition = _ref15$sourcePosition === void 0 ? Position.Bottom : _ref15$sourcePosition,\n    _ref15$targetPosition = _ref15.targetPosition,\n    targetPosition = _ref15$targetPosition === void 0 ? Position.Top : _ref15$targetPosition,\n    markerEnd = _ref15.markerEnd,\n    markerStart = _ref15.markerStart,\n    pathOptions = _ref15.pathOptions,\n    interactionWidth = _ref15.interactionWidth;\n  var _getSmoothStepPath = getSmoothStepPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourcePosition,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition,\n      borderRadius: pathOptions === null || pathOptions === void 0 ? void 0 : pathOptions.borderRadius,\n      offset: pathOptions === null || pathOptions === void 0 ? void 0 : pathOptions.offset\n    }),\n    _getSmoothStepPath2 = _slicedToArray(_getSmoothStepPath, 3),\n    path = _getSmoothStepPath2[0],\n    labelX = _getSmoothStepPath2[1],\n    labelY = _getSmoothStepPath2[2];\n  return React.createElement(BaseEdge, {\n    path: path,\n    labelX: labelX,\n    labelY: labelY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart,\n    interactionWidth: interactionWidth\n  });\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\nvar StepEdge = memo(function (props) {\n  var _props$pathOptions2;\n  return React.createElement(SmoothStepEdge, _objectSpread(_objectSpread({}, props), {}, {\n    pathOptions: useMemo(function () {\n      var _props$pathOptions;\n      return {\n        borderRadius: 0,\n        offset: (_props$pathOptions = props.pathOptions) === null || _props$pathOptions === void 0 ? void 0 : _props$pathOptions.offset\n      };\n    }, [(_props$pathOptions2 = props.pathOptions) === null || _props$pathOptions2 === void 0 ? void 0 : _props$pathOptions2.offset])\n  }));\n});\nStepEdge.displayName = 'StepEdge';\nfunction getStraightPath(_ref16) {\n  var sourceX = _ref16.sourceX,\n    sourceY = _ref16.sourceY,\n    targetX = _ref16.targetX,\n    targetY = _ref16.targetY;\n  var _getEdgeCenter3 = getEdgeCenter({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY\n    }),\n    _getEdgeCenter4 = _slicedToArray(_getEdgeCenter3, 4),\n    labelX = _getEdgeCenter4[0],\n    labelY = _getEdgeCenter4[1],\n    offsetX = _getEdgeCenter4[2],\n    offsetY = _getEdgeCenter4[3];\n  return [\"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY), labelX, labelY, offsetX, offsetY];\n}\nvar StraightEdge = memo(function (_ref17) {\n  var sourceX = _ref17.sourceX,\n    sourceY = _ref17.sourceY,\n    targetX = _ref17.targetX,\n    targetY = _ref17.targetY,\n    label = _ref17.label,\n    labelStyle = _ref17.labelStyle,\n    labelShowBg = _ref17.labelShowBg,\n    labelBgStyle = _ref17.labelBgStyle,\n    labelBgPadding = _ref17.labelBgPadding,\n    labelBgBorderRadius = _ref17.labelBgBorderRadius,\n    style = _ref17.style,\n    markerEnd = _ref17.markerEnd,\n    markerStart = _ref17.markerStart,\n    interactionWidth = _ref17.interactionWidth;\n  var _getStraightPath = getStraightPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY\n    }),\n    _getStraightPath2 = _slicedToArray(_getStraightPath, 3),\n    path = _getStraightPath2[0],\n    labelX = _getStraightPath2[1],\n    labelY = _getStraightPath2[2];\n  return React.createElement(BaseEdge, {\n    path: path,\n    labelX: labelX,\n    labelY: labelY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart,\n    interactionWidth: interactionWidth\n  });\n});\nStraightEdge.displayName = 'StraightEdge';\nfunction calculateControlOffset(distance, curvature) {\n  if (distance >= 0) {\n    return 0.5 * distance;\n  }\n  return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature(_ref18) {\n  var pos = _ref18.pos,\n    x1 = _ref18.x1,\n    y1 = _ref18.y1,\n    x2 = _ref18.x2,\n    y2 = _ref18.y2,\n    c = _ref18.c;\n  switch (pos) {\n    case Position.Left:\n      return [x1 - calculateControlOffset(x1 - x2, c), y1];\n    case Position.Right:\n      return [x1 + calculateControlOffset(x2 - x1, c), y1];\n    case Position.Top:\n      return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n    case Position.Bottom:\n      return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n  }\n}\nfunction getBezierPath(_ref19) {\n  var sourceX = _ref19.sourceX,\n    sourceY = _ref19.sourceY,\n    _ref19$sourcePosition = _ref19.sourcePosition,\n    sourcePosition = _ref19$sourcePosition === void 0 ? Position.Bottom : _ref19$sourcePosition,\n    targetX = _ref19.targetX,\n    targetY = _ref19.targetY,\n    _ref19$targetPosition = _ref19.targetPosition,\n    targetPosition = _ref19$targetPosition === void 0 ? Position.Top : _ref19$targetPosition,\n    _ref19$curvature = _ref19.curvature,\n    curvature = _ref19$curvature === void 0 ? 0.25 : _ref19$curvature;\n  var _getControlWithCurvat = getControlWithCurvature({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY,\n      c: curvature\n    }),\n    _getControlWithCurvat2 = _slicedToArray(_getControlWithCurvat, 2),\n    sourceControlX = _getControlWithCurvat2[0],\n    sourceControlY = _getControlWithCurvat2[1];\n  var _getControlWithCurvat3 = getControlWithCurvature({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY,\n      c: curvature\n    }),\n    _getControlWithCurvat4 = _slicedToArray(_getControlWithCurvat3, 2),\n    targetControlX = _getControlWithCurvat4[0],\n    targetControlY = _getControlWithCurvat4[1];\n  var _getBezierEdgeCenter3 = getBezierEdgeCenter({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourceControlX: sourceControlX,\n      sourceControlY: sourceControlY,\n      targetControlX: targetControlX,\n      targetControlY: targetControlY\n    }),\n    _getBezierEdgeCenter4 = _slicedToArray(_getBezierEdgeCenter3, 4),\n    labelX = _getBezierEdgeCenter4[0],\n    labelY = _getBezierEdgeCenter4[1],\n    offsetX = _getBezierEdgeCenter4[2],\n    offsetY = _getBezierEdgeCenter4[3];\n  return [\"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY), labelX, labelY, offsetX, offsetY];\n}\nvar BezierEdge = memo(function (_ref20) {\n  var sourceX = _ref20.sourceX,\n    sourceY = _ref20.sourceY,\n    targetX = _ref20.targetX,\n    targetY = _ref20.targetY,\n    _ref20$sourcePosition = _ref20.sourcePosition,\n    sourcePosition = _ref20$sourcePosition === void 0 ? Position.Bottom : _ref20$sourcePosition,\n    _ref20$targetPosition = _ref20.targetPosition,\n    targetPosition = _ref20$targetPosition === void 0 ? Position.Top : _ref20$targetPosition,\n    label = _ref20.label,\n    labelStyle = _ref20.labelStyle,\n    labelShowBg = _ref20.labelShowBg,\n    labelBgStyle = _ref20.labelBgStyle,\n    labelBgPadding = _ref20.labelBgPadding,\n    labelBgBorderRadius = _ref20.labelBgBorderRadius,\n    style = _ref20.style,\n    markerEnd = _ref20.markerEnd,\n    markerStart = _ref20.markerStart,\n    pathOptions = _ref20.pathOptions,\n    interactionWidth = _ref20.interactionWidth;\n  var _getBezierPath = getBezierPath({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      sourcePosition: sourcePosition,\n      targetX: targetX,\n      targetY: targetY,\n      targetPosition: targetPosition,\n      curvature: pathOptions === null || pathOptions === void 0 ? void 0 : pathOptions.curvature\n    }),\n    _getBezierPath2 = _slicedToArray(_getBezierPath, 3),\n    path = _getBezierPath2[0],\n    labelX = _getBezierPath2[1],\n    labelY = _getBezierPath2[2];\n  return React.createElement(BaseEdge, {\n    path: path,\n    labelX: labelX,\n    labelY: labelY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart,\n    interactionWidth: interactionWidth\n  });\n});\nBezierEdge.displayName = 'BezierEdge';\nvar NodeIdContext = createContext(null);\nvar Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nvar useNodeId = function useNodeId() {\n  var nodeId = useContext(NodeIdContext);\n  return nodeId;\n};\nvar isEdge = function isEdge(element) {\n  return 'id' in element && 'source' in element && 'target' in element;\n};\nvar isNode = function isNode(element) {\n  return 'id' in element && !('source' in element) && !('target' in element);\n};\nvar getOutgoers = function getOutgoers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n  var outgoerIds = edges.filter(function (e) {\n    return e.source === node.id;\n  }).map(function (e) {\n    return e.target;\n  });\n  return nodes.filter(function (n) {\n    return outgoerIds.includes(n.id);\n  });\n};\nvar getIncomers = function getIncomers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n  var incomersIds = edges.filter(function (e) {\n    return e.target === node.id;\n  }).map(function (e) {\n    return e.source;\n  });\n  return nodes.filter(function (n) {\n    return incomersIds.includes(n.id);\n  });\n};\nvar getEdgeId = function getEdgeId(_ref21) {\n  var source = _ref21.source,\n    sourceHandle = _ref21.sourceHandle,\n    target = _ref21.target,\n    targetHandle = _ref21.targetHandle;\n  return \"reactflow__edge-\".concat(source).concat(sourceHandle || '', \"-\").concat(target).concat(targetHandle || '');\n};\nvar getMarkerId = function getMarkerId(marker, rfId) {\n  if (typeof marker === 'undefined') {\n    return '';\n  }\n  if (typeof marker === 'string') {\n    return marker;\n  }\n  var idPrefix = rfId ? \"\".concat(rfId, \"__\") : '';\n  return \"\".concat(idPrefix).concat(Object.keys(marker).sort().map(function (key) {\n    return \"\".concat(key, \"=\").concat(marker[key]);\n  }).join('&'));\n};\nvar connectionExists = function connectionExists(edge, edges) {\n  return edges.some(function (el) {\n    return el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle);\n  });\n};\nvar addEdge = function addEdge(edgeParams, edges) {\n  if (!edgeParams.source || !edgeParams.target) {\n    devWarn('006', errorMessages['error006']());\n    return edges;\n  }\n  var edge;\n  if (isEdge(edgeParams)) {\n    edge = _objectSpread({}, edgeParams);\n  } else {\n    edge = _objectSpread(_objectSpread({}, edgeParams), {}, {\n      id: getEdgeId(edgeParams)\n    });\n  }\n  if (connectionExists(edge, edges)) {\n    return edges;\n  }\n  return edges.concat(edge);\n};\nvar updateEdge = function updateEdge(oldEdge, newConnection, edges) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n    shouldReplaceId: true\n  };\n  var oldEdgeId = oldEdge.id,\n    rest = _objectWithoutProperties(oldEdge, _excluded3);\n  if (!newConnection.source || !newConnection.target) {\n    devWarn('006', errorMessages['error006']());\n    return edges;\n  }\n  var foundEdge = edges.find(function (e) {\n    return e.id === oldEdgeId;\n  });\n  if (!foundEdge) {\n    devWarn('007', errorMessages['error007'](oldEdgeId));\n    return edges;\n  }\n  // Remove old edge and create the new edge with parameters of old edge.\n  var edge = _objectSpread(_objectSpread({}, rest), {}, {\n    id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  });\n  return edges.filter(function (e) {\n    return e.id !== oldEdgeId;\n  }).concat(edge);\n};\nvar pointToRendererPoint = function pointToRendererPoint(_ref22, _ref23, snapToGrid, _ref24) {\n  var x = _ref22.x,\n    y = _ref22.y;\n  var _ref25 = _slicedToArray(_ref23, 3),\n    tx = _ref25[0],\n    ty = _ref25[1],\n    tScale = _ref25[2];\n  var _ref26 = _slicedToArray(_ref24, 2),\n    snapX = _ref26[0],\n    snapY = _ref26[1];\n  var position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n  return position;\n};\nvar rendererPointToPoint = function rendererPointToPoint(_ref27, _ref28) {\n  var x = _ref27.x,\n    y = _ref27.y;\n  var _ref29 = _slicedToArray(_ref28, 3),\n    tx = _ref29[0],\n    ty = _ref29[1],\n    tScale = _ref29[2];\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n};\nvar getNodePositionWithOrigin = function getNodePositionWithOrigin(node) {\n  var _node$width, _node$height;\n  var nodeOrigin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n  if (!node) {\n    return {\n      x: 0,\n      y: 0,\n      positionAbsolute: {\n        x: 0,\n        y: 0\n      }\n    };\n  }\n  var offsetX = ((_node$width = node.width) !== null && _node$width !== void 0 ? _node$width : 0) * nodeOrigin[0];\n  var offsetY = ((_node$height = node.height) !== null && _node$height !== void 0 ? _node$height : 0) * nodeOrigin[1];\n  var position = {\n    x: node.position.x - offsetX,\n    y: node.position.y - offsetY\n  };\n  return _objectSpread(_objectSpread({}, position), {}, {\n    positionAbsolute: node.positionAbsolute ? {\n      x: node.positionAbsolute.x - offsetX,\n      y: node.positionAbsolute.y - offsetY\n    } : position\n  });\n};\nvar getRectOfNodes = function getRectOfNodes(nodes) {\n  var nodeOrigin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n  if (nodes.length === 0) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n  var box = nodes.reduce(function (currBox, node) {\n    var _getNodePositionWithO = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute,\n      x = _getNodePositionWithO.x,\n      y = _getNodePositionWithO.y;\n    return getBoundsOfBoxes(currBox, rectToBox({\n      x: x,\n      y: y,\n      width: node.width || 0,\n      height: node.height || 0\n    }));\n  }, {\n    x: Infinity,\n    y: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  });\n  return boxToRect(box);\n};\nvar getNodesInside = function getNodesInside(nodeInternals, rect) {\n  var _ref30 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0, 1],\n    _ref31 = _slicedToArray(_ref30, 3),\n    tx = _ref31[0],\n    ty = _ref31[1],\n    tScale = _ref31[2];\n  var partially = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var excludeNonSelectableNodes = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var nodeOrigin = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [0, 0];\n  var paneRect = {\n    x: (rect.x - tx) / tScale,\n    y: (rect.y - ty) / tScale,\n    width: rect.width / tScale,\n    height: rect.height / tScale\n  };\n  var visibleNodes = [];\n  nodeInternals.forEach(function (node) {\n    var width = node.width,\n      height = node.height,\n      _node$selectable = node.selectable,\n      selectable = _node$selectable === void 0 ? true : _node$selectable,\n      _node$hidden = node.hidden,\n      hidden = _node$hidden === void 0 ? false : _node$hidden;\n    if (excludeNonSelectableNodes && !selectable || hidden) {\n      return false;\n    }\n    var _getNodePositionWithO2 = getNodePositionWithOrigin(node, nodeOrigin),\n      positionAbsolute = _getNodePositionWithO2.positionAbsolute;\n    var nodeRect = {\n      x: positionAbsolute.x,\n      y: positionAbsolute.y,\n      width: width || 0,\n      height: height || 0\n    };\n    var overlappingArea = getOverlappingArea(paneRect, nodeRect);\n    var notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n    var partiallyVisible = partially && overlappingArea > 0;\n    var area = (width || 0) * (height || 0);\n    var isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n    if (isVisible || node.dragging) {\n      visibleNodes.push(node);\n    }\n  });\n  return visibleNodes;\n};\nvar getConnectedEdges = function getConnectedEdges(nodes, edges) {\n  var nodeIds = nodes.map(function (node) {\n    return node.id;\n  });\n  return edges.filter(function (edge) {\n    return nodeIds.includes(edge.source) || nodeIds.includes(edge.target);\n  });\n};\nvar getTransformForBounds = function getTransformForBounds(bounds, width, height, minZoom, maxZoom) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n  var xZoom = width / (bounds.width * (1 + padding));\n  var yZoom = height / (bounds.height * (1 + padding));\n  var zoom = Math.min(xZoom, yZoom);\n  var clampedZoom = clamp(zoom, minZoom, maxZoom);\n  var boundsCenterX = bounds.x + bounds.width / 2;\n  var boundsCenterY = bounds.y + bounds.height / 2;\n  var x = width / 2 - boundsCenterX * clampedZoom;\n  var y = height / 2 - boundsCenterY * clampedZoom;\n  return [x, y, clampedZoom];\n};\nvar getD3Transition = function getD3Transition(selection) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n  return (handleBounds[type] || []).reduce(function (res, h) {\n    if (\"\".concat(node.id, \"-\").concat(h.id, \"-\").concat(type) !== currentHandle) {\n      var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n      res.push({\n        id: h.id || null,\n        type: type,\n        nodeId: node.id,\n        x: ((_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0) + h.x + h.width / 2,\n        y: ((_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0) + h.y + h.height / 2\n      });\n    }\n    return res;\n  }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n  // we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n  // because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n  var _getEventPosition = getEventPosition(event),\n    x = _getEventPosition.x,\n    y = _getEventPosition.y;\n  var domNodes = doc.elementsFromPoint(x, y);\n  var handleBelow = domNodes.find(function (el) {\n    return el.classList.contains('react-flow__handle');\n  });\n  if (handleBelow) {\n    var handleNodeId = handleBelow.getAttribute('data-nodeid');\n    if (handleNodeId) {\n      var handleType = getHandleType(undefined, handleBelow);\n      var handleId = handleBelow.getAttribute('data-handleid');\n      var validHandleResult = validator({\n        nodeId: handleNodeId,\n        id: handleId,\n        type: handleType\n      });\n      if (validHandleResult) {\n        return {\n          handle: {\n            id: handleId,\n            type: handleType,\n            nodeId: handleNodeId,\n            x: pos.x,\n            y: pos.y\n          },\n          validHandleResult: validHandleResult\n        };\n      }\n    }\n  }\n  // if we couldn't find a handle below the mouse cursor we look for the closest distance based on the connectionRadius\n  var closestHandles = [];\n  var minDistance = Infinity;\n  handles.forEach(function (handle) {\n    var distance = Math.sqrt(Math.pow(handle.x - pos.x, 2) + Math.pow(handle.y - pos.y, 2));\n    if (distance <= connectionRadius) {\n      var _validHandleResult = validator(handle);\n      if (distance <= minDistance) {\n        if (distance < minDistance) {\n          closestHandles = [{\n            handle: handle,\n            validHandleResult: _validHandleResult\n          }];\n        } else if (distance === minDistance) {\n          // when multiple handles are on the same distance we collect all of them\n          closestHandles.push({\n            handle: handle,\n            validHandleResult: _validHandleResult\n          });\n        }\n        minDistance = distance;\n      }\n    }\n  });\n  if (!closestHandles.length) {\n    return {\n      handle: null,\n      validHandleResult: defaultResult()\n    };\n  }\n  if (closestHandles.length === 1) {\n    return closestHandles[0];\n  }\n  var hasValidHandle = closestHandles.some(function (_ref32) {\n    var validHandleResult = _ref32.validHandleResult;\n    return validHandleResult.isValid;\n  });\n  var hasTargetHandle = closestHandles.some(function (_ref33) {\n    var handle = _ref33.handle;\n    return handle.type === 'target';\n  });\n  // if multiple handles are layouted on top of each other we prefer the one with type = target and the one that is valid\n  return closestHandles.find(function (_ref34) {\n    var handle = _ref34.handle,\n      validHandleResult = _ref34.validHandleResult;\n    return hasTargetHandle ? handle.type === 'target' : hasValidHandle ? validHandleResult.isValid : true;\n  }) || closestHandles[0];\n}\nvar nullConnection = {\n  source: null,\n  target: null,\n  sourceHandle: null,\n  targetHandle: null\n};\nvar defaultResult = function defaultResult() {\n  return {\n    handleDomNode: null,\n    isValid: false,\n    connection: nullConnection,\n    endHandle: null\n  };\n};\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n  var isTarget = fromType === 'target';\n  var handleToCheck = doc.querySelector(\".react-flow__handle[data-id=\\\"\".concat(handle === null || handle === void 0 ? void 0 : handle.nodeId, \"-\").concat(handle === null || handle === void 0 ? void 0 : handle.id, \"-\").concat(handle === null || handle === void 0 ? void 0 : handle.type, \"\\\"]\"));\n  var result = _objectSpread(_objectSpread({}, defaultResult()), {}, {\n    handleDomNode: handleToCheck\n  });\n  if (handleToCheck) {\n    var handleType = getHandleType(undefined, handleToCheck);\n    var handleNodeId = handleToCheck.getAttribute('data-nodeid');\n    var handleId = handleToCheck.getAttribute('data-handleid');\n    var connectable = handleToCheck.classList.contains('connectable');\n    var connectableEnd = handleToCheck.classList.contains('connectableend');\n    var connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    var isConnectable = connectable && connectableEnd;\n    // in strict mode we don't allow target to target or source to source connections\n    var isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === 'source' || !isTarget && handleType === 'target' : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    if (isValid) {\n      result.endHandle = {\n        nodeId: handleNodeId,\n        handleId: handleId,\n        type: handleType\n      };\n      result.isValid = isValidConnection(connection);\n    }\n  }\n  return result;\n}\nfunction getHandleLookup(_ref35) {\n  var nodes = _ref35.nodes,\n    nodeId = _ref35.nodeId,\n    handleId = _ref35.handleId,\n    handleType = _ref35.handleType;\n  return nodes.reduce(function (res, node) {\n    if (node[internalsSymbol]) {\n      var handleBounds = node[internalsSymbol].handleBounds;\n      var sourceHandles = [];\n      var targetHandles = [];\n      if (handleBounds) {\n        sourceHandles = getHandles(node, handleBounds, 'source', \"\".concat(nodeId, \"-\").concat(handleId, \"-\").concat(handleType));\n        targetHandles = getHandles(node, handleBounds, 'target', \"\".concat(nodeId, \"-\").concat(handleId, \"-\").concat(handleType));\n      }\n      res.push.apply(res, _toConsumableArray(sourceHandles).concat(_toConsumableArray(targetHandles)));\n    }\n    return res;\n  }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode !== null && handleDomNode !== void 0 && handleDomNode.classList.contains('target')) {\n    return 'target';\n  } else if (handleDomNode !== null && handleDomNode !== void 0 && handleDomNode.classList.contains('source')) {\n    return 'source';\n  }\n  return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode === null || handleDomNode === void 0 ? void 0 : handleDomNode.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  var connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = 'valid';\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = 'invalid';\n  }\n  return connectionStatus;\n}\nfunction handlePointerDown(_ref36) {\n  var event = _ref36.event,\n    handleId = _ref36.handleId,\n    nodeId = _ref36.nodeId,\n    onConnect = _ref36.onConnect,\n    isTarget = _ref36.isTarget,\n    getState = _ref36.getState,\n    setState = _ref36.setState,\n    isValidConnection = _ref36.isValidConnection,\n    edgeUpdaterType = _ref36.edgeUpdaterType,\n    onEdgeUpdateEnd = _ref36.onEdgeUpdateEnd;\n  // when react-flow is used inside a shadow root we can't use document\n  var doc = getHostForElement(event.target);\n  var _getState = getState(),\n    connectionMode = _getState.connectionMode,\n    domNode = _getState.domNode,\n    autoPanOnConnect = _getState.autoPanOnConnect,\n    connectionRadius = _getState.connectionRadius,\n    onConnectStart = _getState.onConnectStart,\n    panBy = _getState.panBy,\n    getNodes = _getState.getNodes,\n    cancelConnection = _getState.cancelConnection;\n  var autoPanId = 0;\n  var closestHandle;\n  var _getEventPosition2 = getEventPosition(event),\n    x = _getEventPosition2.x,\n    y = _getEventPosition2.y;\n  var clickedHandle = doc === null || doc === void 0 ? void 0 : doc.elementFromPoint(x, y);\n  var handleType = getHandleType(edgeUpdaterType, clickedHandle);\n  var containerBounds = domNode === null || domNode === void 0 ? void 0 : domNode.getBoundingClientRect();\n  if (!containerBounds || !handleType) {\n    return;\n  }\n  var prevActiveHandle;\n  var connectionPosition = getEventPosition(event, containerBounds);\n  var autoPanStarted = false;\n  var connection = null;\n  var isValid = false;\n  var handleDomNode = null;\n  var handleLookup = getHandleLookup({\n    nodes: getNodes(),\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n  // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n  var autoPan = function autoPan() {\n    if (!autoPanOnConnect) {\n      return;\n    }\n    var _calcAutoPan = calcAutoPan(connectionPosition, containerBounds),\n      _calcAutoPan2 = _slicedToArray(_calcAutoPan, 2),\n      xMovement = _calcAutoPan2[0],\n      yMovement = _calcAutoPan2[1];\n    panBy({\n      x: xMovement,\n      y: yMovement\n    });\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  setState({\n    connectionPosition: connectionPosition,\n    connectionStatus: null,\n    // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n    connectionNodeId: nodeId,\n    connectionHandleId: handleId,\n    connectionHandleType: handleType,\n    connectionStartHandle: {\n      nodeId: nodeId,\n      handleId: handleId,\n      type: handleType\n    },\n    connectionEndHandle: null\n  });\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n  function onPointerMove(event) {\n    var _getState2 = getState(),\n      transform = _getState2.transform;\n    connectionPosition = getEventPosition(event, containerBounds);\n    var _getClosestHandle = getClosestHandle(event, doc, pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup, function (handle) {\n        return isValidHandle(handle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc);\n      }),\n      handle = _getClosestHandle.handle,\n      validHandleResult = _getClosestHandle.validHandleResult;\n    closestHandle = handle;\n    if (!autoPanStarted) {\n      autoPan();\n      autoPanStarted = true;\n    }\n    handleDomNode = validHandleResult.handleDomNode;\n    connection = validHandleResult.connection;\n    isValid = validHandleResult.isValid;\n    setState({\n      connectionPosition: closestHandle && isValid ? rendererPointToPoint({\n        x: closestHandle.x,\n        y: closestHandle.y\n      }, transform) : connectionPosition,\n      connectionStatus: getConnectionStatus(!!closestHandle, isValid),\n      connectionEndHandle: validHandleResult.endHandle\n    });\n    if (!closestHandle && !isValid && !handleDomNode) {\n      return resetRecentHandle(prevActiveHandle);\n    }\n    if (connection.source !== connection.target && handleDomNode) {\n      resetRecentHandle(prevActiveHandle);\n      prevActiveHandle = handleDomNode;\n      // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n      handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n      handleDomNode.classList.toggle('valid', isValid);\n      handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n  function onPointerUp(event) {\n    var _getState$onConnectEn, _getState3;\n    if ((closestHandle || handleDomNode) && connection && isValid) {\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\n    }\n    // it's important to get a fresh reference from the store here\n    // in order to get the latest state of onConnectEnd\n    (_getState$onConnectEn = (_getState3 = getState()).onConnectEnd) === null || _getState$onConnectEn === void 0 ? void 0 : _getState$onConnectEn.call(_getState3, event);\n    if (edgeUpdaterType) {\n      onEdgeUpdateEnd === null || onEdgeUpdateEnd === void 0 ? void 0 : onEdgeUpdateEnd(event);\n    }\n    resetRecentHandle(prevActiveHandle);\n    cancelConnection();\n    cancelAnimationFrame(autoPanId);\n    autoPanStarted = false;\n    isValid = false;\n    connection = null;\n    handleDomNode = null;\n    doc.removeEventListener('mousemove', onPointerMove);\n    doc.removeEventListener('mouseup', onPointerUp);\n    doc.removeEventListener('touchmove', onPointerMove);\n    doc.removeEventListener('touchend', onPointerUp);\n  }\n  doc.addEventListener('mousemove', onPointerMove);\n  doc.addEventListener('mouseup', onPointerUp);\n  doc.addEventListener('touchmove', onPointerMove);\n  doc.addEventListener('touchend', onPointerUp);\n}\nvar alwaysValid = function alwaysValid() {\n  return true;\n};\nvar selector$f = function selector$f(s) {\n  return {\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName\n  };\n};\nvar connectingSelector = function connectingSelector(nodeId, handleId, type) {\n  return function (state) {\n    var startHandle = state.connectionStartHandle,\n      endHandle = state.connectionEndHandle,\n      clickHandle = state.connectionClickStartHandle;\n    return {\n      connecting: (startHandle === null || startHandle === void 0 ? void 0 : startHandle.nodeId) === nodeId && (startHandle === null || startHandle === void 0 ? void 0 : startHandle.handleId) === handleId && (startHandle === null || startHandle === void 0 ? void 0 : startHandle.type) === type || (endHandle === null || endHandle === void 0 ? void 0 : endHandle.nodeId) === nodeId && (endHandle === null || endHandle === void 0 ? void 0 : endHandle.handleId) === handleId && (endHandle === null || endHandle === void 0 ? void 0 : endHandle.type) === type,\n      clickConnecting: (clickHandle === null || clickHandle === void 0 ? void 0 : clickHandle.nodeId) === nodeId && (clickHandle === null || clickHandle === void 0 ? void 0 : clickHandle.handleId) === handleId && (clickHandle === null || clickHandle === void 0 ? void 0 : clickHandle.type) === type\n    };\n  };\n};\nvar Handle = forwardRef(function (_ref37, ref) {\n  var _ref37$type = _ref37.type,\n    type = _ref37$type === void 0 ? 'source' : _ref37$type,\n    _ref37$position = _ref37.position,\n    position = _ref37$position === void 0 ? Position.Top : _ref37$position,\n    isValidConnection = _ref37.isValidConnection,\n    _ref37$isConnectable = _ref37.isConnectable,\n    isConnectable = _ref37$isConnectable === void 0 ? true : _ref37$isConnectable,\n    _ref37$isConnectableS = _ref37.isConnectableStart,\n    isConnectableStart = _ref37$isConnectableS === void 0 ? true : _ref37$isConnectableS,\n    _ref37$isConnectableE = _ref37.isConnectableEnd,\n    isConnectableEnd = _ref37$isConnectableE === void 0 ? true : _ref37$isConnectableE,\n    id = _ref37.id,\n    onConnect = _ref37.onConnect,\n    children = _ref37.children,\n    className = _ref37.className,\n    onMouseDown = _ref37.onMouseDown,\n    onTouchStart = _ref37.onTouchStart,\n    rest = _objectWithoutProperties(_ref37, _excluded4);\n  var handleId = id || null;\n  var isTarget = type === 'target';\n  var store = useStoreApi();\n  var nodeId = useNodeId();\n  var _useStore = useStore(selector$f, shallow),\n    connectOnClick = _useStore.connectOnClick,\n    noPanClassName = _useStore.noPanClassName;\n  var _useStore2 = useStore(connectingSelector(nodeId, handleId, type), shallow),\n    connecting = _useStore2.connecting,\n    clickConnecting = _useStore2.clickConnecting;\n  if (!nodeId) {\n    var _store$getState$onErr, _store$getState;\n    (_store$getState$onErr = (_store$getState = store.getState()).onError) === null || _store$getState$onErr === void 0 ? void 0 : _store$getState$onErr.call(_store$getState, '010', errorMessages['error010']());\n  }\n  var onConnectExtended = function onConnectExtended(params) {\n    var _store$getState2 = store.getState(),\n      defaultEdgeOptions = _store$getState2.defaultEdgeOptions,\n      onConnectAction = _store$getState2.onConnect,\n      hasDefaultEdges = _store$getState2.hasDefaultEdges;\n    var edgeParams = _objectSpread(_objectSpread({}, defaultEdgeOptions), params);\n    if (hasDefaultEdges) {\n      var _store$getState3 = store.getState(),\n        edges = _store$getState3.edges,\n        setEdges = _store$getState3.setEdges;\n      setEdges(addEdge(edgeParams, edges));\n    }\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\n  };\n  var onPointerDown = function onPointerDown(event) {\n    if (!nodeId) {\n      return;\n    }\n    var isMouseTriggered = isMouseEvent(event);\n    if (isConnectableStart && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n      handlePointerDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectExtended,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid\n      });\n    }\n    if (isMouseTriggered) {\n      onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n    } else {\n      onTouchStart === null || onTouchStart === void 0 ? void 0 : onTouchStart(event);\n    }\n  };\n  var onClick = function onClick(event) {\n    var _store$getState4 = store.getState(),\n      onClickConnectStart = _store$getState4.onClickConnectStart,\n      onClickConnectEnd = _store$getState4.onClickConnectEnd,\n      connectionClickStartHandle = _store$getState4.connectionClickStartHandle,\n      connectionMode = _store$getState4.connectionMode,\n      isValidConnectionStore = _store$getState4.isValidConnection;\n    if (!nodeId || !connectionClickStartHandle && !isConnectableStart) {\n      return;\n    }\n    if (!connectionClickStartHandle) {\n      onClickConnectStart === null || onClickConnectStart === void 0 ? void 0 : onClickConnectStart(event, {\n        nodeId: nodeId,\n        handleId: handleId,\n        handleType: type\n      });\n      store.setState({\n        connectionClickStartHandle: {\n          nodeId: nodeId,\n          type: type,\n          handleId: handleId\n        }\n      });\n      return;\n    }\n    var doc = getHostForElement(event.target);\n    var isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n    var _isValidHandle = isValidHandle({\n        nodeId: nodeId,\n        id: handleId,\n        type: type\n      }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc),\n      connection = _isValidHandle.connection,\n      isValid = _isValidHandle.isValid;\n    if (isValid) {\n      onConnectExtended(connection);\n    }\n    onClickConnectEnd === null || onClickConnectEnd === void 0 ? void 0 : onClickConnectEnd(event);\n    store.setState({\n      connectionClickStartHandle: null\n    });\n  };\n  return React.createElement(\"div\", _objectSpread({\n    \"data-handleid\": handleId,\n    \"data-nodeid\": nodeId,\n    \"data-handlepos\": position,\n    \"data-id\": \"\".concat(nodeId, \"-\").concat(handleId, \"-\").concat(type),\n    className: cc(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', noPanClassName, className, {\n      source: !isTarget,\n      target: isTarget,\n      connectable: isConnectable,\n      connectablestart: isConnectableStart,\n      connectableend: isConnectableEnd,\n      connecting: clickConnecting,\n      // this class is used to style the handle when the user is connecting\n      connectionindicator: isConnectable && (isConnectableStart && !connecting || isConnectableEnd && connecting)\n    }]),\n    onMouseDown: onPointerDown,\n    onTouchStart: onPointerDown,\n    onClick: connectOnClick ? onClick : undefined,\n    ref: ref\n  }, rest), children);\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\nvar DefaultNode = function DefaultNode(_ref38) {\n  var data = _ref38.data,\n    isConnectable = _ref38.isConnectable,\n    _ref38$targetPosition = _ref38.targetPosition,\n    targetPosition = _ref38$targetPosition === void 0 ? Position.Top : _ref38$targetPosition,\n    _ref38$sourcePosition = _ref38.sourcePosition,\n    sourcePosition = _ref38$sourcePosition === void 0 ? Position.Bottom : _ref38$sourcePosition;\n  return React.createElement(React.Fragment, null, React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label, React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\nvar InputNode = function InputNode(_ref39) {\n  var data = _ref39.data,\n    isConnectable = _ref39.isConnectable,\n    _ref39$sourcePosition = _ref39.sourcePosition,\n    sourcePosition = _ref39$sourcePosition === void 0 ? Position.Bottom : _ref39$sourcePosition;\n  return React.createElement(React.Fragment, null, data === null || data === void 0 ? void 0 : data.label, React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\nvar OutputNode = function OutputNode(_ref40) {\n  var data = _ref40.data,\n    isConnectable = _ref40.isConnectable,\n    _ref40$targetPosition = _ref40.targetPosition,\n    targetPosition = _ref40$targetPosition === void 0 ? Position.Top : _ref40$targetPosition;\n  return React.createElement(React.Fragment, null, React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label);\n};\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\nvar GroupNode = function GroupNode() {\n  return null;\n};\nGroupNode.displayName = 'GroupNode';\nvar selector$e = function selector$e(s) {\n  return {\n    selectedNodes: s.getNodes().filter(function (n) {\n      return n.selected;\n    }),\n    selectedEdges: s.edges.filter(function (e) {\n      return e.selected;\n    })\n  };\n};\nvar selectId = function selectId(obj) {\n  return obj.id;\n};\nfunction areEqual(a, b) {\n  return shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) && shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nvar SelectionListener = memo(function (_ref41) {\n  var onSelectionChange = _ref41.onSelectionChange;\n  var store = useStoreApi();\n  var _useStore3 = useStore(selector$e, areEqual),\n    selectedNodes = _useStore3.selectedNodes,\n    selectedEdges = _useStore3.selectedEdges;\n  useEffect(function () {\n    var _store$getState$onSel, _store$getState5;\n    var params = {\n      nodes: selectedNodes,\n      edges: selectedEdges\n    };\n    onSelectionChange === null || onSelectionChange === void 0 ? void 0 : onSelectionChange(params);\n    (_store$getState$onSel = (_store$getState5 = store.getState()).onSelectionChange) === null || _store$getState$onSel === void 0 ? void 0 : _store$getState$onSel.call(_store$getState5, params);\n  }, [selectedNodes, selectedEdges, onSelectionChange]);\n  return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nvar changeSelector = function changeSelector(s) {\n  return !!s.onSelectionChange;\n};\nfunction Wrapper$1(_ref42) {\n  var onSelectionChange = _ref42.onSelectionChange;\n  var storeHasSelectionChange = useStore(changeSelector);\n  if (onSelectionChange || storeHasSelectionChange) {\n    return React.createElement(SelectionListener, {\n      onSelectionChange: onSelectionChange\n    });\n  }\n  return null;\n}\nvar selector$d = function selector$d(s) {\n  return {\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset\n  };\n};\nfunction useStoreUpdater(value, setStoreState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      setStoreState(value);\n    }\n  }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      setState(_defineProperty({}, key, value));\n    }\n  }, [value]);\n}\nvar StoreUpdater = function StoreUpdater(_ref43) {\n  var nodes = _ref43.nodes,\n    edges = _ref43.edges,\n    defaultNodes = _ref43.defaultNodes,\n    defaultEdges = _ref43.defaultEdges,\n    onConnect = _ref43.onConnect,\n    onConnectStart = _ref43.onConnectStart,\n    onConnectEnd = _ref43.onConnectEnd,\n    onClickConnectStart = _ref43.onClickConnectStart,\n    onClickConnectEnd = _ref43.onClickConnectEnd,\n    nodesDraggable = _ref43.nodesDraggable,\n    nodesConnectable = _ref43.nodesConnectable,\n    nodesFocusable = _ref43.nodesFocusable,\n    edgesFocusable = _ref43.edgesFocusable,\n    edgesUpdatable = _ref43.edgesUpdatable,\n    elevateNodesOnSelect = _ref43.elevateNodesOnSelect,\n    minZoom = _ref43.minZoom,\n    maxZoom = _ref43.maxZoom,\n    nodeExtent = _ref43.nodeExtent,\n    onNodesChange = _ref43.onNodesChange,\n    onEdgesChange = _ref43.onEdgesChange,\n    elementsSelectable = _ref43.elementsSelectable,\n    connectionMode = _ref43.connectionMode,\n    snapGrid = _ref43.snapGrid,\n    snapToGrid = _ref43.snapToGrid,\n    translateExtent = _ref43.translateExtent,\n    connectOnClick = _ref43.connectOnClick,\n    defaultEdgeOptions = _ref43.defaultEdgeOptions,\n    fitView = _ref43.fitView,\n    fitViewOptions = _ref43.fitViewOptions,\n    onNodesDelete = _ref43.onNodesDelete,\n    onEdgesDelete = _ref43.onEdgesDelete,\n    onNodeDrag = _ref43.onNodeDrag,\n    onNodeDragStart = _ref43.onNodeDragStart,\n    onNodeDragStop = _ref43.onNodeDragStop,\n    onSelectionDrag = _ref43.onSelectionDrag,\n    onSelectionDragStart = _ref43.onSelectionDragStart,\n    onSelectionDragStop = _ref43.onSelectionDragStop,\n    noPanClassName = _ref43.noPanClassName,\n    nodeOrigin = _ref43.nodeOrigin,\n    rfId = _ref43.rfId,\n    autoPanOnConnect = _ref43.autoPanOnConnect,\n    autoPanOnNodeDrag = _ref43.autoPanOnNodeDrag,\n    onError = _ref43.onError,\n    connectionRadius = _ref43.connectionRadius,\n    isValidConnection = _ref43.isValidConnection,\n    nodeDragThreshold = _ref43.nodeDragThreshold;\n  var _useStore4 = useStore(selector$d, shallow),\n    setNodes = _useStore4.setNodes,\n    setEdges = _useStore4.setEdges,\n    setDefaultNodesAndEdges = _useStore4.setDefaultNodesAndEdges,\n    setMinZoom = _useStore4.setMinZoom,\n    setMaxZoom = _useStore4.setMaxZoom,\n    setTranslateExtent = _useStore4.setTranslateExtent,\n    setNodeExtent = _useStore4.setNodeExtent,\n    reset = _useStore4.reset;\n  var store = useStoreApi();\n  useEffect(function () {\n    var edgesWithDefaults = defaultEdges === null || defaultEdges === void 0 ? void 0 : defaultEdges.map(function (e) {\n      return _objectSpread(_objectSpread({}, e), defaultEdgeOptions);\n    });\n    setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n    return function () {\n      reset();\n    };\n  }, []);\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n  useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n  useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n  useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n  useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n  useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n  useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n  useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n  useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n  useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n  useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n  useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n  useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n  useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n  useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n  useDirectStoreUpdater('rfId', rfId, store.setState);\n  useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n  useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n  useDirectStoreUpdater('onError', onError, store.setState);\n  useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n  useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n  useDirectStoreUpdater('nodeDragThreshold', nodeDragThreshold, store.setState);\n  useStoreUpdater(nodes, setNodes);\n  useStoreUpdater(edges, setEdges);\n  useStoreUpdater(minZoom, setMinZoom);\n  useStoreUpdater(maxZoom, setMaxZoom);\n  useStoreUpdater(translateExtent, setTranslateExtent);\n  useStoreUpdater(nodeExtent, setNodeExtent);\n  return null;\n};\nvar style = {\n  display: 'none'\n};\nvar ariaLiveStyle = {\n  position: 'absolute',\n  width: 1,\n  height: 1,\n  margin: -1,\n  border: 0,\n  padding: 0,\n  overflow: 'hidden',\n  clip: 'rect(0px, 0px, 0px, 0px)',\n  clipPath: 'inset(100%)'\n};\nvar ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nvar ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nvar ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nvar selector$c = function selector$c(s) {\n  return s.ariaLiveMessage;\n};\nfunction AriaLiveMessage(_ref44) {\n  var rfId = _ref44.rfId;\n  var ariaLiveMessage = useStore(selector$c);\n  return React.createElement(\"div\", {\n    id: \"\".concat(ARIA_LIVE_MESSAGE, \"-\").concat(rfId),\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\",\n    style: ariaLiveStyle\n  }, ariaLiveMessage);\n}\nfunction A11yDescriptions(_ref45) {\n  var rfId = _ref45.rfId,\n    disableKeyboardA11y = _ref45.disableKeyboardA11y;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    id: \"\".concat(ARIA_NODE_DESC_KEY, \"-\").concat(rfId),\n    style: style\n  }, \"Press enter or space to select a node.\", !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.', \" Press delete to remove it and escape to cancel.\", ' '), React.createElement(\"div\", {\n    id: \"\".concat(ARIA_EDGE_DESC_KEY, \"-\").concat(rfId),\n    style: style\n  }, \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\"), !disableKeyboardA11y && React.createElement(AriaLiveMessage, {\n    rfId: rfId\n  }));\n}\n\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilities. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = function useKeyPress() {\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    actInsideInputWithModifier: true\n  };\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    keyPressed = _useState4[0],\n    setKeyPressed = _useState4[1];\n  // we need to remember if a modifier key is pressed in order to track it\n  var modifierPressed = useRef(false);\n  // we need to remember the pressed keys in order to support combinations\n  var pressedKeys = useRef(new Set([]));\n  // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n  // we can't find it in the list of keysToWatch.\n  var _useMemo = useMemo(function () {\n      if (keyCode !== null) {\n        var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n        var keys = keyCodeArr.filter(function (kc) {\n          return typeof kc === 'string';\n        }).map(function (kc) {\n          return kc.split('+');\n        });\n        var keysFlat = keys.reduce(function (res, item) {\n          return res.concat.apply(res, _toConsumableArray(item));\n        }, []);\n        return [keys, keysFlat];\n      }\n      return [[], []];\n    }, [keyCode]),\n    _useMemo2 = _slicedToArray(_useMemo, 2),\n    keyCodes = _useMemo2[0],\n    keysToWatch = _useMemo2[1];\n  useEffect(function () {\n    var doc = typeof document !== 'undefined' ? document : null;\n    var target = (options === null || options === void 0 ? void 0 : options.target) || doc;\n    if (keyCode !== null) {\n      var downHandler = function downHandler(event) {\n        modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n        var preventAction = (!modifierPressed.current || modifierPressed.current && !options.actInsideInputWithModifier) && isInputDOMNode(event);\n        if (preventAction) {\n          return false;\n        }\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        pressedKeys.current.add(event[keyOrCode]);\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n          event.preventDefault();\n          setKeyPressed(true);\n        }\n      };\n      var upHandler = function upHandler(event) {\n        var preventAction = (!modifierPressed.current || modifierPressed.current && !options.actInsideInputWithModifier) && isInputDOMNode(event);\n        if (preventAction) {\n          return false;\n        }\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n          setKeyPressed(false);\n          pressedKeys.current.clear();\n        } else {\n          pressedKeys.current.delete(event[keyOrCode]);\n        }\n        // fix for Mac: when cmd key is pressed, keyup is not triggered for any other key, see: https://stackoverflow.com/questions/27380018/when-cmd-key-is-kept-pressed-keyup-is-not-triggered-for-any-other-key\n        if (event.key === 'Meta') {\n          pressedKeys.current.clear();\n        }\n        modifierPressed.current = false;\n      };\n      var resetHandler = function resetHandler() {\n        pressedKeys.current.clear();\n        setKeyPressed(false);\n      };\n      target === null || target === void 0 ? void 0 : target.addEventListener('keydown', downHandler);\n      target === null || target === void 0 ? void 0 : target.addEventListener('keyup', upHandler);\n      window.addEventListener('blur', resetHandler);\n      return function () {\n        target === null || target === void 0 ? void 0 : target.removeEventListener('keydown', downHandler);\n        target === null || target === void 0 ? void 0 : target.removeEventListener('keyup', upHandler);\n        window.removeEventListener('blur', resetHandler);\n      };\n    }\n  }, [keyCode, setKeyPressed]);\n  return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n  return keyCodes\n  // we only want to compare same sizes of keyCode definitions\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\n  .filter(function (keys) {\n    return isUp || keys.length === pressedKeys.size;\n  })\n  // since we want to support multiple possibilities only one of the\n  // combinations need to be part of the pressed keys\n  .some(function (keys) {\n    return keys.every(function (k) {\n      return pressedKeys.has(k);\n    });\n  });\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n  var _result$x, _result$y, _parentNode$internals, _parentNode$internals2, _result$z, _parentNode$internals3, _parentNode$internals4, _result$z2;\n  if (!node.parentNode) {\n    return result;\n  }\n  var parentNode = nodeInternals.get(node.parentNode);\n  var parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n  return calculateXYZPosition(parentNode, nodeInternals, {\n    x: ((_result$x = result.x) !== null && _result$x !== void 0 ? _result$x : 0) + parentNodePosition.x,\n    y: ((_result$y = result.y) !== null && _result$y !== void 0 ? _result$y : 0) + parentNodePosition.y,\n    z: ((_parentNode$internals = (_parentNode$internals2 = parentNode[internalsSymbol]) === null || _parentNode$internals2 === void 0 ? void 0 : _parentNode$internals2.z) !== null && _parentNode$internals !== void 0 ? _parentNode$internals : 0) > ((_result$z = result.z) !== null && _result$z !== void 0 ? _result$z : 0) ? (_parentNode$internals3 = (_parentNode$internals4 = parentNode[internalsSymbol]) === null || _parentNode$internals4 === void 0 ? void 0 : _parentNode$internals4.z) !== null && _parentNode$internals3 !== void 0 ? _parentNode$internals3 : 0 : (_result$z2 = result.z) !== null && _result$z2 !== void 0 ? _result$z2 : 0\n  }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n  nodeInternals.forEach(function (node) {\n    if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n      throw new Error(\"Parent node \".concat(node.parentNode, \" not found\"));\n    }\n    if (node.parentNode || parentNodes !== null && parentNodes !== void 0 && parentNodes[node.id]) {\n      var _node$internalsSymbol, _node$internalsSymbol2;\n      var _calculateXYZPosition = calculateXYZPosition(node, nodeInternals, _objectSpread(_objectSpread({}, node.position), {}, {\n          z: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0\n        }), nodeOrigin),\n        x = _calculateXYZPosition.x,\n        y = _calculateXYZPosition.y,\n        z = _calculateXYZPosition.z;\n      node.positionAbsolute = {\n        x: x,\n        y: y\n      };\n      node[internalsSymbol].z = z;\n      if (parentNodes !== null && parentNodes !== void 0 && parentNodes[node.id]) {\n        node[internalsSymbol].isParent = true;\n      }\n    }\n  });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n  var nextNodeInternals = new Map();\n  var parentNodes = {};\n  var selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n  nodes.forEach(function (node) {\n    var _currInternals$intern;\n    var z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n    var currInternals = nodeInternals.get(node.id);\n    var internals = _objectSpread(_objectSpread({\n      width: currInternals === null || currInternals === void 0 ? void 0 : currInternals.width,\n      height: currInternals === null || currInternals === void 0 ? void 0 : currInternals.height\n    }, node), {}, {\n      positionAbsolute: {\n        x: node.position.x,\n        y: node.position.y\n      }\n    });\n    if (node.parentNode) {\n      internals.parentNode = node.parentNode;\n      parentNodes[node.parentNode] = true;\n    }\n    Object.defineProperty(internals, internalsSymbol, {\n      enumerable: false,\n      value: {\n        handleBounds: currInternals === null || currInternals === void 0 || (_currInternals$intern = currInternals[internalsSymbol]) === null || _currInternals$intern === void 0 ? void 0 : _currInternals$intern.handleBounds,\n        z: z\n      }\n    });\n    nextNodeInternals.set(node.id, internals);\n  });\n  updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n  return nextNodeInternals;\n}\nfunction _fitView(get) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _get = get(),\n    getNodes = _get.getNodes,\n    width = _get.width,\n    height = _get.height,\n    minZoom = _get.minZoom,\n    maxZoom = _get.maxZoom,\n    d3Zoom = _get.d3Zoom,\n    d3Selection = _get.d3Selection,\n    fitViewOnInitDone = _get.fitViewOnInitDone,\n    fitViewOnInit = _get.fitViewOnInit,\n    nodeOrigin = _get.nodeOrigin;\n  var isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n  var d3initialized = d3Zoom && d3Selection;\n  if (d3initialized && (isInitialFitView || !options.initial)) {\n    var nodes = getNodes().filter(function (n) {\n      var _options$nodes;\n      var isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n      if ((_options$nodes = options.nodes) !== null && _options$nodes !== void 0 && _options$nodes.length) {\n        return isVisible && options.nodes.some(function (optionNode) {\n          return optionNode.id === n.id;\n        });\n      }\n      return isVisible;\n    });\n    var nodesInitialized = nodes.every(function (n) {\n      return n.width && n.height;\n    });\n    if (nodes.length > 0 && nodesInitialized) {\n      var _options$minZoom, _options$maxZoom, _options$padding;\n      var bounds = getRectOfNodes(nodes, nodeOrigin);\n      var _getTransformForBound = getTransformForBounds(bounds, width, height, (_options$minZoom = options.minZoom) !== null && _options$minZoom !== void 0 ? _options$minZoom : minZoom, (_options$maxZoom = options.maxZoom) !== null && _options$maxZoom !== void 0 ? _options$maxZoom : maxZoom, (_options$padding = options.padding) !== null && _options$padding !== void 0 ? _options$padding : 0.1),\n        _getTransformForBound2 = _slicedToArray(_getTransformForBound, 3),\n        x = _getTransformForBound2[0],\n        y = _getTransformForBound2[1],\n        _zoom = _getTransformForBound2[2];\n      var nextTransform = zoomIdentity.translate(x, y).scale(_zoom);\n      if (typeof options.duration === 'number' && options.duration > 0) {\n        d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n      } else {\n        d3Zoom.transform(d3Selection, nextTransform);\n      }\n      return true;\n    }\n  }\n  return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n  nodeChanges.forEach(function (change) {\n    var node = nodeInternals.get(change.id);\n    if (node) {\n      var _objectSpread2;\n      nodeInternals.set(node.id, _objectSpread(_objectSpread({}, node), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, internalsSymbol, node[internalsSymbol]), _defineProperty(_objectSpread2, \"selected\", change.selected), _objectSpread2)));\n    }\n  });\n  return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n  return edges.map(function (e) {\n    var change = edgeChanges.find(function (change) {\n      return change.id === e.id;\n    });\n    if (change) {\n      e.selected = change.selected;\n    }\n    return e;\n  });\n}\nfunction updateNodesAndEdgesSelections(_ref46) {\n  var changedNodes = _ref46.changedNodes,\n    changedEdges = _ref46.changedEdges,\n    get = _ref46.get,\n    set = _ref46.set;\n  var _get2 = get(),\n    nodeInternals = _get2.nodeInternals,\n    edges = _get2.edges,\n    onNodesChange = _get2.onNodesChange,\n    onEdgesChange = _get2.onEdgesChange,\n    hasDefaultNodes = _get2.hasDefaultNodes,\n    hasDefaultEdges = _get2.hasDefaultEdges;\n  if (changedNodes !== null && changedNodes !== void 0 && changedNodes.length) {\n    if (hasDefaultNodes) {\n      set({\n        nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals)\n      });\n    }\n    onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changedNodes);\n  }\n  if (changedEdges !== null && changedEdges !== void 0 && changedEdges.length) {\n    if (hasDefaultEdges) {\n      set({\n        edges: handleControlledEdgeSelectionChange(changedEdges, edges)\n      });\n    }\n    onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(changedEdges);\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nvar noop = function noop() {};\nvar initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  getZoom: function getZoom() {\n    return 1;\n  },\n  setViewport: noop,\n  getViewport: function getViewport() {\n    return {\n      x: 0,\n      y: 0,\n      zoom: 1\n    };\n  },\n  fitView: function fitView() {\n    return false;\n  },\n  setCenter: noop,\n  fitBounds: noop,\n  project: function project(position) {\n    return position;\n  },\n  viewportInitialized: false\n};\nvar selector$b = function selector$b(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection\n  };\n};\nvar useViewportHelper = function useViewportHelper() {\n  var store = useStoreApi();\n  var _useStore5 = useStore(selector$b, shallow),\n    d3Zoom = _useStore5.d3Zoom,\n    d3Selection = _useStore5.d3Selection;\n  var viewportHelperFunctions = useMemo(function () {\n    if (d3Selection && d3Zoom) {\n      return {\n        zoomIn: function zoomIn(options) {\n          return d3Zoom.scaleBy(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1.2);\n        },\n        zoomOut: function zoomOut(options) {\n          return d3Zoom.scaleBy(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1 / 1.2);\n        },\n        zoomTo: function zoomTo(zoomLevel, options) {\n          return d3Zoom.scaleTo(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), zoomLevel);\n        },\n        getZoom: function getZoom() {\n          return store.getState().transform[2];\n        },\n        setViewport: function setViewport(transform, options) {\n          var _transform$x, _transform$y, _transform$zoom;\n          var _store$getState$trans = _slicedToArray(store.getState().transform, 3),\n            x = _store$getState$trans[0],\n            y = _store$getState$trans[1],\n            zoom = _store$getState$trans[2];\n          var nextTransform = zoomIdentity.translate((_transform$x = transform.x) !== null && _transform$x !== void 0 ? _transform$x : x, (_transform$y = transform.y) !== null && _transform$y !== void 0 ? _transform$y : y).scale((_transform$zoom = transform.zoom) !== null && _transform$zoom !== void 0 ? _transform$zoom : zoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), nextTransform);\n        },\n        getViewport: function getViewport() {\n          var _store$getState$trans2 = _slicedToArray(store.getState().transform, 3),\n            x = _store$getState$trans2[0],\n            y = _store$getState$trans2[1],\n            zoom = _store$getState$trans2[2];\n          return {\n            x: x,\n            y: y,\n            zoom: zoom\n          };\n        },\n        fitView: function fitView(options) {\n          return _fitView(store.getState, options);\n        },\n        setCenter: function setCenter(x, y, options) {\n          var _store$getState6 = store.getState(),\n            width = _store$getState6.width,\n            height = _store$getState6.height,\n            maxZoom = _store$getState6.maxZoom;\n          var nextZoom = typeof (options === null || options === void 0 ? void 0 : options.zoom) !== 'undefined' ? options.zoom : maxZoom;\n          var centerX = width / 2 - x * nextZoom;\n          var centerY = height / 2 - y * nextZoom;\n          var transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        fitBounds: function fitBounds(bounds, options) {\n          var _options$padding2;\n          var _store$getState7 = store.getState(),\n            width = _store$getState7.width,\n            height = _store$getState7.height,\n            minZoom = _store$getState7.minZoom,\n            maxZoom = _store$getState7.maxZoom;\n          var _getTransformForBound3 = getTransformForBounds(bounds, width, height, minZoom, maxZoom, (_options$padding2 = options === null || options === void 0 ? void 0 : options.padding) !== null && _options$padding2 !== void 0 ? _options$padding2 : 0.1),\n            _getTransformForBound4 = _slicedToArray(_getTransformForBound3, 3),\n            x = _getTransformForBound4[0],\n            y = _getTransformForBound4[1],\n            zoom = _getTransformForBound4[2];\n          var transform = zoomIdentity.translate(x, y).scale(zoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        project: function project(position) {\n          var _store$getState8 = store.getState(),\n            transform = _store$getState8.transform,\n            snapToGrid = _store$getState8.snapToGrid,\n            snapGrid = _store$getState8.snapGrid;\n          return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n        },\n        viewportInitialized: true\n      };\n    }\n    return initialViewportHelper;\n  }, [d3Zoom, d3Selection]);\n  return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n  var viewportHelper = useViewportHelper();\n  var store = useStoreApi();\n  var getNodes = useCallback(function () {\n    return store.getState().getNodes().map(function (n) {\n      return _objectSpread({}, n);\n    });\n  }, []);\n  var getNode = useCallback(function (id) {\n    return store.getState().nodeInternals.get(id);\n  }, []);\n  var getEdges = useCallback(function () {\n    var _store$getState9 = store.getState(),\n      _store$getState9$edge = _store$getState9.edges,\n      edges = _store$getState9$edge === void 0 ? [] : _store$getState9$edge;\n    return edges.map(function (e) {\n      return _objectSpread({}, e);\n    });\n  }, []);\n  var getEdge = useCallback(function (id) {\n    var _store$getState10 = store.getState(),\n      _store$getState10$edg = _store$getState10.edges,\n      edges = _store$getState10$edg === void 0 ? [] : _store$getState10$edg;\n    return edges.find(function (e) {\n      return e.id === id;\n    });\n  }, []);\n  var setNodes = useCallback(function (payload) {\n    var _store$getState11 = store.getState(),\n      getNodes = _store$getState11.getNodes,\n      setNodes = _store$getState11.setNodes,\n      hasDefaultNodes = _store$getState11.hasDefaultNodes,\n      onNodesChange = _store$getState11.onNodesChange;\n    var nodes = getNodes();\n    var nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n    if (hasDefaultNodes) {\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nextNodes.length === 0 ? nodes.map(function (node) {\n        return {\n          type: 'remove',\n          id: node.id\n        };\n      }) : nextNodes.map(function (node) {\n        return {\n          item: node,\n          type: 'reset'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var setEdges = useCallback(function (payload) {\n    var _store$getState12 = store.getState(),\n      _store$getState12$edg = _store$getState12.edges,\n      edges = _store$getState12$edg === void 0 ? [] : _store$getState12$edg,\n      setEdges = _store$getState12.setEdges,\n      hasDefaultEdges = _store$getState12.hasDefaultEdges,\n      onEdgesChange = _store$getState12.onEdgesChange;\n    var nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n    if (hasDefaultEdges) {\n      setEdges(nextEdges);\n    } else if (onEdgesChange) {\n      var changes = nextEdges.length === 0 ? edges.map(function (edge) {\n        return {\n          type: 'remove',\n          id: edge.id\n        };\n      }) : nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'reset'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var addNodes = useCallback(function (payload) {\n    var nodes = Array.isArray(payload) ? payload : [payload];\n    var _store$getState13 = store.getState(),\n      getNodes = _store$getState13.getNodes,\n      setNodes = _store$getState13.setNodes,\n      hasDefaultNodes = _store$getState13.hasDefaultNodes,\n      onNodesChange = _store$getState13.onNodesChange;\n    if (hasDefaultNodes) {\n      var currentNodes = getNodes();\n      var nextNodes = [].concat(_toConsumableArray(currentNodes), _toConsumableArray(nodes));\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nodes.map(function (node) {\n        return {\n          item: node,\n          type: 'add'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var addEdges = useCallback(function (payload) {\n    var nextEdges = Array.isArray(payload) ? payload : [payload];\n    var _store$getState14 = store.getState(),\n      _store$getState14$edg = _store$getState14.edges,\n      edges = _store$getState14$edg === void 0 ? [] : _store$getState14$edg,\n      setEdges = _store$getState14.setEdges,\n      hasDefaultEdges = _store$getState14.hasDefaultEdges,\n      onEdgesChange = _store$getState14.onEdgesChange;\n    if (hasDefaultEdges) {\n      setEdges([].concat(_toConsumableArray(edges), _toConsumableArray(nextEdges)));\n    } else if (onEdgesChange) {\n      var changes = nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'add'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var toObject = useCallback(function () {\n    var _store$getState15 = store.getState(),\n      getNodes = _store$getState15.getNodes,\n      _store$getState15$edg = _store$getState15.edges,\n      edges = _store$getState15$edg === void 0 ? [] : _store$getState15$edg,\n      transform = _store$getState15.transform;\n    var _transform = _slicedToArray(transform, 3),\n      x = _transform[0],\n      y = _transform[1],\n      zoom = _transform[2];\n    return {\n      nodes: getNodes().map(function (n) {\n        return _objectSpread({}, n);\n      }),\n      edges: edges.map(function (e) {\n        return _objectSpread({}, e);\n      }),\n      viewport: {\n        x: x,\n        y: y,\n        zoom: zoom\n      }\n    };\n  }, []);\n  var deleteElements = useCallback(function (_ref47) {\n    var nodesDeleted = _ref47.nodes,\n      edgesDeleted = _ref47.edges;\n    var _store$getState16 = store.getState(),\n      nodeInternals = _store$getState16.nodeInternals,\n      getNodes = _store$getState16.getNodes,\n      edges = _store$getState16.edges,\n      hasDefaultNodes = _store$getState16.hasDefaultNodes,\n      hasDefaultEdges = _store$getState16.hasDefaultEdges,\n      onNodesDelete = _store$getState16.onNodesDelete,\n      onEdgesDelete = _store$getState16.onEdgesDelete,\n      onNodesChange = _store$getState16.onNodesChange,\n      onEdgesChange = _store$getState16.onEdgesChange;\n    var nodeIds = (nodesDeleted || []).map(function (node) {\n      return node.id;\n    });\n    var edgeIds = (edgesDeleted || []).map(function (edge) {\n      return edge.id;\n    });\n    var nodesToRemove = getNodes().reduce(function (res, node) {\n      var parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find(function (n) {\n        return n.id === node.parentNode;\n      });\n      var deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n      if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n        res.push(node);\n      }\n      return res;\n    }, []);\n    var deletableEdges = edges.filter(function (e) {\n      return typeof e.deletable === 'boolean' ? e.deletable : true;\n    });\n    var initialHitEdges = deletableEdges.filter(function (e) {\n      return edgeIds.includes(e.id);\n    });\n    if (nodesToRemove || initialHitEdges) {\n      var connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n      var edgesToRemove = [].concat(_toConsumableArray(initialHitEdges), _toConsumableArray(connectedEdges));\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\n        if (!res.includes(edge.id)) {\n          res.push(edge.id);\n        }\n        return res;\n      }, []);\n      if (hasDefaultEdges || hasDefaultNodes) {\n        if (hasDefaultEdges) {\n          store.setState({\n            edges: edges.filter(function (e) {\n              return !edgeIdsToRemove.includes(e.id);\n            })\n          });\n        }\n        if (hasDefaultNodes) {\n          nodesToRemove.forEach(function (node) {\n            nodeInternals.delete(node.id);\n          });\n          store.setState({\n            nodeInternals: new Map(nodeInternals)\n          });\n        }\n      }\n      if (edgeIdsToRemove.length > 0) {\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\n        if (onEdgesChange) {\n          onEdgesChange(edgeIdsToRemove.map(function (id) {\n            return {\n              id: id,\n              type: 'remove'\n            };\n          }));\n        }\n      }\n      if (nodesToRemove.length > 0) {\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\n        if (onNodesChange) {\n          var nodeChanges = nodesToRemove.map(function (n) {\n            return {\n              id: n.id,\n              type: 'remove'\n            };\n          });\n          onNodesChange(nodeChanges);\n        }\n      }\n    }\n  }, []);\n  var getNodeRect = useCallback(function (nodeOrRect) {\n    var isRect = isRectObject(nodeOrRect);\n    var node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n    var nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRect];\n  }, []);\n  var getIntersectingNodes = useCallback(function (nodeOrRect) {\n    var partially = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var nodes = arguments.length > 2 ? arguments[2] : undefined;\n    var _getNodeRect = getNodeRect(nodeOrRect),\n      _getNodeRect2 = _slicedToArray(_getNodeRect, 3),\n      nodeRect = _getNodeRect2[0],\n      node = _getNodeRect2[1],\n      isRect = _getNodeRect2[2];\n    if (!nodeRect) {\n      return [];\n    }\n    return (nodes || store.getState().getNodes()).filter(function (n) {\n      if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n        return false;\n      }\n      var currNodeRect = nodeToRect(n);\n      var overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      var partiallyVisible = partially && overlappingArea > 0;\n      return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n    });\n  }, []);\n  var isNodeIntersecting = useCallback(function (nodeOrRect, area) {\n    var partially = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var _getNodeRect3 = getNodeRect(nodeOrRect),\n      _getNodeRect4 = _slicedToArray(_getNodeRect3, 1),\n      nodeRect = _getNodeRect4[0];\n    if (!nodeRect) {\n      return false;\n    }\n    var overlappingArea = getOverlappingArea(nodeRect, area);\n    var partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n  }, []);\n  return useMemo(function () {\n    return _objectSpread(_objectSpread({}, viewportHelper), {}, {\n      getNodes: getNodes,\n      getNode: getNode,\n      getEdges: getEdges,\n      getEdge: getEdge,\n      setNodes: setNodes,\n      setEdges: setEdges,\n      addNodes: addNodes,\n      addEdges: addEdges,\n      toObject: toObject,\n      deleteElements: deleteElements,\n      getIntersectingNodes: getIntersectingNodes,\n      isNodeIntersecting: isNodeIntersecting\n    });\n  }, [viewportHelper, getNodes, getNode, getEdges, getEdge, setNodes, setEdges, addNodes, addEdges, toObject, deleteElements, getIntersectingNodes, isNodeIntersecting]);\n}\nvar deleteKeyOptions = {\n  actInsideInputWithModifier: false\n};\nvar useGlobalKeyHandler = function useGlobalKeyHandler(_ref48) {\n  var deleteKeyCode = _ref48.deleteKeyCode,\n    multiSelectionKeyCode = _ref48.multiSelectionKeyCode;\n  var store = useStoreApi();\n  var _useReactFlow = useReactFlow(),\n    deleteElements = _useReactFlow.deleteElements;\n  var deleteKeyPressed = useKeyPress(deleteKeyCode, deleteKeyOptions);\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n  useEffect(function () {\n    if (deleteKeyPressed) {\n      var _store$getState17 = store.getState(),\n        edges = _store$getState17.edges,\n        getNodes = _store$getState17.getNodes;\n      var selectedNodes = getNodes().filter(function (node) {\n        return node.selected;\n      });\n      var selectedEdges = edges.filter(function (edge) {\n        return edge.selected;\n      });\n      deleteElements({\n        nodes: selectedNodes,\n        edges: selectedEdges\n      });\n      store.setState({\n        nodesSelectionActive: false\n      });\n    }\n  }, [deleteKeyPressed]);\n  useEffect(function () {\n    store.setState({\n      multiSelectionActive: multiSelectionKeyPressed\n    });\n  }, [multiSelectionKeyPressed]);\n};\nfunction useResizeHandler(rendererNode) {\n  var store = useStoreApi();\n  useEffect(function () {\n    var resizeObserver;\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n      var size = getDimensions(rendererNode.current);\n      if (size.height === 0 || size.width === 0) {\n        var _store$getState$onErr2, _store$getState18;\n        (_store$getState$onErr2 = (_store$getState18 = store.getState()).onError) === null || _store$getState$onErr2 === void 0 ? void 0 : _store$getState$onErr2.call(_store$getState18, '004', errorMessages['error004']());\n      }\n      store.setState({\n        width: size.width || 500,\n        height: size.height || 500\n      });\n    };\n    updateDimensions();\n    window.addEventListener('resize', updateDimensions);\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n    return function () {\n      window.removeEventListener('resize', updateDimensions);\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n}\nvar containerStyle = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0\n};\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nvar viewChanged = function viewChanged(prevViewport, eventTransform) {\n  return prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;\n};\nvar eventToFlowTransform = function eventToFlowTransform(eventTransform) {\n  return {\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k\n  };\n};\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\n  return event.target.closest(\".\".concat(className));\n};\nvar isRightClickPan = function isRightClickPan(panOnDrag, usedButton) {\n  return usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\n};\nvar wheelDelta = function wheelDelta(event) {\n  var factor = event.ctrlKey && isMacOs() ? 10 : 1;\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\nvar selector$a = function selector$a(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive\n  };\n};\nvar ZoomPane = function ZoomPane(_ref49) {\n  var onMove = _ref49.onMove,\n    onMoveStart = _ref49.onMoveStart,\n    onMoveEnd = _ref49.onMoveEnd,\n    onPaneContextMenu = _ref49.onPaneContextMenu,\n    _ref49$zoomOnScroll = _ref49.zoomOnScroll,\n    zoomOnScroll = _ref49$zoomOnScroll === void 0 ? true : _ref49$zoomOnScroll,\n    _ref49$zoomOnPinch = _ref49.zoomOnPinch,\n    zoomOnPinch = _ref49$zoomOnPinch === void 0 ? true : _ref49$zoomOnPinch,\n    _ref49$panOnScroll = _ref49.panOnScroll,\n    panOnScroll = _ref49$panOnScroll === void 0 ? false : _ref49$panOnScroll,\n    _ref49$panOnScrollSpe = _ref49.panOnScrollSpeed,\n    panOnScrollSpeed = _ref49$panOnScrollSpe === void 0 ? 0.5 : _ref49$panOnScrollSpe,\n    _ref49$panOnScrollMod = _ref49.panOnScrollMode,\n    panOnScrollMode = _ref49$panOnScrollMod === void 0 ? PanOnScrollMode.Free : _ref49$panOnScrollMod,\n    _ref49$zoomOnDoubleCl = _ref49.zoomOnDoubleClick,\n    zoomOnDoubleClick = _ref49$zoomOnDoubleCl === void 0 ? true : _ref49$zoomOnDoubleCl,\n    elementsSelectable = _ref49.elementsSelectable,\n    _ref49$panOnDrag = _ref49.panOnDrag,\n    panOnDrag = _ref49$panOnDrag === void 0 ? true : _ref49$panOnDrag,\n    defaultViewport = _ref49.defaultViewport,\n    translateExtent = _ref49.translateExtent,\n    minZoom = _ref49.minZoom,\n    maxZoom = _ref49.maxZoom,\n    zoomActivationKeyCode = _ref49.zoomActivationKeyCode,\n    _ref49$preventScrolli = _ref49.preventScrolling,\n    preventScrolling = _ref49$preventScrolli === void 0 ? true : _ref49$preventScrolli,\n    children = _ref49.children,\n    noWheelClassName = _ref49.noWheelClassName,\n    noPanClassName = _ref49.noPanClassName;\n  var timerId = useRef();\n  var store = useStoreApi();\n  var isZoomingOrPanning = useRef(false);\n  var zoomedWithRightMouseButton = useRef(false);\n  var zoomPane = useRef(null);\n  var prevTransform = useRef({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n  var _useStore6 = useStore(selector$a, shallow),\n    d3Zoom = _useStore6.d3Zoom,\n    d3Selection = _useStore6.d3Selection,\n    d3ZoomHandler = _useStore6.d3ZoomHandler,\n    userSelectionActive = _useStore6.userSelectionActive;\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n  var mouseButton = useRef(0);\n  var isPanScrolling = useRef(false);\n  var panScrollTimeout = useRef();\n  useResizeHandler(zoomPane);\n  useEffect(function () {\n    if (zoomPane.current) {\n      var bbox = zoomPane.current.getBoundingClientRect();\n      var d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n      var selection = select(zoomPane.current).call(d3ZoomInstance);\n      var updatedTransform = zoomIdentity.translate(defaultViewport.x, defaultViewport.y).scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n      var extent = [[0, 0], [bbox.width, bbox.height]];\n      var constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n      d3ZoomInstance.transform(selection, constrainedTransform);\n      d3ZoomInstance.wheelDelta(wheelDelta);\n      store.setState({\n        d3Zoom: d3ZoomInstance,\n        d3Selection: selection,\n        d3ZoomHandler: selection.on('wheel.zoom'),\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\n        transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n        domNode: zoomPane.current.closest('.react-flow')\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (d3Selection && d3Zoom) {\n      if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n        d3Selection.on('wheel.zoom', function (event) {\n          if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n          }\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          var currentZoom = d3Selection.property('__zoom').k || 1;\n          var _isMacOs = isMacOs();\n          // macos sets ctrlKey=true for pinch gesture on a trackpad\n          if (event.ctrlKey && zoomOnPinch && _isMacOs) {\n            var point = pointer(event);\n            var pinchDelta = wheelDelta(event);\n            var _zoom2 = currentZoom * Math.pow(2, pinchDelta);\n            // @ts-ignore\n            d3Zoom.scaleTo(d3Selection, _zoom2, point, event);\n            return;\n          }\n          // increase scroll speed in firefox\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n          var deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n          var deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n          // this enables vertical scrolling with shift + scroll on windows\n          if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n            deltaX = event.deltaY * deltaNormalize;\n            deltaY = 0;\n          }\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed,\n          // @ts-ignore\n          {\n            internal: true\n          });\n          var nextViewport = eventToFlowTransform(d3Selection.property('__zoom'));\n          var _store$getState19 = store.getState(),\n            onViewportChangeStart = _store$getState19.onViewportChangeStart,\n            onViewportChange = _store$getState19.onViewportChange,\n            onViewportChangeEnd = _store$getState19.onViewportChangeEnd;\n          clearTimeout(panScrollTimeout.current);\n          // for pan on scroll we need to handle the event calls on our own\n          // we can't use the start, zoom and end events from d3-zoom\n          // because start and move gets called on every scroll event and not once at the beginning\n          if (!isPanScrolling.current) {\n            isPanScrolling.current = true;\n            onMoveStart === null || onMoveStart === void 0 ? void 0 : onMoveStart(event, nextViewport);\n            onViewportChangeStart === null || onViewportChangeStart === void 0 ? void 0 : onViewportChangeStart(nextViewport);\n          }\n          if (isPanScrolling.current) {\n            onMove === null || onMove === void 0 ? void 0 : onMove(event, nextViewport);\n            onViewportChange === null || onViewportChange === void 0 ? void 0 : onViewportChange(nextViewport);\n            panScrollTimeout.current = setTimeout(function () {\n              onMoveEnd === null || onMoveEnd === void 0 ? void 0 : onMoveEnd(event, nextViewport);\n              onViewportChangeEnd === null || onViewportChangeEnd === void 0 ? void 0 : onViewportChangeEnd(nextViewport);\n              isPanScrolling.current = false;\n            }, 150);\n          }\n        }, {\n          passive: false\n        });\n      } else if (typeof d3ZoomHandler !== 'undefined') {\n        d3Selection.on('wheel.zoom', function (event, d) {\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n            return null;\n          }\n          event.preventDefault();\n          d3ZoomHandler.call(this, event, d);\n        }, {\n          passive: false\n        });\n      }\n    }\n  }, [userSelectionActive, panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName, onMoveStart, onMove, onMoveEnd]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('start', function (event) {\n        var _event$sourceEvent, _event$sourceEvent2;\n        if (!event.sourceEvent || event.sourceEvent.internal) {\n          return null;\n        }\n        // we need to remember it here, because it's always 0 in the \"zoom\" event\n        mouseButton.current = (_event$sourceEvent = event.sourceEvent) === null || _event$sourceEvent === void 0 ? void 0 : _event$sourceEvent.button;\n        var _store$getState20 = store.getState(),\n          onViewportChangeStart = _store$getState20.onViewportChangeStart;\n        var flowTransform = eventToFlowTransform(event.transform);\n        isZoomingOrPanning.current = true;\n        prevTransform.current = flowTransform;\n        if (((_event$sourceEvent2 = event.sourceEvent) === null || _event$sourceEvent2 === void 0 ? void 0 : _event$sourceEvent2.type) === 'mousedown') {\n          store.setState({\n            paneDragging: true\n          });\n        }\n        onViewportChangeStart === null || onViewportChangeStart === void 0 ? void 0 : onViewportChangeStart(flowTransform);\n        onMoveStart === null || onMoveStart === void 0 ? void 0 : onMoveStart(event.sourceEvent, flowTransform);\n      });\n    }\n  }, [d3Zoom, onMoveStart]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (userSelectionActive && !isZoomingOrPanning.current) {\n        d3Zoom.on('zoom', null);\n      } else if (!userSelectionActive) {\n        d3Zoom.on('zoom', function (event) {\n          var _mouseButton$current, _event$sourceEvent3;\n          var _store$getState21 = store.getState(),\n            onViewportChange = _store$getState21.onViewportChange;\n          store.setState({\n            transform: [event.transform.x, event.transform.y, event.transform.k]\n          });\n          zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, (_mouseButton$current = mouseButton.current) !== null && _mouseButton$current !== void 0 ? _mouseButton$current : 0));\n          if ((onMove || onViewportChange) && !((_event$sourceEvent3 = event.sourceEvent) !== null && _event$sourceEvent3 !== void 0 && _event$sourceEvent3.internal)) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onViewportChange === null || onViewportChange === void 0 ? void 0 : onViewportChange(flowTransform);\n            onMove === null || onMove === void 0 ? void 0 : onMove(event.sourceEvent, flowTransform);\n          }\n        });\n      }\n    }\n  }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('end', function (event) {\n        var _mouseButton$current2;\n        if (!event.sourceEvent || event.sourceEvent.internal) {\n          return null;\n        }\n        var _store$getState22 = store.getState(),\n          onViewportChangeEnd = _store$getState22.onViewportChangeEnd;\n        isZoomingOrPanning.current = false;\n        store.setState({\n          paneDragging: false\n        });\n        if (onPaneContextMenu && isRightClickPan(panOnDrag, (_mouseButton$current2 = mouseButton.current) !== null && _mouseButton$current2 !== void 0 ? _mouseButton$current2 : 0) && !zoomedWithRightMouseButton.current) {\n          onPaneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton.current = false;\n        if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          clearTimeout(timerId.current);\n          timerId.current = setTimeout(function () {\n            onViewportChangeEnd === null || onViewportChangeEnd === void 0 ? void 0 : onViewportChangeEnd(flowTransform);\n            onMoveEnd === null || onMoveEnd === void 0 ? void 0 : onMoveEnd(event.sourceEvent, flowTransform);\n          }, panOnScroll ? 150 : 0);\n        }\n      });\n    }\n  }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        var pinchZoom = zoomOnPinch && event.ctrlKey;\n        if ((panOnDrag === true || Array.isArray(panOnDrag) && panOnDrag.includes(1)) && event.button === 1 && event.type === 'mousedown' && (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n          return true;\n        }\n        // if all interactions are disabled, we prevent all zoom events\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n          return false;\n        }\n        // during a selection we prevent all other interactions\n        if (userSelectionActive) {\n          return false;\n        }\n        // if zoom on double click is disabled, we prevent the double click event\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        }\n        // if the target element is inside an element with the nowheel class, we prevent zooming\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n          return false;\n        }\n        // if the target element is inside an element with the nopan class, we prevent panning\n        if (isWrappedWithClass(event, noPanClassName) && (event.type !== 'wheel' || panOnScroll && event.type === 'wheel')) {\n          return false;\n        }\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n          return false;\n        }\n        // when there is no scroll handling enabled, we prevent all wheel events\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n          return false;\n        }\n        // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        }\n        // if the pane is only movable using allowed clicks\n        if (Array.isArray(panOnDrag) && !panOnDrag.includes(event.button) && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        }\n        // We only allow right clicks if pan on drag is set to right click\n        var buttonAllowed = Array.isArray(panOnDrag) && panOnDrag.includes(event.button) || !event.button || event.button <= 1;\n        // default filter for d3-zoom\n        return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n      });\n    }\n  }, [userSelectionActive, d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, elementsSelectable, zoomActivationKeyPressed]);\n  return React.createElement(\"div\", {\n    className: \"react-flow__renderer\",\n    ref: zoomPane,\n    style: containerStyle\n  }, children);\n};\nvar selector$9 = function selector$9(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect\n  };\n};\nfunction UserSelection() {\n  var _useStore7 = useStore(selector$9, shallow),\n    userSelectionActive = _useStore7.userSelectionActive,\n    userSelectionRect = _useStore7.userSelectionRect;\n  var isActive = userSelectionActive && userSelectionRect;\n  if (!isActive) {\n    return null;\n  }\n  return React.createElement(\"div\", {\n    className: \"react-flow__selection react-flow__container\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\n    }\n  });\n}\nfunction handleParentExpand(res, updateItem) {\n  var parent = res.find(function (e) {\n    return e.id === updateItem.parentNode;\n  });\n  if (parent) {\n    var extendWidth = updateItem.position.x + updateItem.width - parent.width;\n    var extendHeight = updateItem.position.y + updateItem.height - parent.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      var _parent$style$width, _parent$style$height;\n      parent.style = _objectSpread({}, parent.style) || {};\n      parent.style.width = (_parent$style$width = parent.style.width) !== null && _parent$style$width !== void 0 ? _parent$style$width : parent.width;\n      parent.style.height = (_parent$style$height = parent.style.height) !== null && _parent$style$height !== void 0 ? _parent$style$height : parent.height;\n      if (extendWidth > 0) {\n        parent.style.width += extendWidth;\n      }\n      if (extendHeight > 0) {\n        parent.style.height += extendHeight;\n      }\n      if (updateItem.position.x < 0) {\n        var xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        parent.style.width += xDiff;\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        var yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        parent.style.height += yDiff;\n        updateItem.position.y = 0;\n      }\n      parent.width = parent.style.width;\n      parent.height = parent.style.height;\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n  if (changes.some(function (c) {\n    return c.type === 'reset';\n  })) {\n    return changes.filter(function (c) {\n      return c.type === 'reset';\n    }).map(function (c) {\n      return c.item;\n    });\n  }\n  var initElements = changes.filter(function (c) {\n    return c.type === 'add';\n  }).map(function (c) {\n    return c.item;\n  });\n  return elements.reduce(function (res, item) {\n    var currentChanges = changes.filter(function (c) {\n      return c.id === item.id;\n    });\n    if (currentChanges.length === 0) {\n      res.push(item);\n      return res;\n    }\n    var updateItem = _objectSpread({}, item);\n    var _iterator = _createForOfIteratorHelper(currentChanges),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var currentChange = _step.value;\n        if (currentChange) {\n          switch (currentChange.type) {\n            case 'select':\n              {\n                updateItem.selected = currentChange.selected;\n                break;\n              }\n            case 'position':\n              {\n                if (typeof currentChange.position !== 'undefined') {\n                  updateItem.position = currentChange.position;\n                }\n                if (typeof currentChange.positionAbsolute !== 'undefined') {\n                  updateItem.positionAbsolute = currentChange.positionAbsolute;\n                }\n                if (typeof currentChange.dragging !== 'undefined') {\n                  updateItem.dragging = currentChange.dragging;\n                }\n                if (updateItem.expandParent) {\n                  handleParentExpand(res, updateItem);\n                }\n                break;\n              }\n            case 'dimensions':\n              {\n                if (typeof currentChange.dimensions !== 'undefined') {\n                  updateItem.width = currentChange.dimensions.width;\n                  updateItem.height = currentChange.dimensions.height;\n                }\n                if (typeof currentChange.updateStyle !== 'undefined') {\n                  updateItem.style = _objectSpread(_objectSpread({}, updateItem.style || {}), currentChange.dimensions);\n                }\n                if (typeof currentChange.resizing === 'boolean') {\n                  updateItem.resizing = currentChange.resizing;\n                }\n                if (updateItem.expandParent) {\n                  handleParentExpand(res, updateItem);\n                }\n                break;\n              }\n            case 'remove':\n              {\n                return res;\n              }\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    res.push(updateItem);\n    return res;\n  }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nvar createSelectionChange = function createSelectionChange(id, selected) {\n  return {\n    id: id,\n    type: 'select',\n    selected: selected\n  };\n};\nfunction getSelectionChanges(items, selectedIds) {\n  return items.reduce(function (res, item) {\n    var willBeSelected = selectedIds.includes(item.id);\n    if (!item.selected && willBeSelected) {\n      item.selected = true;\n      res.push(createSelectionChange(item.id, true));\n    } else if (item.selected && !willBeSelected) {\n      item.selected = false;\n      res.push(createSelectionChange(item.id, false));\n    }\n    return res;\n  }, []);\n}\n\n/**\n * The user selection rectangle gets displayed when a user drags the mouse while pressing shift\n */\nvar wrapHandler = function wrapHandler(handler, containerRef) {\n  return function (event) {\n    if (event.target !== containerRef.current) {\n      return;\n    }\n    handler === null || handler === void 0 ? void 0 : handler(event);\n  };\n};\nvar selector$8 = function selector$8(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging\n  };\n};\nvar Pane = memo(function (_ref50) {\n  var isSelecting = _ref50.isSelecting,\n    _ref50$selectionMode = _ref50.selectionMode,\n    selectionMode = _ref50$selectionMode === void 0 ? SelectionMode.Full : _ref50$selectionMode,\n    panOnDrag = _ref50.panOnDrag,\n    onSelectionStart = _ref50.onSelectionStart,\n    onSelectionEnd = _ref50.onSelectionEnd,\n    onPaneClick = _ref50.onPaneClick,\n    onPaneContextMenu = _ref50.onPaneContextMenu,\n    onPaneScroll = _ref50.onPaneScroll,\n    onPaneMouseEnter = _ref50.onPaneMouseEnter,\n    onPaneMouseMove = _ref50.onPaneMouseMove,\n    onPaneMouseLeave = _ref50.onPaneMouseLeave,\n    children = _ref50.children;\n  var container = useRef(null);\n  var store = useStoreApi();\n  var prevSelectedNodesCount = useRef(0);\n  var prevSelectedEdgesCount = useRef(0);\n  var containerBounds = useRef();\n  var _useStore8 = useStore(selector$8, shallow),\n    userSelectionActive = _useStore8.userSelectionActive,\n    elementsSelectable = _useStore8.elementsSelectable,\n    dragging = _useStore8.dragging;\n  var resetUserSelection = function resetUserSelection() {\n    store.setState({\n      userSelectionActive: false,\n      userSelectionRect: null\n    });\n    prevSelectedNodesCount.current = 0;\n    prevSelectedEdgesCount.current = 0;\n  };\n  var onClick = function onClick(event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    store.getState().resetSelectedElements();\n    store.setState({\n      nodesSelectionActive: false\n    });\n  };\n  var onContextMenu = function onContextMenu(event) {\n    if (Array.isArray(panOnDrag) && panOnDrag !== null && panOnDrag !== void 0 && panOnDrag.includes(2)) {\n      event.preventDefault();\n      return;\n    }\n    onPaneContextMenu === null || onPaneContextMenu === void 0 ? void 0 : onPaneContextMenu(event);\n  };\n  var onWheel = onPaneScroll ? function (event) {\n    return onPaneScroll(event);\n  } : undefined;\n  var onMouseDown = function onMouseDown(event) {\n    var _store$getState23 = store.getState(),\n      resetSelectedElements = _store$getState23.resetSelectedElements,\n      domNode = _store$getState23.domNode;\n    containerBounds.current = domNode === null || domNode === void 0 ? void 0 : domNode.getBoundingClientRect();\n    if (!elementsSelectable || !isSelecting || event.button !== 0 || event.target !== container.current || !containerBounds.current) {\n      return;\n    }\n    var _getEventPosition3 = getEventPosition(event, containerBounds.current),\n      x = _getEventPosition3.x,\n      y = _getEventPosition3.y;\n    resetSelectedElements();\n    store.setState({\n      userSelectionRect: {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x: x,\n        y: y\n      }\n    });\n    onSelectionStart === null || onSelectionStart === void 0 ? void 0 : onSelectionStart(event);\n  };\n  var onMouseMove = function onMouseMove(event) {\n    var _userSelectionRect$st, _userSelectionRect$st2;\n    var _store$getState24 = store.getState(),\n      userSelectionRect = _store$getState24.userSelectionRect,\n      nodeInternals = _store$getState24.nodeInternals,\n      edges = _store$getState24.edges,\n      transform = _store$getState24.transform,\n      onNodesChange = _store$getState24.onNodesChange,\n      onEdgesChange = _store$getState24.onEdgesChange,\n      nodeOrigin = _store$getState24.nodeOrigin,\n      getNodes = _store$getState24.getNodes;\n    if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n      return;\n    }\n    store.setState({\n      userSelectionActive: true,\n      nodesSelectionActive: false\n    });\n    var mousePos = getEventPosition(event, containerBounds.current);\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\n    var nextUserSelectRect = _objectSpread(_objectSpread({}, userSelectionRect), {}, {\n      x: mousePos.x < startX ? mousePos.x : startX,\n      y: mousePos.y < startY ? mousePos.y : startY,\n      width: Math.abs(mousePos.x - startX),\n      height: Math.abs(mousePos.y - startY)\n    });\n    var nodes = getNodes();\n    var selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n    var selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map(function (e) {\n      return e.id;\n    });\n    var selectedNodeIds = selectedNodes.map(function (n) {\n      return n.id;\n    });\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n      prevSelectedNodesCount.current = selectedNodeIds.length;\n      var changes = getSelectionChanges(nodes, selectedNodeIds);\n      if (changes.length) {\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n      }\n    }\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\n      var _changes = getSelectionChanges(edges, selectedEdgeIds);\n      if (_changes.length) {\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\n      }\n    }\n    store.setState({\n      userSelectionRect: nextUserSelectRect\n    });\n  };\n  var onMouseUp = function onMouseUp(event) {\n    if (event.button !== 0) {\n      return;\n    }\n    var _store$getState25 = store.getState(),\n      userSelectionRect = _store$getState25.userSelectionRect;\n    // We only want to trigger click functions when in selection mode if\n    // the user did not move the mouse.\n    if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n      onClick === null || onClick === void 0 ? void 0 : onClick(event);\n    }\n    store.setState({\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\n    });\n    resetUserSelection();\n    onSelectionEnd === null || onSelectionEnd === void 0 ? void 0 : onSelectionEnd(event);\n  };\n  var onMouseLeave = function onMouseLeave(event) {\n    if (userSelectionActive) {\n      store.setState({\n        nodesSelectionActive: prevSelectedNodesCount.current > 0\n      });\n      onSelectionEnd === null || onSelectionEnd === void 0 ? void 0 : onSelectionEnd(event);\n    }\n    resetUserSelection();\n  };\n  var hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n  return React.createElement(\"div\", {\n    className: cc(['react-flow__pane', {\n      dragging: dragging,\n      selection: isSelecting\n    }]),\n    onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container),\n    onContextMenu: wrapHandler(onContextMenu, container),\n    onWheel: wrapHandler(onWheel, container),\n    onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter,\n    onMouseDown: hasActiveSelection ? onMouseDown : undefined,\n    onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove,\n    onMouseUp: hasActiveSelection ? onMouseUp : undefined,\n    onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave,\n    ref: container,\n    style: containerStyle\n  }, children, React.createElement(UserSelection, null));\n});\nPane.displayName = 'Pane';\nfunction isParentSelected(node, nodeInternals) {\n  if (!node.parentNode) {\n    return false;\n  }\n  var parentNode = nodeInternals.get(node.parentNode);\n  if (!parentNode) {\n    return false;\n  }\n  if (parentNode.selected) {\n    return true;\n  }\n  return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n  var current = target;\n  do {\n    var _current;\n    if ((_current = current) !== null && _current !== void 0 && _current.matches(selector)) return true;\n    if (current === nodeRef.current) return false;\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n  return Array.from(nodeInternals.values()).filter(function (n) {\n    return (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals)) && (n.draggable || nodesDraggable && typeof n.draggable === 'undefined');\n  }).map(function (n) {\n    var _n$positionAbsolute$x, _n$positionAbsolute, _n$positionAbsolute$y, _n$positionAbsolute2;\n    return {\n      id: n.id,\n      position: n.position || {\n        x: 0,\n        y: 0\n      },\n      positionAbsolute: n.positionAbsolute || {\n        x: 0,\n        y: 0\n      },\n      distance: {\n        x: mousePos.x - ((_n$positionAbsolute$x = (_n$positionAbsolute = n.positionAbsolute) === null || _n$positionAbsolute === void 0 ? void 0 : _n$positionAbsolute.x) !== null && _n$positionAbsolute$x !== void 0 ? _n$positionAbsolute$x : 0),\n        y: mousePos.y - ((_n$positionAbsolute$y = (_n$positionAbsolute2 = n.positionAbsolute) === null || _n$positionAbsolute2 === void 0 ? void 0 : _n$positionAbsolute2.y) !== null && _n$positionAbsolute$y !== void 0 ? _n$positionAbsolute$y : 0)\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      extent: n.extent,\n      parentNode: n.parentNode,\n      width: n.width,\n      height: n.height,\n      expandParent: n.expandParent\n    };\n  });\n}\nfunction clampNodeExtent(node, extent) {\n  if (!extent || extent === 'parent') {\n    return extent;\n  }\n  return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent) {\n  var nodeOrigin = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [0, 0];\n  var onError = arguments.length > 5 ? arguments[5] : undefined;\n  var clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);\n  var currentExtent = clampedNodeExtent;\n  if (node.extent === 'parent' && !node.expandParent) {\n    if (node.parentNode && node.width && node.height) {\n      var parent = nodeInternals.get(node.parentNode);\n      var _getNodePositionWithO3 = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute,\n        parentX = _getNodePositionWithO3.x,\n        parentY = _getNodePositionWithO3.y;\n      currentExtent = parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height) ? [[parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]], [parentX + parent.width - node.width + node.width * nodeOrigin[0], parentY + parent.height - node.height + node.height * nodeOrigin[1]]] : currentExtent;\n    } else {\n      onError === null || onError === void 0 ? void 0 : onError('005', errorMessages['error005']());\n      currentExtent = clampedNodeExtent;\n    }\n  } else if (node.extent && node.parentNode && node.extent !== 'parent') {\n    var _parent = nodeInternals.get(node.parentNode);\n    var _getNodePositionWithO4 = getNodePositionWithOrigin(_parent, nodeOrigin).positionAbsolute,\n      _parentX = _getNodePositionWithO4.x,\n      _parentY = _getNodePositionWithO4.y;\n    currentExtent = [[node.extent[0][0] + _parentX, node.extent[0][1] + _parentY], [node.extent[1][0] + _parentX, node.extent[1][1] + _parentY]];\n  }\n  var parentPosition = {\n    x: 0,\n    y: 0\n  };\n  if (node.parentNode) {\n    var parentNode = nodeInternals.get(node.parentNode);\n    parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n  }\n  var positionAbsolute = currentExtent && currentExtent !== 'parent' ? clampPosition(nextPosition, currentExtent) : nextPosition;\n  return {\n    position: {\n      x: positionAbsolute.x - parentPosition.x,\n      y: positionAbsolute.y - parentPosition.y\n    },\n    positionAbsolute: positionAbsolute\n  };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams(_ref51) {\n  var nodeId = _ref51.nodeId,\n    dragItems = _ref51.dragItems,\n    nodeInternals = _ref51.nodeInternals;\n  var extentedDragItems = dragItems.map(function (n) {\n    var node = nodeInternals.get(n.id);\n    return _objectSpread(_objectSpread({}, node), {}, {\n      position: n.position,\n      positionAbsolute: n.positionAbsolute\n    });\n  });\n  return [nodeId ? extentedDragItems.find(function (n) {\n    return n.id === nodeId;\n  }) : extentedDragItems[0], extentedDragItems];\n}\nvar getHandleBounds = function getHandleBounds(selector, nodeElement, zoom, nodeOrigin) {\n  var handles = nodeElement.querySelectorAll(selector);\n  if (!handles || !handles.length) {\n    return null;\n  }\n  var handlesArray = Array.from(handles);\n  var nodeBounds = nodeElement.getBoundingClientRect();\n  var nodeOffset = {\n    x: nodeBounds.width * nodeOrigin[0],\n    y: nodeBounds.height * nodeOrigin[1]\n  };\n  return handlesArray.map(function (handle) {\n    var handleBounds = handle.getBoundingClientRect();\n    return _objectSpread({\n      id: handle.getAttribute('data-handleid'),\n      position: handle.getAttribute('data-handlepos'),\n      x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n      y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom\n    }, getDimensions(handle));\n  });\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var node = getState().nodeInternals.get(id);\n    if (node) {\n      handler(event, _objectSpread({}, node));\n    }\n  };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick(_ref52) {\n  var id = _ref52.id,\n    store = _ref52.store,\n    _ref52$unselect = _ref52.unselect,\n    unselect = _ref52$unselect === void 0 ? false : _ref52$unselect,\n    nodeRef = _ref52.nodeRef;\n  var _store$getState26 = store.getState(),\n    addSelectedNodes = _store$getState26.addSelectedNodes,\n    unselectNodesAndEdges = _store$getState26.unselectNodesAndEdges,\n    multiSelectionActive = _store$getState26.multiSelectionActive,\n    nodeInternals = _store$getState26.nodeInternals,\n    onError = _store$getState26.onError;\n  var node = nodeInternals.get(id);\n  if (!node) {\n    onError === null || onError === void 0 ? void 0 : onError('012', errorMessages['error012'](id));\n    return;\n  }\n  store.setState({\n    nodesSelectionActive: false\n  });\n  if (!node.selected) {\n    addSelectedNodes([id]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    unselectNodesAndEdges({\n      nodes: [node],\n      edges: []\n    });\n    requestAnimationFrame(function () {\n      var _nodeRef$current;\n      return nodeRef === null || nodeRef === void 0 || (_nodeRef$current = nodeRef.current) === null || _nodeRef$current === void 0 ? void 0 : _nodeRef$current.blur();\n    });\n  }\n}\nfunction useGetPointerPosition() {\n  var store = useStoreApi();\n  // returns the pointer position projected to the RF coordinate system\n  var getPointerPosition = useCallback(function (_ref53) {\n    var sourceEvent = _ref53.sourceEvent;\n    var _store$getState27 = store.getState(),\n      transform = _store$getState27.transform,\n      snapGrid = _store$getState27.snapGrid,\n      snapToGrid = _store$getState27.snapToGrid;\n    var x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n    var y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n    var pointerPos = {\n      x: (x - transform[0]) / transform[2],\n      y: (y - transform[1]) / transform[2]\n    };\n    // we need the snapped position in order to be able to skip unnecessary drag events\n    return _objectSpread({\n      xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n      ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y\n    }, pointerPos);\n  }, []);\n  return getPointerPosition;\n}\nfunction wrapSelectionDragFunc(selectionFunc) {\n  return function (event, _, nodes) {\n    return selectionFunc === null || selectionFunc === void 0 ? void 0 : selectionFunc(event, nodes);\n  };\n}\nfunction useDrag(_ref54) {\n  var nodeRef = _ref54.nodeRef,\n    _ref54$disabled = _ref54.disabled,\n    disabled = _ref54$disabled === void 0 ? false : _ref54$disabled,\n    noDragClassName = _ref54.noDragClassName,\n    handleSelector = _ref54.handleSelector,\n    nodeId = _ref54.nodeId,\n    isSelectable = _ref54.isSelectable,\n    selectNodesOnDrag = _ref54.selectNodesOnDrag;\n  var store = useStoreApi();\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    dragging = _useState6[0],\n    setDragging = _useState6[1];\n  var dragItems = useRef([]);\n  var lastPos = useRef({\n    x: null,\n    y: null\n  });\n  var autoPanId = useRef(0);\n  var containerBounds = useRef(null);\n  var mousePosition = useRef({\n    x: 0,\n    y: 0\n  });\n  var dragEvent = useRef(null);\n  var autoPanStarted = useRef(false);\n  var dragStarted = useRef(false);\n  var getPointerPosition = useGetPointerPosition();\n  useEffect(function () {\n    if (nodeRef !== null && nodeRef !== void 0 && nodeRef.current) {\n      var selection = select(nodeRef.current);\n      var updateNodes = function updateNodes(_ref55) {\n        var x = _ref55.x,\n          y = _ref55.y;\n        var _store$getState28 = store.getState(),\n          nodeInternals = _store$getState28.nodeInternals,\n          onNodeDrag = _store$getState28.onNodeDrag,\n          onSelectionDrag = _store$getState28.onSelectionDrag,\n          updateNodePositions = _store$getState28.updateNodePositions,\n          nodeExtent = _store$getState28.nodeExtent,\n          snapGrid = _store$getState28.snapGrid,\n          snapToGrid = _store$getState28.snapToGrid,\n          nodeOrigin = _store$getState28.nodeOrigin,\n          onError = _store$getState28.onError;\n        lastPos.current = {\n          x: x,\n          y: y\n        };\n        var hasChange = false;\n        var nodesBox = {\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 0\n        };\n        if (dragItems.current.length > 1 && nodeExtent) {\n          var rect = getRectOfNodes(dragItems.current, nodeOrigin);\n          nodesBox = rectToBox(rect);\n        }\n        dragItems.current = dragItems.current.map(function (n) {\n          var nextPosition = {\n            x: x - n.distance.x,\n            y: y - n.distance.y\n          };\n          if (snapToGrid) {\n            nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n            nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n          }\n          // if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n          // based on its position so that the node stays at it's position relative to the selection.\n          var adjustedNodeExtent = [[nodeExtent[0][0], nodeExtent[0][1]], [nodeExtent[1][0], nodeExtent[1][1]]];\n          if (dragItems.current.length > 1 && nodeExtent && !n.extent) {\n            var _n$width, _n$height;\n            adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n            adjustedNodeExtent[1][0] = n.positionAbsolute.x + ((_n$width = n.width) !== null && _n$width !== void 0 ? _n$width : 0) - nodesBox.x2 + nodeExtent[1][0];\n            adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n            adjustedNodeExtent[1][1] = n.positionAbsolute.y + ((_n$height = n.height) !== null && _n$height !== void 0 ? _n$height : 0) - nodesBox.y2 + nodeExtent[1][1];\n          }\n          var updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);\n          // we want to make sure that we only fire a change event when there is a change\n          hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n          n.position = updatedPos.position;\n          n.positionAbsolute = updatedPos.positionAbsolute;\n          return n;\n        });\n        if (!hasChange) {\n          return;\n        }\n        updateNodePositions(dragItems.current, true, true);\n        setDragging(true);\n        var onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n        if (onDrag && dragEvent.current) {\n          var _getEventHandlerParam = getEventHandlerParams({\n              nodeId: nodeId,\n              dragItems: dragItems.current,\n              nodeInternals: nodeInternals\n            }),\n            _getEventHandlerParam2 = _slicedToArray(_getEventHandlerParam, 2),\n            currentNode = _getEventHandlerParam2[0],\n            nodes = _getEventHandlerParam2[1];\n          onDrag(dragEvent.current, currentNode, nodes);\n        }\n      };\n      var autoPan = function autoPan() {\n        if (!containerBounds.current) {\n          return;\n        }\n        var _calcAutoPan3 = calcAutoPan(mousePosition.current, containerBounds.current),\n          _calcAutoPan4 = _slicedToArray(_calcAutoPan3, 2),\n          xMovement = _calcAutoPan4[0],\n          yMovement = _calcAutoPan4[1];\n        if (xMovement !== 0 || yMovement !== 0) {\n          var _lastPos$current$x, _lastPos$current$y;\n          var _store$getState29 = store.getState(),\n            transform = _store$getState29.transform,\n            panBy = _store$getState29.panBy;\n          lastPos.current.x = ((_lastPos$current$x = lastPos.current.x) !== null && _lastPos$current$x !== void 0 ? _lastPos$current$x : 0) - xMovement / transform[2];\n          lastPos.current.y = ((_lastPos$current$y = lastPos.current.y) !== null && _lastPos$current$y !== void 0 ? _lastPos$current$y : 0) - yMovement / transform[2];\n          if (panBy({\n            x: xMovement,\n            y: yMovement\n          })) {\n            updateNodes(lastPos.current);\n          }\n        }\n        autoPanId.current = requestAnimationFrame(autoPan);\n      };\n      var startDrag = function startDrag(event) {\n        var _store$getState30 = store.getState(),\n          nodeInternals = _store$getState30.nodeInternals,\n          multiSelectionActive = _store$getState30.multiSelectionActive,\n          nodesDraggable = _store$getState30.nodesDraggable,\n          unselectNodesAndEdges = _store$getState30.unselectNodesAndEdges,\n          onNodeDragStart = _store$getState30.onNodeDragStart,\n          onSelectionDragStart = _store$getState30.onSelectionDragStart;\n        dragStarted.current = true;\n        var onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n        if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {\n          var _nodeInternals$get;\n          if (!((_nodeInternals$get = nodeInternals.get(nodeId)) !== null && _nodeInternals$get !== void 0 && _nodeInternals$get.selected)) {\n            // we need to reset selected nodes when selectNodesOnDrag=false\n            unselectNodesAndEdges();\n          }\n        }\n        if (nodeId && isSelectable && selectNodesOnDrag) {\n          handleNodeClick({\n            id: nodeId,\n            store: store,\n            nodeRef: nodeRef\n          });\n        }\n        var pointerPos = getPointerPosition(event);\n        lastPos.current = pointerPos;\n        dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n        if (onStart && dragItems.current) {\n          var _getEventHandlerParam3 = getEventHandlerParams({\n              nodeId: nodeId,\n              dragItems: dragItems.current,\n              nodeInternals: nodeInternals\n            }),\n            _getEventHandlerParam4 = _slicedToArray(_getEventHandlerParam3, 2),\n            currentNode = _getEventHandlerParam4[0],\n            nodes = _getEventHandlerParam4[1];\n          onStart(event.sourceEvent, currentNode, nodes);\n        }\n      };\n      if (disabled) {\n        selection.on('.drag', null);\n      } else {\n        var dragHandler = drag().on('start', function (event) {\n          var _store$getState31 = store.getState(),\n            domNode = _store$getState31.domNode,\n            nodeDragThreshold = _store$getState31.nodeDragThreshold;\n          if (nodeDragThreshold === 0) {\n            startDrag(event);\n          }\n          var pointerPos = getPointerPosition(event);\n          lastPos.current = pointerPos;\n          containerBounds.current = (domNode === null || domNode === void 0 ? void 0 : domNode.getBoundingClientRect()) || null;\n          mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n        }).on('drag', function (event) {\n          var pointerPos = getPointerPosition(event);\n          var _store$getState32 = store.getState(),\n            autoPanOnNodeDrag = _store$getState32.autoPanOnNodeDrag,\n            nodeDragThreshold = _store$getState32.nodeDragThreshold;\n          if (!autoPanStarted.current && dragStarted.current && autoPanOnNodeDrag) {\n            autoPanStarted.current = true;\n            autoPan();\n          }\n          if (!dragStarted.current) {\n            var _lastPos$current$x2, _lastPos$current, _lastPos$current$y2, _lastPos$current2;\n            var x = pointerPos.xSnapped - ((_lastPos$current$x2 = lastPos === null || lastPos === void 0 || (_lastPos$current = lastPos.current) === null || _lastPos$current === void 0 ? void 0 : _lastPos$current.x) !== null && _lastPos$current$x2 !== void 0 ? _lastPos$current$x2 : 0);\n            var y = pointerPos.ySnapped - ((_lastPos$current$y2 = lastPos === null || lastPos === void 0 || (_lastPos$current2 = lastPos.current) === null || _lastPos$current2 === void 0 ? void 0 : _lastPos$current2.y) !== null && _lastPos$current$y2 !== void 0 ? _lastPos$current$y2 : 0);\n            var _distance = Math.sqrt(x * x + y * y);\n            if (_distance > nodeDragThreshold) {\n              startDrag(event);\n            }\n          }\n          // skip events without movement\n          if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) && dragItems.current && dragStarted.current) {\n            dragEvent.current = event.sourceEvent;\n            mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n            updateNodes(pointerPos);\n          }\n        }).on('end', function (event) {\n          if (!dragStarted.current) {\n            return;\n          }\n          setDragging(false);\n          autoPanStarted.current = false;\n          dragStarted.current = false;\n          cancelAnimationFrame(autoPanId.current);\n          if (dragItems.current) {\n            var _store$getState33 = store.getState(),\n              updateNodePositions = _store$getState33.updateNodePositions,\n              nodeInternals = _store$getState33.nodeInternals,\n              onNodeDragStop = _store$getState33.onNodeDragStop,\n              onSelectionDragStop = _store$getState33.onSelectionDragStop;\n            var onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n            updateNodePositions(dragItems.current, false, false);\n            if (onStop) {\n              var _getEventHandlerParam5 = getEventHandlerParams({\n                  nodeId: nodeId,\n                  dragItems: dragItems.current,\n                  nodeInternals: nodeInternals\n                }),\n                _getEventHandlerParam6 = _slicedToArray(_getEventHandlerParam5, 2),\n                currentNode = _getEventHandlerParam6[0],\n                nodes = _getEventHandlerParam6[1];\n              onStop(event.sourceEvent, currentNode, nodes);\n            }\n          }\n        }).filter(function (event) {\n          var target = event.target;\n          var isDraggable = !event.button && (!noDragClassName || !hasSelector(target, \".\".concat(noDragClassName), nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n          return isDraggable;\n        });\n        selection.call(dragHandler);\n        return function () {\n          selection.on('.drag', null);\n        };\n      }\n    }\n  }, [nodeRef, disabled, noDragClassName, handleSelector, isSelectable, store, nodeId, selectNodesOnDrag, getPointerPosition]);\n  return dragging;\n}\nfunction useUpdateNodePositions() {\n  var store = useStoreApi();\n  var updatePositions = useCallback(function (params) {\n    var _store$getState34 = store.getState(),\n      nodeInternals = _store$getState34.nodeInternals,\n      nodeExtent = _store$getState34.nodeExtent,\n      updateNodePositions = _store$getState34.updateNodePositions,\n      getNodes = _store$getState34.getNodes,\n      snapToGrid = _store$getState34.snapToGrid,\n      snapGrid = _store$getState34.snapGrid,\n      onError = _store$getState34.onError,\n      nodesDraggable = _store$getState34.nodesDraggable;\n    var selectedNodes = getNodes().filter(function (n) {\n      return n.selected && (n.draggable || nodesDraggable && typeof n.draggable === 'undefined');\n    });\n    // by default a node moves 5px on each key press, or 20px if shift is pressed\n    // if snap grid is enabled, we use that for the velocity.\n    var xVelo = snapToGrid ? snapGrid[0] : 5;\n    var yVelo = snapToGrid ? snapGrid[1] : 5;\n    var factor = params.isShiftPressed ? 4 : 1;\n    var positionDiffX = params.x * xVelo * factor;\n    var positionDiffY = params.y * yVelo * factor;\n    var nodeUpdates = selectedNodes.map(function (n) {\n      if (n.positionAbsolute) {\n        var nextPosition = {\n          x: n.positionAbsolute.x + positionDiffX,\n          y: n.positionAbsolute.y + positionDiffY\n        };\n        if (snapToGrid) {\n          nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n          nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n        }\n        var _calcNextPosition = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError),\n          positionAbsolute = _calcNextPosition.positionAbsolute,\n          position = _calcNextPosition.position;\n        n.position = position;\n        n.positionAbsolute = positionAbsolute;\n      }\n      return n;\n    });\n    updateNodePositions(nodeUpdates, true, false);\n  }, []);\n  return updatePositions;\n}\nvar arrowKeyDiffs = {\n  ArrowUp: {\n    x: 0,\n    y: -1\n  },\n  ArrowDown: {\n    x: 0,\n    y: 1\n  },\n  ArrowLeft: {\n    x: -1,\n    y: 0\n  },\n  ArrowRight: {\n    x: 1,\n    y: 0\n  }\n};\nvar wrapNode = function wrapNode(NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_ref56) {\n    var id = _ref56.id,\n      type = _ref56.type,\n      data = _ref56.data,\n      xPos = _ref56.xPos,\n      yPos = _ref56.yPos,\n      xPosOrigin = _ref56.xPosOrigin,\n      yPosOrigin = _ref56.yPosOrigin,\n      selected = _ref56.selected,\n      onClick = _ref56.onClick,\n      onMouseEnter = _ref56.onMouseEnter,\n      onMouseMove = _ref56.onMouseMove,\n      onMouseLeave = _ref56.onMouseLeave,\n      onContextMenu = _ref56.onContextMenu,\n      onDoubleClick = _ref56.onDoubleClick,\n      style = _ref56.style,\n      className = _ref56.className,\n      isDraggable = _ref56.isDraggable,\n      isSelectable = _ref56.isSelectable,\n      isConnectable = _ref56.isConnectable,\n      isFocusable = _ref56.isFocusable,\n      selectNodesOnDrag = _ref56.selectNodesOnDrag,\n      sourcePosition = _ref56.sourcePosition,\n      targetPosition = _ref56.targetPosition,\n      hidden = _ref56.hidden,\n      resizeObserver = _ref56.resizeObserver,\n      dragHandle = _ref56.dragHandle,\n      zIndex = _ref56.zIndex,\n      isParent = _ref56.isParent,\n      noDragClassName = _ref56.noDragClassName,\n      noPanClassName = _ref56.noPanClassName,\n      initialized = _ref56.initialized,\n      disableKeyboardA11y = _ref56.disableKeyboardA11y,\n      ariaLabel = _ref56.ariaLabel,\n      rfId = _ref56.rfId;\n    var store = useStoreApi();\n    var nodeRef = useRef(null);\n    var prevSourcePosition = useRef(sourcePosition);\n    var prevTargetPosition = useRef(targetPosition);\n    var prevType = useRef(type);\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n    var updatePositions = useUpdateNodePositions();\n    var onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n    var onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n    var onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n    var onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n    var onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n    var onSelectNodeHandler = function onSelectNodeHandler(event) {\n      var _store$getState35 = store.getState(),\n        nodeDragThreshold = _store$getState35.nodeDragThreshold;\n      if (isSelectable && (!selectNodesOnDrag || !isDraggable || nodeDragThreshold > 0)) {\n        // this handler gets called within the drag start event when selectNodesOnDrag=true\n        handleNodeClick({\n          id: id,\n          store: store,\n          nodeRef: nodeRef\n        });\n      }\n      if (onClick) {\n        var node = store.getState().nodeInternals.get(id);\n        if (node) {\n          onClick(event, _objectSpread({}, node));\n        }\n      }\n    };\n    var onKeyDown = function onKeyDown(event) {\n      if (isInputDOMNode(event)) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && isSelectable) {\n        var unselect = event.key === 'Escape';\n        handleNodeClick({\n          id: id,\n          store: store,\n          unselect: unselect,\n          nodeRef: nodeRef\n        });\n      } else if (!disableKeyboardA11y && isDraggable && selected && Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n        store.setState({\n          ariaLiveMessage: \"Moved selected node \".concat(event.key.replace('Arrow', '').toLowerCase(), \". New position, x: \").concat(~~xPos, \", y: \").concat(~~yPos)\n        });\n        updatePositions({\n          x: arrowKeyDiffs[event.key].x,\n          y: arrowKeyDiffs[event.key].y,\n          isShiftPressed: event.shiftKey\n        });\n      }\n    };\n    useEffect(function () {\n      if (nodeRef.current && !hidden) {\n        var currNode = nodeRef.current;\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\n        return function () {\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\n        };\n      }\n    }, [hidden]);\n    useEffect(function () {\n      // when the user programmatically changes the source or handle position, we re-initialize the node\n      var typeChanged = prevType.current !== type;\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\n      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n        if (typeChanged) {\n          prevType.current = type;\n        }\n        if (sourcePosChanged) {\n          prevSourcePosition.current = sourcePosition;\n        }\n        if (targetPosChanged) {\n          prevTargetPosition.current = targetPosition;\n        }\n        store.getState().updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeRef.current,\n          forceUpdate: true\n        }]);\n      }\n    }, [id, type, sourcePosition, targetPosition]);\n    var dragging = useDrag({\n      nodeRef: nodeRef,\n      disabled: hidden || !isDraggable,\n      noDragClassName: noDragClassName,\n      handleSelector: dragHandle,\n      nodeId: id,\n      isSelectable: isSelectable,\n      selectNodesOnDrag: selectNodesOnDrag\n    });\n    if (hidden) {\n      return null;\n    }\n    return React.createElement(\"div\", {\n      className: cc(['react-flow__node', \"react-flow__node-\".concat(type), _defineProperty({}, noPanClassName, isDraggable), className, {\n        selected: selected,\n        selectable: isSelectable,\n        parent: isParent,\n        dragging: dragging\n      }]),\n      ref: nodeRef,\n      style: _objectSpread({\n        zIndex: zIndex,\n        transform: \"translate(\".concat(xPosOrigin, \"px,\").concat(yPosOrigin, \"px)\"),\n        pointerEvents: hasPointerEvents ? 'all' : 'none',\n        visibility: initialized ? 'visible' : 'hidden'\n      }, style),\n      \"data-id\": id,\n      \"data-testid\": \"rf__node-\".concat(id),\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler,\n      onDoubleClick: onDoubleClickHandler,\n      onKeyDown: isFocusable ? onKeyDown : undefined,\n      tabIndex: isFocusable ? 0 : undefined,\n      role: isFocusable ? 'button' : undefined,\n      \"aria-describedby\": disableKeyboardA11y ? undefined : \"\".concat(ARIA_NODE_DESC_KEY, \"-\").concat(rfId),\n      \"aria-label\": ariaLabel\n    }, React.createElement(Provider, {\n      value: id\n    }, React.createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      xPos: xPos,\n      yPos: yPos,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      dragging: dragging,\n      dragHandle: dragHandle,\n      zIndex: zIndex\n    })));\n  };\n  NodeWrapper.displayName = 'NodeWrapper';\n  return memo(NodeWrapper);\n};\n\n/**\n * The nodes selection rectangle gets displayed when a user\n * made a selection with on or several nodes\n */\nvar selector$7 = function selector$7(s) {\n  var selectedNodes = s.getNodes().filter(function (n) {\n    return n.selected;\n  });\n  return _objectSpread(_objectSpread({}, getRectOfNodes(selectedNodes, s.nodeOrigin)), {}, {\n    transformString: \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\"),\n    userSelectionActive: s.userSelectionActive\n  });\n};\nfunction NodesSelection(_ref58) {\n  var onSelectionContextMenu = _ref58.onSelectionContextMenu,\n    noPanClassName = _ref58.noPanClassName,\n    disableKeyboardA11y = _ref58.disableKeyboardA11y;\n  var store = useStoreApi();\n  var _useStore9 = useStore(selector$7, shallow),\n    width = _useStore9.width,\n    height = _useStore9.height,\n    left = _useStore9.x,\n    top = _useStore9.y,\n    transformString = _useStore9.transformString,\n    userSelectionActive = _useStore9.userSelectionActive;\n  var updatePositions = useUpdateNodePositions();\n  var nodeRef = useRef(null);\n  useEffect(function () {\n    if (!disableKeyboardA11y) {\n      var _nodeRef$current2;\n      (_nodeRef$current2 = nodeRef.current) === null || _nodeRef$current2 === void 0 ? void 0 : _nodeRef$current2.focus({\n        preventScroll: true\n      });\n    }\n  }, [disableKeyboardA11y]);\n  useDrag({\n    nodeRef: nodeRef\n  });\n  if (userSelectionActive || !width || !height) {\n    return null;\n  }\n  var onContextMenu = onSelectionContextMenu ? function (event) {\n    var selectedNodes = store.getState().getNodes().filter(function (n) {\n      return n.selected;\n    });\n    onSelectionContextMenu(event, selectedNodes);\n  } : undefined;\n  var onKeyDown = function onKeyDown(event) {\n    if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n      updatePositions({\n        x: arrowKeyDiffs[event.key].x,\n        y: arrowKeyDiffs[event.key].y,\n        isShiftPressed: event.shiftKey\n      });\n    }\n  };\n  return React.createElement(\"div\", {\n    className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\n    style: {\n      transform: transformString\n    }\n  }, React.createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    tabIndex: disableKeyboardA11y ? undefined : -1,\n    onKeyDown: disableKeyboardA11y ? undefined : onKeyDown,\n    style: {\n      width: width,\n      height: height,\n      top: top,\n      left: left\n    }\n  }));\n}\nvar NodesSelection$1 = memo(NodesSelection);\nvar selector$6 = function selector$6(s) {\n  return s.nodesSelectionActive;\n};\nvar FlowRenderer = function FlowRenderer(_ref59) {\n  var children = _ref59.children,\n    onPaneClick = _ref59.onPaneClick,\n    onPaneMouseEnter = _ref59.onPaneMouseEnter,\n    onPaneMouseMove = _ref59.onPaneMouseMove,\n    onPaneMouseLeave = _ref59.onPaneMouseLeave,\n    onPaneContextMenu = _ref59.onPaneContextMenu,\n    onPaneScroll = _ref59.onPaneScroll,\n    deleteKeyCode = _ref59.deleteKeyCode,\n    onMove = _ref59.onMove,\n    onMoveStart = _ref59.onMoveStart,\n    onMoveEnd = _ref59.onMoveEnd,\n    selectionKeyCode = _ref59.selectionKeyCode,\n    selectionOnDrag = _ref59.selectionOnDrag,\n    selectionMode = _ref59.selectionMode,\n    onSelectionStart = _ref59.onSelectionStart,\n    onSelectionEnd = _ref59.onSelectionEnd,\n    multiSelectionKeyCode = _ref59.multiSelectionKeyCode,\n    panActivationKeyCode = _ref59.panActivationKeyCode,\n    zoomActivationKeyCode = _ref59.zoomActivationKeyCode,\n    elementsSelectable = _ref59.elementsSelectable,\n    zoomOnScroll = _ref59.zoomOnScroll,\n    zoomOnPinch = _ref59.zoomOnPinch,\n    panOnScroll = _ref59.panOnScroll,\n    panOnScrollSpeed = _ref59.panOnScrollSpeed,\n    panOnScrollMode = _ref59.panOnScrollMode,\n    zoomOnDoubleClick = _ref59.zoomOnDoubleClick,\n    _panOnDrag = _ref59.panOnDrag,\n    defaultViewport = _ref59.defaultViewport,\n    translateExtent = _ref59.translateExtent,\n    minZoom = _ref59.minZoom,\n    maxZoom = _ref59.maxZoom,\n    preventScrolling = _ref59.preventScrolling,\n    onSelectionContextMenu = _ref59.onSelectionContextMenu,\n    noWheelClassName = _ref59.noWheelClassName,\n    noPanClassName = _ref59.noPanClassName,\n    disableKeyboardA11y = _ref59.disableKeyboardA11y;\n  var nodesSelectionActive = useStore(selector$6);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  var panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n  var panOnDrag = panActivationKeyPressed || _panOnDrag;\n  var isSelecting = selectionKeyPressed || selectionOnDrag && panOnDrag !== true;\n  useGlobalKeyHandler({\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode\n  });\n  return React.createElement(ZoomPane, {\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onPaneContextMenu: onPaneContextMenu,\n    elementsSelectable: elementsSelectable,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnDrag: !selectionKeyPressed && panOnDrag,\n    defaultViewport: defaultViewport,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    preventScrolling: preventScrolling,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, React.createElement(Pane, {\n    onSelectionStart: onSelectionStart,\n    onSelectionEnd: onSelectionEnd,\n    onPaneClick: onPaneClick,\n    onPaneMouseEnter: onPaneMouseEnter,\n    onPaneMouseMove: onPaneMouseMove,\n    onPaneMouseLeave: onPaneMouseLeave,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    panOnDrag: panOnDrag,\n    isSelecting: !!isSelecting,\n    selectionMode: selectionMode\n  }, children, nodesSelectionActive && React.createElement(NodesSelection$1, {\n    onSelectionContextMenu: onSelectionContextMenu,\n    noPanClassName: noPanClassName,\n    disableKeyboardA11y: disableKeyboardA11y\n  })));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\nfunction useVisibleNodes(onlyRenderVisible) {\n  var nodes = useStore(useCallback(function (s) {\n    return onlyRenderVisible ? getNodesInside(s.nodeInternals, {\n      x: 0,\n      y: 0,\n      width: s.width,\n      height: s.height\n    }, s.transform, true) : s.getNodes();\n  }, [onlyRenderVisible]));\n  return nodes;\n}\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    default: wrapNode(nodeTypes.default || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1),\n    group: wrapNode(nodeTypes.group || GroupNode)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output', 'group'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread(_objectSpread({}, standardTypes), specialTypes);\n}\nvar getPositionWithOrigin = function getPositionWithOrigin(_ref60) {\n  var x = _ref60.x,\n    y = _ref60.y,\n    width = _ref60.width,\n    height = _ref60.height,\n    origin = _ref60.origin;\n  if (!width || !height) {\n    return {\n      x: x,\n      y: y\n    };\n  }\n  if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n    return {\n      x: x,\n      y: y\n    };\n  }\n  return {\n    x: x - width * origin[0],\n    y: y - height * origin[1]\n  };\n};\nvar selector$5 = function selector$5(s) {\n  return {\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError\n  };\n};\nvar NodeRenderer = function NodeRenderer(props) {\n  var _useStore10 = useStore(selector$5, shallow),\n    nodesDraggable = _useStore10.nodesDraggable,\n    nodesConnectable = _useStore10.nodesConnectable,\n    nodesFocusable = _useStore10.nodesFocusable,\n    elementsSelectable = _useStore10.elementsSelectable,\n    updateNodeDimensions = _useStore10.updateNodeDimensions,\n    onError = _useStore10.onError;\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n  var resizeObserverRef = useRef();\n  var resizeObserver = useMemo(function () {\n    if (typeof ResizeObserver === 'undefined') {\n      return null;\n    }\n    var observer = new ResizeObserver(function (entries) {\n      var updates = entries.map(function (entry) {\n        return {\n          id: entry.target.getAttribute('data-id'),\n          nodeElement: entry.target,\n          forceUpdate: true\n        };\n      });\n      updateNodeDimensions(updates);\n    });\n    resizeObserverRef.current = observer;\n    return observer;\n  }, []);\n  useEffect(function () {\n    return function () {\n      var _resizeObserverRef$cu;\n      resizeObserverRef === null || resizeObserverRef === void 0 || (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"react-flow__nodes\",\n    style: containerStyle\n  }, nodes.map(function (node) {\n    var _clampedPosition$x, _clampedPosition$y, _node$width2, _node$height2, _node$internalsSymbol3, _node$internalsSymbol4, _node$internalsSymbol5;\n    var nodeType = node.type || 'default';\n    if (!props.nodeTypes[nodeType]) {\n      onError === null || onError === void 0 ? void 0 : onError('003', errorMessages['error003'](nodeType));\n      nodeType = 'default';\n    }\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes.default;\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n    var isFocusable = !!(node.focusable || nodesFocusable && typeof node.focusable === 'undefined');\n    var clampedPosition = props.nodeExtent ? clampPosition(node.positionAbsolute, props.nodeExtent) : node.positionAbsolute;\n    var posX = (_clampedPosition$x = clampedPosition === null || clampedPosition === void 0 ? void 0 : clampedPosition.x) !== null && _clampedPosition$x !== void 0 ? _clampedPosition$x : 0;\n    var posY = (_clampedPosition$y = clampedPosition === null || clampedPosition === void 0 ? void 0 : clampedPosition.y) !== null && _clampedPosition$y !== void 0 ? _clampedPosition$y : 0;\n    var posOrigin = getPositionWithOrigin({\n      x: posX,\n      y: posY,\n      width: (_node$width2 = node.width) !== null && _node$width2 !== void 0 ? _node$width2 : 0,\n      height: (_node$height2 = node.height) !== null && _node$height2 !== void 0 ? _node$height2 : 0,\n      origin: props.nodeOrigin\n    });\n    return React.createElement(NodeComponent, {\n      key: node.id,\n      id: node.id,\n      className: node.className,\n      style: node.style,\n      type: nodeType,\n      data: node.data,\n      sourcePosition: node.sourcePosition || Position.Bottom,\n      targetPosition: node.targetPosition || Position.Top,\n      hidden: node.hidden,\n      xPos: posX,\n      yPos: posY,\n      xPosOrigin: posOrigin.x,\n      yPosOrigin: posOrigin.y,\n      selectNodesOnDrag: props.selectNodesOnDrag,\n      onClick: props.onNodeClick,\n      onMouseEnter: props.onNodeMouseEnter,\n      onMouseMove: props.onNodeMouseMove,\n      onMouseLeave: props.onNodeMouseLeave,\n      onContextMenu: props.onNodeContextMenu,\n      onDoubleClick: props.onNodeDoubleClick,\n      selected: !!node.selected,\n      isDraggable: isDraggable,\n      isSelectable: isSelectable,\n      isConnectable: isConnectable,\n      isFocusable: isFocusable,\n      resizeObserver: resizeObserver,\n      dragHandle: node.dragHandle,\n      zIndex: (_node$internalsSymbol3 = (_node$internalsSymbol4 = node[internalsSymbol]) === null || _node$internalsSymbol4 === void 0 ? void 0 : _node$internalsSymbol4.z) !== null && _node$internalsSymbol3 !== void 0 ? _node$internalsSymbol3 : 0,\n      isParent: !!((_node$internalsSymbol5 = node[internalsSymbol]) !== null && _node$internalsSymbol5 !== void 0 && _node$internalsSymbol5.isParent),\n      noDragClassName: props.noDragClassName,\n      noPanClassName: props.noPanClassName,\n      initialized: !!node.width && !!node.height,\n      rfId: props.rfId,\n      disableKeyboardA11y: props.disableKeyboardA11y,\n      ariaLabel: node.ariaLabel\n    });\n  }));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\nvar shiftX = function shiftX(x, shift, position) {\n  if (position === Position.Left) return x - shift;\n  if (position === Position.Right) return x + shift;\n  return x;\n};\nvar shiftY = function shiftY(y, shift, position) {\n  if (position === Position.Top) return y - shift;\n  if (position === Position.Bottom) return y + shift;\n  return y;\n};\nvar EdgeUpdaterClassName = 'react-flow__edgeupdater';\nvar EdgeAnchor = function EdgeAnchor(_ref61) {\n  var position = _ref61.position,\n    centerX = _ref61.centerX,\n    centerY = _ref61.centerY,\n    _ref61$radius = _ref61.radius,\n    radius = _ref61$radius === void 0 ? 10 : _ref61$radius,\n    onMouseDown = _ref61.onMouseDown,\n    onMouseEnter = _ref61.onMouseEnter,\n    onMouseOut = _ref61.onMouseOut,\n    type = _ref61.type;\n  return React.createElement(\"circle\", {\n    onMouseDown: onMouseDown,\n    onMouseEnter: onMouseEnter,\n    onMouseOut: onMouseOut,\n    className: cc([EdgeUpdaterClassName, \"\".concat(EdgeUpdaterClassName, \"-\").concat(type)]),\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nvar alwaysValidConnection = function alwaysValidConnection() {\n  return true;\n};\nvar wrapEdge = function wrapEdge(EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_ref62) {\n    var id = _ref62.id,\n      className = _ref62.className,\n      type = _ref62.type,\n      data = _ref62.data,\n      onClick = _ref62.onClick,\n      onEdgeDoubleClick = _ref62.onEdgeDoubleClick,\n      selected = _ref62.selected,\n      animated = _ref62.animated,\n      label = _ref62.label,\n      labelStyle = _ref62.labelStyle,\n      labelShowBg = _ref62.labelShowBg,\n      labelBgStyle = _ref62.labelBgStyle,\n      labelBgPadding = _ref62.labelBgPadding,\n      labelBgBorderRadius = _ref62.labelBgBorderRadius,\n      style = _ref62.style,\n      source = _ref62.source,\n      target = _ref62.target,\n      sourceX = _ref62.sourceX,\n      sourceY = _ref62.sourceY,\n      targetX = _ref62.targetX,\n      targetY = _ref62.targetY,\n      sourcePosition = _ref62.sourcePosition,\n      targetPosition = _ref62.targetPosition,\n      elementsSelectable = _ref62.elementsSelectable,\n      hidden = _ref62.hidden,\n      sourceHandleId = _ref62.sourceHandleId,\n      targetHandleId = _ref62.targetHandleId,\n      onContextMenu = _ref62.onContextMenu,\n      onMouseEnter = _ref62.onMouseEnter,\n      onMouseMove = _ref62.onMouseMove,\n      onMouseLeave = _ref62.onMouseLeave,\n      edgeUpdaterRadius = _ref62.edgeUpdaterRadius,\n      onEdgeUpdate = _ref62.onEdgeUpdate,\n      onEdgeUpdateStart = _ref62.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref62.onEdgeUpdateEnd,\n      markerEnd = _ref62.markerEnd,\n      markerStart = _ref62.markerStart,\n      rfId = _ref62.rfId,\n      ariaLabel = _ref62.ariaLabel,\n      isFocusable = _ref62.isFocusable,\n      isUpdatable = _ref62.isUpdatable,\n      pathOptions = _ref62.pathOptions,\n      interactionWidth = _ref62.interactionWidth;\n    var edgeRef = useRef(null);\n    var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      updateHover = _useState8[0],\n      setUpdateHover = _useState8[1];\n    var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      updating = _useState10[0],\n      setUpdating = _useState10[1];\n    var store = useStoreApi();\n    var markerStartUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerStart, rfId), \")\");\n    }, [markerStart, rfId]);\n    var markerEndUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerEnd, rfId), \")\");\n    }, [markerEnd, rfId]);\n    if (hidden) {\n      return null;\n    }\n    var onEdgeClick = function onEdgeClick(event) {\n      var _store$getState36 = store.getState(),\n        edges = _store$getState36.edges,\n        addSelectedEdges = _store$getState36.addSelectedEdges,\n        unselectNodesAndEdges = _store$getState36.unselectNodesAndEdges,\n        multiSelectionActive = _store$getState36.multiSelectionActive;\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n      if (!edge) {\n        return;\n      }\n      if (elementsSelectable) {\n        store.setState({\n          nodesSelectionActive: false\n        });\n        if (edge.selected && multiSelectionActive) {\n          var _edgeRef$current;\n          unselectNodesAndEdges({\n            nodes: [],\n            edges: [edge]\n          });\n          (_edgeRef$current = edgeRef.current) === null || _edgeRef$current === void 0 ? void 0 : _edgeRef$current.blur();\n        } else {\n          addSelectedEdges([id]);\n        }\n      }\n      if (onClick) {\n        onClick(event, edge);\n      }\n    };\n    var onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n    var onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n    var onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n    var onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n    var onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n    var handleEdgeUpdater = function handleEdgeUpdater(event, isSourceHandle) {\n      // avoid triggering edge updater if mouse btn is not left\n      if (event.button !== 0) {\n        return;\n      }\n      var _store$getState37 = store.getState(),\n        edges = _store$getState37.edges,\n        isValidConnectionStore = _store$getState37.isValidConnection;\n      var nodeId = isSourceHandle ? target : source;\n      var handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n      var handleType = isSourceHandle ? 'target' : 'source';\n      var isValidConnection = isValidConnectionStore || alwaysValidConnection;\n      var isTarget = isSourceHandle;\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n      setUpdating(true);\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edge, handleType);\n      var _onEdgeUpdateEnd = function _onEdgeUpdateEnd(evt) {\n        setUpdating(false);\n        onEdgeUpdateEnd === null || onEdgeUpdateEnd === void 0 ? void 0 : onEdgeUpdateEnd(evt, edge, handleType);\n      };\n      var onConnectEdge = function onConnectEdge(connection) {\n        return onEdgeUpdate === null || onEdgeUpdate === void 0 ? void 0 : onEdgeUpdate(edge, connection);\n      };\n      handlePointerDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectEdge,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection,\n        edgeUpdaterType: handleType,\n        onEdgeUpdateEnd: _onEdgeUpdateEnd\n      });\n    };\n    var onEdgeUpdaterSourceMouseDown = function onEdgeUpdaterSourceMouseDown(event) {\n      return handleEdgeUpdater(event, true);\n    };\n    var onEdgeUpdaterTargetMouseDown = function onEdgeUpdaterTargetMouseDown(event) {\n      return handleEdgeUpdater(event, false);\n    };\n    var onEdgeUpdaterMouseEnter = function onEdgeUpdaterMouseEnter() {\n      return setUpdateHover(true);\n    };\n    var onEdgeUpdaterMouseOut = function onEdgeUpdaterMouseOut() {\n      return setUpdateHover(false);\n    };\n    var inactive = !elementsSelectable && !onClick;\n    var onKeyDown = function onKeyDown(event) {\n      if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n        var _store$getState38 = store.getState(),\n          unselectNodesAndEdges = _store$getState38.unselectNodesAndEdges,\n          addSelectedEdges = _store$getState38.addSelectedEdges,\n          edges = _store$getState38.edges;\n        var unselect = event.key === 'Escape';\n        if (unselect) {\n          var _edgeRef$current2;\n          (_edgeRef$current2 = edgeRef.current) === null || _edgeRef$current2 === void 0 ? void 0 : _edgeRef$current2.blur();\n          unselectNodesAndEdges({\n            edges: [edges.find(function (e) {\n              return e.id === id;\n            })]\n          });\n        } else {\n          addSelectedEdges([id]);\n        }\n      }\n    };\n    return React.createElement(\"g\", {\n      className: cc(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\n        selected: selected,\n        animated: animated,\n        inactive: inactive,\n        updating: updateHover\n      }]),\n      onClick: onEdgeClick,\n      onDoubleClick: onEdgeDoubleClickHandler,\n      onContextMenu: onEdgeContextMenu,\n      onMouseEnter: onEdgeMouseEnter,\n      onMouseMove: onEdgeMouseMove,\n      onMouseLeave: onEdgeMouseLeave,\n      onKeyDown: isFocusable ? onKeyDown : undefined,\n      tabIndex: isFocusable ? 0 : undefined,\n      role: isFocusable ? 'button' : 'img',\n      \"data-testid\": \"rf__edge-\".concat(id),\n      \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : \"Edge from \".concat(source, \" to \").concat(target),\n      \"aria-describedby\": isFocusable ? \"\".concat(ARIA_EDGE_DESC_KEY, \"-\").concat(rfId) : undefined,\n      ref: edgeRef\n    }, !updating && React.createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceHandleId: sourceHandleId,\n      targetHandleId: targetHandleId,\n      markerStart: markerStartUrl,\n      markerEnd: markerEndUrl,\n      pathOptions: pathOptions,\n      interactionWidth: interactionWidth\n    }), isUpdatable && React.createElement(React.Fragment, null, (isUpdatable === 'source' || isUpdatable === true) && React.createElement(EdgeAnchor, {\n      position: sourcePosition,\n      centerX: sourceX,\n      centerY: sourceY,\n      radius: edgeUpdaterRadius,\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut,\n      type: \"source\"\n    }), (isUpdatable === 'target' || isUpdatable === true) && React.createElement(EdgeAnchor, {\n      position: targetPosition,\n      centerX: targetX,\n      centerY: targetY,\n      radius: edgeUpdaterRadius,\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut,\n      type: \"target\"\n    })));\n  };\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return memo(EdgeWrapper);\n};\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    default: wrapEdge(edgeTypes.default || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread(_objectSpread({}, standardTypes), specialTypes);\n}\nfunction getHandlePosition(position, nodeRect) {\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y: y\n      };\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n    case Position.Left:\n      return {\n        x: x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  }\n  if (bounds.length === 1 || !handleId) {\n    return bounds[0];\n  } else if (handleId) {\n    return bounds.find(function (d) {\n      return d.id === handleId;\n    }) || null;\n  }\n  return null;\n}\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n};\nfunction isEdgeVisible(_ref63) {\n  var sourcePos = _ref63.sourcePos,\n    targetPos = _ref63.targetPos,\n    sourceWidth = _ref63.sourceWidth,\n    sourceHeight = _ref63.sourceHeight,\n    targetWidth = _ref63.targetWidth,\n    targetHeight = _ref63.targetHeight,\n    width = _ref63.width,\n    height = _ref63.height,\n    transform = _ref63.transform;\n  var edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  var viewBox = rectToBox({\n    x: (0 - transform[0]) / transform[2],\n    y: (0 - transform[1]) / transform[2],\n    width: width / transform[2],\n    height: height / transform[2]\n  });\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n  var _node$internalsSymbol6, _node$positionAbsolut5, _node$positionAbsolut6, _node$positionAbsolut7, _node$positionAbsolut8;\n  var handleBounds = (node === null || node === void 0 || (_node$internalsSymbol6 = node[internalsSymbol]) === null || _node$internalsSymbol6 === void 0 ? void 0 : _node$internalsSymbol6.handleBounds) || null;\n  var isValid = handleBounds && (node === null || node === void 0 ? void 0 : node.width) && (node === null || node === void 0 ? void 0 : node.height) && typeof (node === null || node === void 0 || (_node$positionAbsolut5 = node.positionAbsolute) === null || _node$positionAbsolut5 === void 0 ? void 0 : _node$positionAbsolut5.x) !== 'undefined' && typeof (node === null || node === void 0 || (_node$positionAbsolut6 = node.positionAbsolute) === null || _node$positionAbsolut6 === void 0 ? void 0 : _node$positionAbsolut6.y) !== 'undefined';\n  return [{\n    x: (node === null || node === void 0 || (_node$positionAbsolut7 = node.positionAbsolute) === null || _node$positionAbsolut7 === void 0 ? void 0 : _node$positionAbsolut7.x) || 0,\n    y: (node === null || node === void 0 || (_node$positionAbsolut8 = node.positionAbsolute) === null || _node$positionAbsolut8 === void 0 ? void 0 : _node$positionAbsolut8.y) || 0,\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\n  }, handleBounds, !!isValid];\n}\nvar defaultEdgeTree = [{\n  level: 0,\n  isMaxLevel: true,\n  edges: []\n}];\nfunction groupEdgesByZLevel(edges, nodeInternals) {\n  var elevateEdgesOnSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxLevel = -1;\n  var levelLookup = edges.reduce(function (tree, edge) {\n    var hasZIndex = isNumeric(edge.zIndex);\n    var z = hasZIndex ? edge.zIndex : 0;\n    if (elevateEdgesOnSelect) {\n      var _sourceNode$internals, _targetNode$internals;\n      var targetNode = nodeInternals.get(edge.target);\n      var sourceNode = nodeInternals.get(edge.source);\n      var edgeOrConnectedNodeSelected = edge.selected || (targetNode === null || targetNode === void 0 ? void 0 : targetNode.selected) || (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.selected);\n      var selectedZIndex = Math.max((sourceNode === null || sourceNode === void 0 || (_sourceNode$internals = sourceNode[internalsSymbol]) === null || _sourceNode$internals === void 0 ? void 0 : _sourceNode$internals.z) || 0, (targetNode === null || targetNode === void 0 || (_targetNode$internals = targetNode[internalsSymbol]) === null || _targetNode$internals === void 0 ? void 0 : _targetNode$internals.z) || 0, 1000);\n      z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n    }\n    if (tree[z]) {\n      tree[z].push(edge);\n    } else {\n      tree[z] = [edge];\n    }\n    maxLevel = z > maxLevel ? z : maxLevel;\n    return tree;\n  }, {});\n  var edgeTree = Object.entries(levelLookup).map(function (_ref64) {\n    var _ref65 = _slicedToArray(_ref64, 2),\n      key = _ref65[0],\n      edges = _ref65[1];\n    var level = +key;\n    return {\n      edges: edges,\n      level: level,\n      isMaxLevel: level === maxLevel\n    };\n  });\n  if (edgeTree.length === 0) {\n    return defaultEdgeTree;\n  }\n  return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n  var edges = useStore(useCallback(function (s) {\n    if (!onlyRenderVisible) {\n      return s.edges;\n    }\n    return s.edges.filter(function (e) {\n      var sourceNode = nodeInternals.get(e.source);\n      var targetNode = nodeInternals.get(e.target);\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\n        sourcePos: sourceNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        targetPos: targetNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        sourceWidth: sourceNode.width,\n        sourceHeight: sourceNode.height,\n        targetWidth: targetNode.width,\n        targetHeight: targetNode.height,\n        width: s.width,\n        height: s.height,\n        transform: s.transform\n      });\n    });\n  }, [onlyRenderVisible, nodeInternals]));\n  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\nvar ArrowSymbol = function ArrowSymbol(_ref66) {\n  var _ref66$color = _ref66.color,\n    color = _ref66$color === void 0 ? 'none' : _ref66$color,\n    _ref66$strokeWidth = _ref66.strokeWidth,\n    strokeWidth = _ref66$strokeWidth === void 0 ? 1 : _ref66$strokeWidth;\n  return React.createElement(\"polyline\", {\n    style: {\n      stroke: color,\n      strokeWidth: strokeWidth\n    },\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  });\n};\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref67) {\n  var _ref67$color = _ref67.color,\n    color = _ref67$color === void 0 ? 'none' : _ref67$color,\n    _ref67$strokeWidth = _ref67.strokeWidth,\n    strokeWidth = _ref67$strokeWidth === void 0 ? 1 : _ref67$strokeWidth;\n  return React.createElement(\"polyline\", {\n    style: {\n      stroke: color,\n      fill: color,\n      strokeWidth: strokeWidth\n    },\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  });\n};\nvar MarkerSymbols = (_MarkerSymbols = {}, _defineProperty(_MarkerSymbols, MarkerType.Arrow, ArrowSymbol), _defineProperty(_MarkerSymbols, MarkerType.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\nfunction useMarkerSymbol(type) {\n  var store = useStoreApi();\n  var symbol = useMemo(function () {\n    var symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n    if (!symbolExists) {\n      var _store$getState$onErr3, _store$getState39;\n      (_store$getState$onErr3 = (_store$getState39 = store.getState()).onError) === null || _store$getState$onErr3 === void 0 ? void 0 : _store$getState$onErr3.call(_store$getState39, '009', errorMessages['error009'](type));\n      return null;\n    }\n    return MarkerSymbols[type];\n  }, [type]);\n  return symbol;\n}\nvar Marker = function Marker(_ref68) {\n  var id = _ref68.id,\n    type = _ref68.type,\n    color = _ref68.color,\n    _ref68$width = _ref68.width,\n    width = _ref68$width === void 0 ? 12.5 : _ref68$width,\n    _ref68$height = _ref68.height,\n    height = _ref68$height === void 0 ? 12.5 : _ref68$height,\n    _ref68$markerUnits = _ref68.markerUnits,\n    markerUnits = _ref68$markerUnits === void 0 ? 'strokeWidth' : _ref68$markerUnits,\n    strokeWidth = _ref68.strokeWidth,\n    _ref68$orient = _ref68.orient,\n    orient = _ref68$orient === void 0 ? 'auto-start-reverse' : _ref68$orient;\n  var Symbol = useMarkerSymbol(type);\n  if (!Symbol) {\n    return null;\n  }\n  return React.createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"\".concat(width),\n    markerHeight: \"\".concat(height),\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: markerUnits,\n    orient: orient,\n    refX: \"0\",\n    refY: \"0\"\n  }, React.createElement(Symbol, {\n    color: color,\n    strokeWidth: strokeWidth\n  }));\n};\nvar markerSelector = function markerSelector(_ref69) {\n  var defaultColor = _ref69.defaultColor,\n    rfId = _ref69.rfId;\n  return function (s) {\n    var ids = [];\n    return s.edges.reduce(function (markers, edge) {\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\n        if (marker && typeof marker === 'object') {\n          var markerId = getMarkerId(marker, rfId);\n          if (!ids.includes(markerId)) {\n            markers.push(_objectSpread({\n              id: markerId,\n              color: marker.color || defaultColor\n            }, marker));\n            ids.push(markerId);\n          }\n        }\n      });\n      return markers;\n    }, []).sort(function (a, b) {\n      return a.id.localeCompare(b.id);\n    });\n  };\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nvar MarkerDefinitions = function MarkerDefinitions(_ref70) {\n  var defaultColor = _ref70.defaultColor,\n    rfId = _ref70.rfId;\n  var markers = useStore(useCallback(markerSelector({\n    defaultColor: defaultColor,\n    rfId: rfId\n  }), [defaultColor, rfId]),\n  // the id includes all marker options, so we just need to look at that part of the marker\n  function (a, b) {\n    return !(a.length !== b.length || a.some(function (m, i) {\n      return m.id !== b[i].id;\n    }));\n  });\n  return React.createElement(\"defs\", null, markers.map(function (marker) {\n    return React.createElement(Marker, {\n      id: marker.id,\n      key: marker.id,\n      type: marker.type,\n      color: marker.color,\n      width: marker.width,\n      height: marker.height,\n      markerUnits: marker.markerUnits,\n      strokeWidth: marker.strokeWidth,\n      orient: marker.orient\n    });\n  }));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\nvar selector$4 = function selector$4(s) {\n  return {\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError\n  };\n};\nvar EdgeRenderer = function EdgeRenderer(_ref71) {\n  var defaultMarkerColor = _ref71.defaultMarkerColor,\n    onlyRenderVisibleElements = _ref71.onlyRenderVisibleElements,\n    elevateEdgesOnSelect = _ref71.elevateEdgesOnSelect,\n    rfId = _ref71.rfId,\n    edgeTypes = _ref71.edgeTypes,\n    noPanClassName = _ref71.noPanClassName,\n    onEdgeUpdate = _ref71.onEdgeUpdate,\n    onEdgeContextMenu = _ref71.onEdgeContextMenu,\n    onEdgeMouseEnter = _ref71.onEdgeMouseEnter,\n    onEdgeMouseMove = _ref71.onEdgeMouseMove,\n    onEdgeMouseLeave = _ref71.onEdgeMouseLeave,\n    onEdgeClick = _ref71.onEdgeClick,\n    edgeUpdaterRadius = _ref71.edgeUpdaterRadius,\n    onEdgeDoubleClick = _ref71.onEdgeDoubleClick,\n    onEdgeUpdateStart = _ref71.onEdgeUpdateStart,\n    onEdgeUpdateEnd = _ref71.onEdgeUpdateEnd,\n    children = _ref71.children;\n  var _useStore11 = useStore(selector$4, shallow),\n    edgesFocusable = _useStore11.edgesFocusable,\n    edgesUpdatable = _useStore11.edgesUpdatable,\n    elementsSelectable = _useStore11.elementsSelectable,\n    width = _useStore11.width,\n    height = _useStore11.height,\n    connectionMode = _useStore11.connectionMode,\n    nodeInternals = _useStore11.nodeInternals,\n    onError = _useStore11.onError;\n  var edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n  if (!width) {\n    return null;\n  }\n  return React.createElement(React.Fragment, null, edgeTree.map(function (_ref72) {\n    var level = _ref72.level,\n      edges = _ref72.edges,\n      isMaxLevel = _ref72.isMaxLevel;\n    return React.createElement(\"svg\", {\n      key: level,\n      style: {\n        zIndex: level\n      },\n      width: width,\n      height: height,\n      className: \"react-flow__edges react-flow__container\"\n    }, isMaxLevel && React.createElement(MarkerDefinitions$1, {\n      defaultColor: defaultMarkerColor,\n      rfId: rfId\n    }), React.createElement(\"g\", null, edges.map(function (edge) {\n      var _targetHandleBounds$t, _targetHandleBounds$s;\n      var _getNodeData = getNodeData(nodeInternals.get(edge.source)),\n        _getNodeData2 = _slicedToArray(_getNodeData, 3),\n        sourceNodeRect = _getNodeData2[0],\n        sourceHandleBounds = _getNodeData2[1],\n        sourceIsValid = _getNodeData2[2];\n      var _getNodeData3 = getNodeData(nodeInternals.get(edge.target)),\n        _getNodeData4 = _slicedToArray(_getNodeData3, 3),\n        targetNodeRect = _getNodeData4[0],\n        targetHandleBounds = _getNodeData4[1],\n        targetIsValid = _getNodeData4[2];\n      if (!sourceIsValid || !targetIsValid) {\n        return null;\n      }\n      var edgeType = edge.type || 'default';\n      if (!edgeTypes[edgeType]) {\n        onError === null || onError === void 0 ? void 0 : onError('011', errorMessages['error011'](edgeType));\n        edgeType = 'default';\n      }\n      var EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n      // when connection type is loose we can define all handles as sources and connect source -> source\n      var targetNodeHandles = connectionMode === ConnectionMode.Strict ? targetHandleBounds.target : ((_targetHandleBounds$t = targetHandleBounds.target) !== null && _targetHandleBounds$t !== void 0 ? _targetHandleBounds$t : []).concat((_targetHandleBounds$s = targetHandleBounds.source) !== null && _targetHandleBounds$s !== void 0 ? _targetHandleBounds$s : []);\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || Position.Bottom;\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || Position.Top;\n      var isFocusable = !!(edge.focusable || edgesFocusable && typeof edge.focusable === 'undefined');\n      var isUpdatable = typeof onEdgeUpdate !== 'undefined' && (edge.updatable || edgesUpdatable && typeof edge.updatable === 'undefined');\n      if (!sourceHandle || !targetHandle) {\n        onError === null || onError === void 0 ? void 0 : onError('008', errorMessages['error008'](sourceHandle, edge));\n        return null;\n      }\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\n        sourceX = _getEdgePositions.sourceX,\n        sourceY = _getEdgePositions.sourceY,\n        targetX = _getEdgePositions.targetX,\n        targetY = _getEdgePositions.targetY;\n      return React.createElement(EdgeComponent, {\n        key: edge.id,\n        id: edge.id,\n        className: cc([edge.className, noPanClassName]),\n        type: edgeType,\n        data: edge.data,\n        selected: !!edge.selected,\n        animated: !!edge.animated,\n        hidden: !!edge.hidden,\n        label: edge.label,\n        labelStyle: edge.labelStyle,\n        labelShowBg: edge.labelShowBg,\n        labelBgStyle: edge.labelBgStyle,\n        labelBgPadding: edge.labelBgPadding,\n        labelBgBorderRadius: edge.labelBgBorderRadius,\n        style: edge.style,\n        source: edge.source,\n        target: edge.target,\n        sourceHandleId: edge.sourceHandle,\n        targetHandleId: edge.targetHandle,\n        markerEnd: edge.markerEnd,\n        markerStart: edge.markerStart,\n        sourceX: sourceX,\n        sourceY: sourceY,\n        targetX: targetX,\n        targetY: targetY,\n        sourcePosition: sourcePosition,\n        targetPosition: targetPosition,\n        elementsSelectable: elementsSelectable,\n        onEdgeUpdate: onEdgeUpdate,\n        onContextMenu: onEdgeContextMenu,\n        onMouseEnter: onEdgeMouseEnter,\n        onMouseMove: onEdgeMouseMove,\n        onMouseLeave: onEdgeMouseLeave,\n        onClick: onEdgeClick,\n        edgeUpdaterRadius: edgeUpdaterRadius,\n        onEdgeDoubleClick: onEdgeDoubleClick,\n        onEdgeUpdateStart: onEdgeUpdateStart,\n        onEdgeUpdateEnd: onEdgeUpdateEnd,\n        rfId: rfId,\n        ariaLabel: edge.ariaLabel,\n        isFocusable: isFocusable,\n        isUpdatable: isUpdatable,\n        pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined,\n        interactionWidth: edge.interactionWidth\n      });\n    })));\n  }), children);\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\nvar selector$3 = function selector$3(s) {\n  return \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\");\n};\nfunction Viewport(_ref73) {\n  var children = _ref73.children;\n  var transform = useStore(selector$3);\n  return React.createElement(\"div\", {\n    className: \"react-flow__viewport react-flow__container\",\n    style: {\n      transform: transform\n    }\n  }, children);\n}\nfunction useOnInitHandler(onInit) {\n  var rfInstance = useReactFlow();\n  var isInitialized = useRef(false);\n  useEffect(function () {\n    if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n      setTimeout(function () {\n        return onInit(rfInstance);\n      }, 1);\n      isInitialized.current = true;\n    }\n  }, [onInit, rfInstance.viewportInitialized]);\n}\nvar oppositePosition = (_oppositePosition = {}, _defineProperty(_oppositePosition, Position.Left, Position.Right), _defineProperty(_oppositePosition, Position.Right, Position.Left), _defineProperty(_oppositePosition, Position.Top, Position.Bottom), _defineProperty(_oppositePosition, Position.Bottom, Position.Top), _oppositePosition);\nvar ConnectionLine = function ConnectionLine(_ref74) {\n  var _fromNode$internalsSy, _fromNode$width, _fromNode$height, _fromNode$positionAbs, _fromNode$positionAbs2, _fromNode$positionAbs3, _fromNode$positionAbs4;\n  var nodeId = _ref74.nodeId,\n    handleType = _ref74.handleType,\n    style = _ref74.style,\n    _ref74$type = _ref74.type,\n    type = _ref74$type === void 0 ? ConnectionLineType.Bezier : _ref74$type,\n    CustomComponent = _ref74.CustomComponent,\n    connectionStatus = _ref74.connectionStatus;\n  var _useStore12 = useStore(useCallback(function (s) {\n      return {\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode\n      };\n    }, [nodeId]), shallow),\n    fromNode = _useStore12.fromNode,\n    handleId = _useStore12.handleId,\n    toX = _useStore12.toX,\n    toY = _useStore12.toY,\n    connectionMode = _useStore12.connectionMode;\n  var fromHandleBounds = fromNode === null || fromNode === void 0 || (_fromNode$internalsSy = fromNode[internalsSymbol]) === null || _fromNode$internalsSy === void 0 ? void 0 : _fromNode$internalsSy.handleBounds;\n  var handleBounds = fromHandleBounds === null || fromHandleBounds === void 0 ? void 0 : fromHandleBounds[handleType];\n  if (connectionMode === ConnectionMode.Loose) {\n    handleBounds = handleBounds ? handleBounds : fromHandleBounds === null || fromHandleBounds === void 0 ? void 0 : fromHandleBounds[handleType === 'source' ? 'target' : 'source'];\n  }\n  if (!fromNode || !handleBounds) {\n    return null;\n  }\n  var fromHandle = handleId ? handleBounds.find(function (d) {\n    return d.id === handleId;\n  }) : handleBounds[0];\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$width = fromNode.width) !== null && _fromNode$width !== void 0 ? _fromNode$width : 0) / 2;\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$height = fromNode.height) !== null && _fromNode$height !== void 0 ? _fromNode$height : 0;\n  var fromX = ((_fromNode$positionAbs = (_fromNode$positionAbs2 = fromNode.positionAbsolute) === null || _fromNode$positionAbs2 === void 0 ? void 0 : _fromNode$positionAbs2.x) !== null && _fromNode$positionAbs !== void 0 ? _fromNode$positionAbs : 0) + fromHandleX;\n  var fromY = ((_fromNode$positionAbs3 = (_fromNode$positionAbs4 = fromNode.positionAbsolute) === null || _fromNode$positionAbs4 === void 0 ? void 0 : _fromNode$positionAbs4.y) !== null && _fromNode$positionAbs3 !== void 0 ? _fromNode$positionAbs3 : 0) + fromHandleY;\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\n  var toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n  if (!fromPosition || !toPosition) {\n    return null;\n  }\n  if (CustomComponent) {\n    return React.createElement(CustomComponent, {\n      connectionLineType: type,\n      connectionLineStyle: style,\n      fromNode: fromNode,\n      fromHandle: fromHandle,\n      fromX: fromX,\n      fromY: fromY,\n      toX: toX,\n      toY: toY,\n      fromPosition: fromPosition,\n      toPosition: toPosition,\n      connectionStatus: connectionStatus\n    });\n  }\n  var dAttr = '';\n  var pathParams = {\n    sourceX: fromX,\n    sourceY: fromY,\n    sourcePosition: fromPosition,\n    targetX: toX,\n    targetY: toY,\n    targetPosition: toPosition\n  };\n  if (type === ConnectionLineType.Bezier) {\n    // we assume the destination position is opposite to the source position\n    var _getBezierPath3 = getBezierPath(pathParams);\n    var _getBezierPath4 = _slicedToArray(_getBezierPath3, 1);\n    dAttr = _getBezierPath4[0];\n  } else if (type === ConnectionLineType.Step) {\n    var _getSmoothStepPath3 = getSmoothStepPath(_objectSpread(_objectSpread({}, pathParams), {}, {\n      borderRadius: 0\n    }));\n    var _getSmoothStepPath4 = _slicedToArray(_getSmoothStepPath3, 1);\n    dAttr = _getSmoothStepPath4[0];\n  } else if (type === ConnectionLineType.SmoothStep) {\n    var _getSmoothStepPath5 = getSmoothStepPath(pathParams);\n    var _getSmoothStepPath6 = _slicedToArray(_getSmoothStepPath5, 1);\n    dAttr = _getSmoothStepPath6[0];\n  } else if (type === ConnectionLineType.SimpleBezier) {\n    var _getSimpleBezierPath3 = getSimpleBezierPath(pathParams);\n    var _getSimpleBezierPath4 = _slicedToArray(_getSimpleBezierPath3, 1);\n    dAttr = _getSimpleBezierPath4[0];\n  } else {\n    dAttr = \"M\".concat(fromX, \",\").concat(fromY, \" \").concat(toX, \",\").concat(toY);\n  }\n  return React.createElement(\"path\", {\n    d: dAttr,\n    fill: \"none\",\n    className: \"react-flow__connection-path\",\n    style: style\n  });\n};\nConnectionLine.displayName = 'ConnectionLine';\nvar selector$2 = function selector$2(s) {\n  return {\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height\n  };\n};\nfunction ConnectionLineWrapper(_ref75) {\n  var containerStyle = _ref75.containerStyle,\n    style = _ref75.style,\n    type = _ref75.type,\n    component = _ref75.component;\n  var _useStore13 = useStore(selector$2, shallow),\n    nodeId = _useStore13.nodeId,\n    handleType = _useStore13.handleType,\n    nodesConnectable = _useStore13.nodesConnectable,\n    width = _useStore13.width,\n    height = _useStore13.height,\n    connectionStatus = _useStore13.connectionStatus;\n  var isValid = !!(nodeId && handleType && width && nodesConnectable);\n  if (!isValid) {\n    return null;\n  }\n  return React.createElement(\"svg\", {\n    style: containerStyle,\n    width: width,\n    height: height,\n    className: \"react-flow__edges react-flow__connectionline react-flow__container\"\n  }, React.createElement(\"g\", {\n    className: cc(['react-flow__connection', connectionStatus])\n  }, React.createElement(ConnectionLine, {\n    nodeId: nodeId,\n    handleType: handleType,\n    style: style,\n    type: type,\n    CustomComponent: component,\n    connectionStatus: connectionStatus\n  })));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n  var typesKeysRef = useRef(null);\n  var store = useStoreApi();\n  var typesParsed = useMemo(function () {\n    if (process.env.NODE_ENV === 'development') {\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\n      if (shallow(typesKeysRef.current, typeKeys)) {\n        var _store$getState$onErr4, _store$getState40;\n        (_store$getState$onErr4 = (_store$getState40 = store.getState()).onError) === null || _store$getState$onErr4 === void 0 ? void 0 : _store$getState$onErr4.call(_store$getState40, '002', errorMessages['error002']());\n      }\n      typesKeysRef.current = typeKeys;\n    }\n    return createTypes(nodeOrEdgeTypes);\n  }, [nodeOrEdgeTypes]);\n  return typesParsed;\n}\nvar GraphView = function GraphView(_ref76) {\n  var nodeTypes = _ref76.nodeTypes,\n    edgeTypes = _ref76.edgeTypes,\n    onMove = _ref76.onMove,\n    onMoveStart = _ref76.onMoveStart,\n    onMoveEnd = _ref76.onMoveEnd,\n    onInit = _ref76.onInit,\n    onNodeClick = _ref76.onNodeClick,\n    onEdgeClick = _ref76.onEdgeClick,\n    onNodeDoubleClick = _ref76.onNodeDoubleClick,\n    onEdgeDoubleClick = _ref76.onEdgeDoubleClick,\n    onNodeMouseEnter = _ref76.onNodeMouseEnter,\n    onNodeMouseMove = _ref76.onNodeMouseMove,\n    onNodeMouseLeave = _ref76.onNodeMouseLeave,\n    onNodeContextMenu = _ref76.onNodeContextMenu,\n    onSelectionContextMenu = _ref76.onSelectionContextMenu,\n    onSelectionStart = _ref76.onSelectionStart,\n    onSelectionEnd = _ref76.onSelectionEnd,\n    connectionLineType = _ref76.connectionLineType,\n    connectionLineStyle = _ref76.connectionLineStyle,\n    connectionLineComponent = _ref76.connectionLineComponent,\n    connectionLineContainerStyle = _ref76.connectionLineContainerStyle,\n    selectionKeyCode = _ref76.selectionKeyCode,\n    selectionOnDrag = _ref76.selectionOnDrag,\n    selectionMode = _ref76.selectionMode,\n    multiSelectionKeyCode = _ref76.multiSelectionKeyCode,\n    panActivationKeyCode = _ref76.panActivationKeyCode,\n    zoomActivationKeyCode = _ref76.zoomActivationKeyCode,\n    deleteKeyCode = _ref76.deleteKeyCode,\n    onlyRenderVisibleElements = _ref76.onlyRenderVisibleElements,\n    elementsSelectable = _ref76.elementsSelectable,\n    selectNodesOnDrag = _ref76.selectNodesOnDrag,\n    defaultViewport = _ref76.defaultViewport,\n    translateExtent = _ref76.translateExtent,\n    minZoom = _ref76.minZoom,\n    maxZoom = _ref76.maxZoom,\n    preventScrolling = _ref76.preventScrolling,\n    defaultMarkerColor = _ref76.defaultMarkerColor,\n    zoomOnScroll = _ref76.zoomOnScroll,\n    zoomOnPinch = _ref76.zoomOnPinch,\n    panOnScroll = _ref76.panOnScroll,\n    panOnScrollSpeed = _ref76.panOnScrollSpeed,\n    panOnScrollMode = _ref76.panOnScrollMode,\n    zoomOnDoubleClick = _ref76.zoomOnDoubleClick,\n    panOnDrag = _ref76.panOnDrag,\n    onPaneClick = _ref76.onPaneClick,\n    onPaneMouseEnter = _ref76.onPaneMouseEnter,\n    onPaneMouseMove = _ref76.onPaneMouseMove,\n    onPaneMouseLeave = _ref76.onPaneMouseLeave,\n    onPaneScroll = _ref76.onPaneScroll,\n    onPaneContextMenu = _ref76.onPaneContextMenu,\n    onEdgeUpdate = _ref76.onEdgeUpdate,\n    onEdgeContextMenu = _ref76.onEdgeContextMenu,\n    onEdgeMouseEnter = _ref76.onEdgeMouseEnter,\n    onEdgeMouseMove = _ref76.onEdgeMouseMove,\n    onEdgeMouseLeave = _ref76.onEdgeMouseLeave,\n    edgeUpdaterRadius = _ref76.edgeUpdaterRadius,\n    onEdgeUpdateStart = _ref76.onEdgeUpdateStart,\n    onEdgeUpdateEnd = _ref76.onEdgeUpdateEnd,\n    noDragClassName = _ref76.noDragClassName,\n    noWheelClassName = _ref76.noWheelClassName,\n    noPanClassName = _ref76.noPanClassName,\n    elevateEdgesOnSelect = _ref76.elevateEdgesOnSelect,\n    disableKeyboardA11y = _ref76.disableKeyboardA11y,\n    nodeOrigin = _ref76.nodeOrigin,\n    nodeExtent = _ref76.nodeExtent,\n    rfId = _ref76.rfId;\n  var nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n  var edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n  useOnInitHandler(onInit);\n  return React.createElement(FlowRenderer$1, {\n    onPaneClick: onPaneClick,\n    onPaneMouseEnter: onPaneMouseEnter,\n    onPaneMouseMove: onPaneMouseMove,\n    onPaneMouseLeave: onPaneMouseLeave,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    deleteKeyCode: deleteKeyCode,\n    selectionKeyCode: selectionKeyCode,\n    selectionOnDrag: selectionOnDrag,\n    selectionMode: selectionMode,\n    onSelectionStart: onSelectionStart,\n    onSelectionEnd: onSelectionEnd,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    panActivationKeyCode: panActivationKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    elementsSelectable: elementsSelectable,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    defaultViewport: defaultViewport,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    onSelectionContextMenu: onSelectionContextMenu,\n    preventScrolling: preventScrolling,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    disableKeyboardA11y: disableKeyboardA11y\n  }, React.createElement(Viewport, null, React.createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypesWrapped,\n    onEdgeClick: onEdgeClick,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeUpdate: onEdgeUpdate,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: !!elevateEdgesOnSelect,\n    disableKeyboardA11y: disableKeyboardA11y,\n    rfId: rfId\n  }, React.createElement(ConnectionLineWrapper, {\n    style: connectionLineStyle,\n    type: connectionLineType,\n    component: connectionLineComponent,\n    containerStyle: connectionLineContainerStyle\n  })), React.createElement(\"div\", {\n    className: \"react-flow__edgelabel-renderer\"\n  }), React.createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypesWrapped,\n    onNodeClick: onNodeClick,\n    onNodeDoubleClick: onNodeDoubleClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    selectNodesOnDrag: selectNodesOnDrag,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    noPanClassName: noPanClassName,\n    noDragClassName: noDragClassName,\n    disableKeyboardA11y: disableKeyboardA11y,\n    nodeOrigin: nodeOrigin,\n    nodeExtent: nodeExtent,\n    rfId: rfId\n  })));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\nvar infiniteExtent = [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]];\nvar initialState = {\n  rfId: '1',\n  width: 0,\n  height: 0,\n  transform: [0, 0, 1],\n  nodeInternals: new Map(),\n  edges: [],\n  onNodesChange: null,\n  onEdgesChange: null,\n  hasDefaultNodes: false,\n  hasDefaultEdges: false,\n  d3Zoom: null,\n  d3Selection: null,\n  d3ZoomHandler: undefined,\n  minZoom: 0.5,\n  maxZoom: 2,\n  translateExtent: infiniteExtent,\n  nodeExtent: infiniteExtent,\n  nodesSelectionActive: false,\n  userSelectionActive: false,\n  userSelectionRect: null,\n  connectionNodeId: null,\n  connectionHandleId: null,\n  connectionHandleType: 'source',\n  connectionPosition: {\n    x: 0,\n    y: 0\n  },\n  connectionStatus: null,\n  connectionMode: ConnectionMode.Strict,\n  domNode: null,\n  paneDragging: false,\n  noPanClassName: 'nopan',\n  nodeOrigin: [0, 0],\n  nodeDragThreshold: 0,\n  snapGrid: [15, 15],\n  snapToGrid: false,\n  nodesDraggable: true,\n  nodesConnectable: true,\n  nodesFocusable: true,\n  edgesFocusable: true,\n  edgesUpdatable: true,\n  elementsSelectable: true,\n  elevateNodesOnSelect: true,\n  fitViewOnInit: false,\n  fitViewOnInitDone: false,\n  fitViewOnInitOptions: undefined,\n  multiSelectionActive: false,\n  connectionStartHandle: null,\n  connectionEndHandle: null,\n  connectionClickStartHandle: null,\n  connectOnClick: true,\n  ariaLiveMessage: '',\n  autoPanOnConnect: true,\n  autoPanOnNodeDrag: true,\n  connectionRadius: 20,\n  onError: devWarn,\n  isValidConnection: undefined\n};\nvar createRFStore = function createRFStore() {\n  return createWithEqualityFn(function (set, get) {\n    return _objectSpread(_objectSpread({}, initialState), {}, {\n      setNodes: function setNodes(nodes) {\n        var _get3 = get(),\n          nodeInternals = _get3.nodeInternals,\n          nodeOrigin = _get3.nodeOrigin,\n          elevateNodesOnSelect = _get3.elevateNodesOnSelect;\n        set({\n          nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect)\n        });\n      },\n      getNodes: function getNodes() {\n        return Array.from(get().nodeInternals.values());\n      },\n      setEdges: function setEdges(edges) {\n        var _get4 = get(),\n          _get4$defaultEdgeOpti = _get4.defaultEdgeOptions,\n          defaultEdgeOptions = _get4$defaultEdgeOpti === void 0 ? {} : _get4$defaultEdgeOpti;\n        set({\n          edges: edges.map(function (e) {\n            return _objectSpread(_objectSpread({}, defaultEdgeOptions), e);\n          })\n        });\n      },\n      setDefaultNodesAndEdges: function setDefaultNodesAndEdges(nodes, edges) {\n        var hasDefaultNodes = typeof nodes !== 'undefined';\n        var hasDefaultEdges = typeof edges !== 'undefined';\n        var nodeInternals = hasDefaultNodes ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect) : new Map();\n        var nextEdges = hasDefaultEdges ? edges : [];\n        set({\n          nodeInternals: nodeInternals,\n          edges: nextEdges,\n          hasDefaultNodes: hasDefaultNodes,\n          hasDefaultEdges: hasDefaultEdges\n        });\n      },\n      updateNodeDimensions: function updateNodeDimensions(updates) {\n        var _get5 = get(),\n          onNodesChange = _get5.onNodesChange,\n          nodeInternals = _get5.nodeInternals,\n          fitViewOnInit = _get5.fitViewOnInit,\n          fitViewOnInitDone = _get5.fitViewOnInitDone,\n          fitViewOnInitOptions = _get5.fitViewOnInitOptions,\n          domNode = _get5.domNode,\n          nodeOrigin = _get5.nodeOrigin;\n        var viewportNode = domNode === null || domNode === void 0 ? void 0 : domNode.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n          return;\n        }\n        var style = window.getComputedStyle(viewportNode);\n        var _window$DOMMatrixRead = new window.DOMMatrixReadOnly(style.transform),\n          zoom = _window$DOMMatrixRead.m22;\n        var changes = updates.reduce(function (res, update) {\n          var node = nodeInternals.get(update.id);\n          if (node) {\n            var dimensions = getDimensions(update.nodeElement);\n            var doUpdate = !!(dimensions.width && dimensions.height && (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n            if (doUpdate) {\n              nodeInternals.set(node.id, _objectSpread(_objectSpread({}, node), {}, _defineProperty({}, internalsSymbol, _objectSpread(_objectSpread({}, node[internalsSymbol]), {}, {\n                handleBounds: {\n                  source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                  target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin)\n                }\n              })), dimensions));\n              res.push({\n                id: node.id,\n                type: 'dimensions',\n                dimensions: dimensions\n              });\n            }\n          }\n          return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        var nextFitViewOnInitDone = fitViewOnInitDone || fitViewOnInit && !fitViewOnInitDone && _fitView(get, _objectSpread({\n          initial: true\n        }, fitViewOnInitOptions));\n        set({\n          nodeInternals: new Map(nodeInternals),\n          fitViewOnInitDone: nextFitViewOnInitDone\n        });\n        if ((changes === null || changes === void 0 ? void 0 : changes.length) > 0) {\n          onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n        }\n      },\n      updateNodePositions: function updateNodePositions(nodeDragItems) {\n        var positionChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var dragging = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var _get6 = get(),\n          triggerNodeChanges = _get6.triggerNodeChanges;\n        var changes = nodeDragItems.map(function (node) {\n          var change = {\n            id: node.id,\n            type: 'position',\n            dragging: dragging\n          };\n          if (positionChanged) {\n            change.positionAbsolute = node.positionAbsolute;\n            change.position = node.position;\n          }\n          return change;\n        });\n        triggerNodeChanges(changes);\n      },\n      triggerNodeChanges: function triggerNodeChanges(changes) {\n        var _get7 = get(),\n          onNodesChange = _get7.onNodesChange,\n          nodeInternals = _get7.nodeInternals,\n          hasDefaultNodes = _get7.hasDefaultNodes,\n          nodeOrigin = _get7.nodeOrigin,\n          getNodes = _get7.getNodes,\n          elevateNodesOnSelect = _get7.elevateNodesOnSelect;\n        if (changes !== null && changes !== void 0 && changes.length) {\n          if (hasDefaultNodes) {\n            var nodes = applyNodeChanges(changes, getNodes());\n            var nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n            set({\n              nodeInternals: nextNodeInternals\n            });\n          }\n          onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n        }\n      },\n      addSelectedNodes: function addSelectedNodes(selectedNodeIds) {\n        var _get8 = get(),\n          multiSelectionActive = _get8.multiSelectionActive,\n          edges = _get8.edges,\n          getNodes = _get8.getNodes;\n        var changedNodes;\n        var changedEdges = null;\n        if (multiSelectionActive) {\n          changedNodes = selectedNodeIds.map(function (nodeId) {\n            return createSelectionChange(nodeId, true);\n          });\n        } else {\n          changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n          changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      addSelectedEdges: function addSelectedEdges(selectedEdgeIds) {\n        var _get9 = get(),\n          multiSelectionActive = _get9.multiSelectionActive,\n          edges = _get9.edges,\n          getNodes = _get9.getNodes;\n        var changedEdges;\n        var changedNodes = null;\n        if (multiSelectionActive) {\n          changedEdges = selectedEdgeIds.map(function (edgeId) {\n            return createSelectionChange(edgeId, true);\n          });\n        } else {\n          changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n          changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      unselectNodesAndEdges: function unselectNodesAndEdges() {\n        var _ref77 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          nodes = _ref77.nodes,\n          edges = _ref77.edges;\n        var _get10 = get(),\n          storeEdges = _get10.edges,\n          getNodes = _get10.getNodes;\n        var nodesToUnselect = nodes ? nodes : getNodes();\n        var edgesToUnselect = edges ? edges : storeEdges;\n        var changedNodes = nodesToUnselect.map(function (n) {\n          n.selected = false;\n          return createSelectionChange(n.id, false);\n        });\n        var changedEdges = edgesToUnselect.map(function (edge) {\n          return createSelectionChange(edge.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      setMinZoom: function setMinZoom(minZoom) {\n        var _get11 = get(),\n          d3Zoom = _get11.d3Zoom,\n          maxZoom = _get11.maxZoom;\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          minZoom: minZoom\n        });\n      },\n      setMaxZoom: function setMaxZoom(maxZoom) {\n        var _get12 = get(),\n          d3Zoom = _get12.d3Zoom,\n          minZoom = _get12.minZoom;\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          maxZoom: maxZoom\n        });\n      },\n      setTranslateExtent: function setTranslateExtent(translateExtent) {\n        var _get$d3Zoom;\n        (_get$d3Zoom = get().d3Zoom) === null || _get$d3Zoom === void 0 ? void 0 : _get$d3Zoom.translateExtent(translateExtent);\n        set({\n          translateExtent: translateExtent\n        });\n      },\n      resetSelectedElements: function resetSelectedElements() {\n        var _get13 = get(),\n          edges = _get13.edges,\n          getNodes = _get13.getNodes;\n        var nodes = getNodes();\n        var nodesToUnselect = nodes.filter(function (e) {\n          return e.selected;\n        }).map(function (n) {\n          return createSelectionChange(n.id, false);\n        });\n        var edgesToUnselect = edges.filter(function (e) {\n          return e.selected;\n        }).map(function (e) {\n          return createSelectionChange(e.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: nodesToUnselect,\n          changedEdges: edgesToUnselect,\n          get: get,\n          set: set\n        });\n      },\n      setNodeExtent: function setNodeExtent(nodeExtent) {\n        var _get14 = get(),\n          nodeInternals = _get14.nodeInternals;\n        nodeInternals.forEach(function (node) {\n          node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n          nodeExtent: nodeExtent,\n          nodeInternals: new Map(nodeInternals)\n        });\n      },\n      panBy: function panBy(delta) {\n        var _get15 = get(),\n          transform = _get15.transform,\n          width = _get15.width,\n          height = _get15.height,\n          d3Zoom = _get15.d3Zoom,\n          d3Selection = _get15.d3Selection,\n          translateExtent = _get15.translateExtent;\n        if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n          return false;\n        }\n        var nextTransform = zoomIdentity.translate(transform[0] + delta.x, transform[1] + delta.y).scale(transform[2]);\n        var extent = [[0, 0], [width, height]];\n        var constrainedTransform = d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n        var transformChanged = transform[0] !== constrainedTransform.x || transform[1] !== constrainedTransform.y || transform[2] !== constrainedTransform.k;\n        return transformChanged;\n      },\n      cancelConnection: function cancelConnection() {\n        return set({\n          connectionNodeId: initialState.connectionNodeId,\n          connectionHandleId: initialState.connectionHandleId,\n          connectionHandleType: initialState.connectionHandleType,\n          connectionStatus: initialState.connectionStatus,\n          connectionStartHandle: initialState.connectionStartHandle,\n          connectionEndHandle: initialState.connectionEndHandle\n        });\n      },\n      reset: function reset() {\n        return set(_objectSpread({}, initialState));\n      }\n    });\n  }, Object.is);\n};\nvar ReactFlowProvider = function ReactFlowProvider(_ref78) {\n  var children = _ref78.children;\n  var storeRef = useRef(null);\n  if (!storeRef.current) {\n    storeRef.current = createRFStore();\n  }\n  return React.createElement(Provider$1, {\n    value: storeRef.current\n  }, children);\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\nvar Wrapper = function Wrapper(_ref79) {\n  var children = _ref79.children;\n  var isWrapped = useContext(StoreContext);\n  if (isWrapped) {\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return React.createElement(React.Fragment, null, children);\n  }\n  return React.createElement(ReactFlowProvider, null, children);\n};\nWrapper.displayName = 'ReactFlowWrapper';\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1,\n  group: GroupNode\n};\nvar defaultEdgeTypes = {\n  default: BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge,\n  simplebezier: SimpleBezierEdge\n};\nvar initNodeOrigin = [0, 0];\nvar initSnapGrid = [15, 15];\nvar initDefaultViewport = {\n  x: 0,\n  y: 0,\n  zoom: 1\n};\nvar wrapperStyle = {\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden',\n  position: 'relative',\n  zIndex: 0\n};\nvar ReactFlow = forwardRef(function (_ref80, ref) {\n  var nodes = _ref80.nodes,\n    edges = _ref80.edges,\n    defaultNodes = _ref80.defaultNodes,\n    defaultEdges = _ref80.defaultEdges,\n    className = _ref80.className,\n    _ref80$nodeTypes = _ref80.nodeTypes,\n    nodeTypes = _ref80$nodeTypes === void 0 ? defaultNodeTypes : _ref80$nodeTypes,\n    _ref80$edgeTypes = _ref80.edgeTypes,\n    edgeTypes = _ref80$edgeTypes === void 0 ? defaultEdgeTypes : _ref80$edgeTypes,\n    onNodeClick = _ref80.onNodeClick,\n    onEdgeClick = _ref80.onEdgeClick,\n    onInit = _ref80.onInit,\n    onMove = _ref80.onMove,\n    onMoveStart = _ref80.onMoveStart,\n    onMoveEnd = _ref80.onMoveEnd,\n    onConnect = _ref80.onConnect,\n    onConnectStart = _ref80.onConnectStart,\n    onConnectEnd = _ref80.onConnectEnd,\n    onClickConnectStart = _ref80.onClickConnectStart,\n    onClickConnectEnd = _ref80.onClickConnectEnd,\n    onNodeMouseEnter = _ref80.onNodeMouseEnter,\n    onNodeMouseMove = _ref80.onNodeMouseMove,\n    onNodeMouseLeave = _ref80.onNodeMouseLeave,\n    onNodeContextMenu = _ref80.onNodeContextMenu,\n    onNodeDoubleClick = _ref80.onNodeDoubleClick,\n    onNodeDragStart = _ref80.onNodeDragStart,\n    onNodeDrag = _ref80.onNodeDrag,\n    onNodeDragStop = _ref80.onNodeDragStop,\n    onNodesDelete = _ref80.onNodesDelete,\n    onEdgesDelete = _ref80.onEdgesDelete,\n    onSelectionChange = _ref80.onSelectionChange,\n    onSelectionDragStart = _ref80.onSelectionDragStart,\n    onSelectionDrag = _ref80.onSelectionDrag,\n    onSelectionDragStop = _ref80.onSelectionDragStop,\n    onSelectionContextMenu = _ref80.onSelectionContextMenu,\n    onSelectionStart = _ref80.onSelectionStart,\n    onSelectionEnd = _ref80.onSelectionEnd,\n    _ref80$connectionMode = _ref80.connectionMode,\n    connectionMode = _ref80$connectionMode === void 0 ? ConnectionMode.Strict : _ref80$connectionMode,\n    _ref80$connectionLine = _ref80.connectionLineType,\n    connectionLineType = _ref80$connectionLine === void 0 ? ConnectionLineType.Bezier : _ref80$connectionLine,\n    connectionLineStyle = _ref80.connectionLineStyle,\n    connectionLineComponent = _ref80.connectionLineComponent,\n    connectionLineContainerStyle = _ref80.connectionLineContainerStyle,\n    _ref80$deleteKeyCode = _ref80.deleteKeyCode,\n    deleteKeyCode = _ref80$deleteKeyCode === void 0 ? 'Backspace' : _ref80$deleteKeyCode,\n    _ref80$selectionKeyCo = _ref80.selectionKeyCode,\n    selectionKeyCode = _ref80$selectionKeyCo === void 0 ? 'Shift' : _ref80$selectionKeyCo,\n    _ref80$selectionOnDra = _ref80.selectionOnDrag,\n    selectionOnDrag = _ref80$selectionOnDra === void 0 ? false : _ref80$selectionOnDra,\n    _ref80$selectionMode = _ref80.selectionMode,\n    selectionMode = _ref80$selectionMode === void 0 ? SelectionMode.Full : _ref80$selectionMode,\n    _ref80$panActivationK = _ref80.panActivationKeyCode,\n    panActivationKeyCode = _ref80$panActivationK === void 0 ? 'Space' : _ref80$panActivationK,\n    _ref80$multiSelection = _ref80.multiSelectionKeyCode,\n    multiSelectionKeyCode = _ref80$multiSelection === void 0 ? isMacOs() ? 'Meta' : 'Control' : _ref80$multiSelection,\n    _ref80$zoomActivation = _ref80.zoomActivationKeyCode,\n    zoomActivationKeyCode = _ref80$zoomActivation === void 0 ? isMacOs() ? 'Meta' : 'Control' : _ref80$zoomActivation,\n    _ref80$snapToGrid = _ref80.snapToGrid,\n    snapToGrid = _ref80$snapToGrid === void 0 ? false : _ref80$snapToGrid,\n    _ref80$snapGrid = _ref80.snapGrid,\n    snapGrid = _ref80$snapGrid === void 0 ? initSnapGrid : _ref80$snapGrid,\n    _ref80$onlyRenderVisi = _ref80.onlyRenderVisibleElements,\n    onlyRenderVisibleElements = _ref80$onlyRenderVisi === void 0 ? false : _ref80$onlyRenderVisi,\n    _ref80$selectNodesOnD = _ref80.selectNodesOnDrag,\n    selectNodesOnDrag = _ref80$selectNodesOnD === void 0 ? true : _ref80$selectNodesOnD,\n    nodesDraggable = _ref80.nodesDraggable,\n    nodesConnectable = _ref80.nodesConnectable,\n    nodesFocusable = _ref80.nodesFocusable,\n    _ref80$nodeOrigin = _ref80.nodeOrigin,\n    nodeOrigin = _ref80$nodeOrigin === void 0 ? initNodeOrigin : _ref80$nodeOrigin,\n    edgesFocusable = _ref80.edgesFocusable,\n    edgesUpdatable = _ref80.edgesUpdatable,\n    elementsSelectable = _ref80.elementsSelectable,\n    _ref80$defaultViewpor = _ref80.defaultViewport,\n    defaultViewport = _ref80$defaultViewpor === void 0 ? initDefaultViewport : _ref80$defaultViewpor,\n    _ref80$minZoom = _ref80.minZoom,\n    minZoom = _ref80$minZoom === void 0 ? 0.5 : _ref80$minZoom,\n    _ref80$maxZoom = _ref80.maxZoom,\n    maxZoom = _ref80$maxZoom === void 0 ? 2 : _ref80$maxZoom,\n    _ref80$translateExten = _ref80.translateExtent,\n    translateExtent = _ref80$translateExten === void 0 ? infiniteExtent : _ref80$translateExten,\n    _ref80$preventScrolli = _ref80.preventScrolling,\n    preventScrolling = _ref80$preventScrolli === void 0 ? true : _ref80$preventScrolli,\n    nodeExtent = _ref80.nodeExtent,\n    _ref80$defaultMarkerC = _ref80.defaultMarkerColor,\n    defaultMarkerColor = _ref80$defaultMarkerC === void 0 ? '#b1b1b7' : _ref80$defaultMarkerC,\n    _ref80$zoomOnScroll = _ref80.zoomOnScroll,\n    zoomOnScroll = _ref80$zoomOnScroll === void 0 ? true : _ref80$zoomOnScroll,\n    _ref80$zoomOnPinch = _ref80.zoomOnPinch,\n    zoomOnPinch = _ref80$zoomOnPinch === void 0 ? true : _ref80$zoomOnPinch,\n    _ref80$panOnScroll = _ref80.panOnScroll,\n    panOnScroll = _ref80$panOnScroll === void 0 ? false : _ref80$panOnScroll,\n    _ref80$panOnScrollSpe = _ref80.panOnScrollSpeed,\n    panOnScrollSpeed = _ref80$panOnScrollSpe === void 0 ? 0.5 : _ref80$panOnScrollSpe,\n    _ref80$panOnScrollMod = _ref80.panOnScrollMode,\n    panOnScrollMode = _ref80$panOnScrollMod === void 0 ? PanOnScrollMode.Free : _ref80$panOnScrollMod,\n    _ref80$zoomOnDoubleCl = _ref80.zoomOnDoubleClick,\n    zoomOnDoubleClick = _ref80$zoomOnDoubleCl === void 0 ? true : _ref80$zoomOnDoubleCl,\n    _ref80$panOnDrag = _ref80.panOnDrag,\n    panOnDrag = _ref80$panOnDrag === void 0 ? true : _ref80$panOnDrag,\n    onPaneClick = _ref80.onPaneClick,\n    onPaneMouseEnter = _ref80.onPaneMouseEnter,\n    onPaneMouseMove = _ref80.onPaneMouseMove,\n    onPaneMouseLeave = _ref80.onPaneMouseLeave,\n    onPaneScroll = _ref80.onPaneScroll,\n    onPaneContextMenu = _ref80.onPaneContextMenu,\n    children = _ref80.children,\n    onEdgeUpdate = _ref80.onEdgeUpdate,\n    onEdgeContextMenu = _ref80.onEdgeContextMenu,\n    onEdgeDoubleClick = _ref80.onEdgeDoubleClick,\n    onEdgeMouseEnter = _ref80.onEdgeMouseEnter,\n    onEdgeMouseMove = _ref80.onEdgeMouseMove,\n    onEdgeMouseLeave = _ref80.onEdgeMouseLeave,\n    onEdgeUpdateStart = _ref80.onEdgeUpdateStart,\n    onEdgeUpdateEnd = _ref80.onEdgeUpdateEnd,\n    _ref80$edgeUpdaterRad = _ref80.edgeUpdaterRadius,\n    edgeUpdaterRadius = _ref80$edgeUpdaterRad === void 0 ? 10 : _ref80$edgeUpdaterRad,\n    onNodesChange = _ref80.onNodesChange,\n    onEdgesChange = _ref80.onEdgesChange,\n    _ref80$noDragClassNam = _ref80.noDragClassName,\n    noDragClassName = _ref80$noDragClassNam === void 0 ? 'nodrag' : _ref80$noDragClassNam,\n    _ref80$noWheelClassNa = _ref80.noWheelClassName,\n    noWheelClassName = _ref80$noWheelClassNa === void 0 ? 'nowheel' : _ref80$noWheelClassNa,\n    _ref80$noPanClassName = _ref80.noPanClassName,\n    noPanClassName = _ref80$noPanClassName === void 0 ? 'nopan' : _ref80$noPanClassName,\n    _ref80$fitView = _ref80.fitView,\n    fitView = _ref80$fitView === void 0 ? false : _ref80$fitView,\n    fitViewOptions = _ref80.fitViewOptions,\n    _ref80$connectOnClick = _ref80.connectOnClick,\n    connectOnClick = _ref80$connectOnClick === void 0 ? true : _ref80$connectOnClick,\n    attributionPosition = _ref80.attributionPosition,\n    proOptions = _ref80.proOptions,\n    defaultEdgeOptions = _ref80.defaultEdgeOptions,\n    _ref80$elevateNodesOn = _ref80.elevateNodesOnSelect,\n    elevateNodesOnSelect = _ref80$elevateNodesOn === void 0 ? true : _ref80$elevateNodesOn,\n    _ref80$elevateEdgesOn = _ref80.elevateEdgesOnSelect,\n    elevateEdgesOnSelect = _ref80$elevateEdgesOn === void 0 ? false : _ref80$elevateEdgesOn,\n    _ref80$disableKeyboar = _ref80.disableKeyboardA11y,\n    disableKeyboardA11y = _ref80$disableKeyboar === void 0 ? false : _ref80$disableKeyboar,\n    _ref80$autoPanOnConne = _ref80.autoPanOnConnect,\n    autoPanOnConnect = _ref80$autoPanOnConne === void 0 ? true : _ref80$autoPanOnConne,\n    _ref80$autoPanOnNodeD = _ref80.autoPanOnNodeDrag,\n    autoPanOnNodeDrag = _ref80$autoPanOnNodeD === void 0 ? true : _ref80$autoPanOnNodeD,\n    _ref80$connectionRadi = _ref80.connectionRadius,\n    connectionRadius = _ref80$connectionRadi === void 0 ? 20 : _ref80$connectionRadi,\n    isValidConnection = _ref80.isValidConnection,\n    onError = _ref80.onError,\n    style = _ref80.style,\n    id = _ref80.id,\n    nodeDragThreshold = _ref80.nodeDragThreshold,\n    rest = _objectWithoutProperties(_ref80, _excluded5);\n  var rfId = id || '1';\n  return React.createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\n    style: _objectSpread(_objectSpread({}, style), wrapperStyle),\n    ref: ref,\n    className: cc(['react-flow', className]),\n    \"data-testid\": \"rf__wrapper\",\n    id: id\n  }), React.createElement(Wrapper, null, React.createElement(GraphView$1, {\n    onInit: onInit,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onNodeClick: onNodeClick,\n    onEdgeClick: onEdgeClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDoubleClick: onNodeDoubleClick,\n    nodeTypes: nodeTypes,\n    edgeTypes: edgeTypes,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    selectionKeyCode: selectionKeyCode,\n    selectionOnDrag: selectionOnDrag,\n    selectionMode: selectionMode,\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    panActivationKeyCode: panActivationKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    selectNodesOnDrag: selectNodesOnDrag,\n    defaultViewport: defaultViewport,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    preventScrolling: preventScrolling,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    onPaneClick: onPaneClick,\n    onPaneMouseEnter: onPaneMouseEnter,\n    onPaneMouseMove: onPaneMouseMove,\n    onPaneMouseLeave: onPaneMouseLeave,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionContextMenu: onSelectionContextMenu,\n    onSelectionStart: onSelectionStart,\n    onSelectionEnd: onSelectionEnd,\n    onEdgeUpdate: onEdgeUpdate,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: elevateEdgesOnSelect,\n    rfId: rfId,\n    disableKeyboardA11y: disableKeyboardA11y,\n    nodeOrigin: nodeOrigin,\n    nodeExtent: nodeExtent\n  }), React.createElement(StoreUpdater, {\n    nodes: nodes,\n    edges: edges,\n    defaultNodes: defaultNodes,\n    defaultEdges: defaultEdges,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectEnd: onConnectEnd,\n    onClickConnectStart: onClickConnectStart,\n    onClickConnectEnd: onClickConnectEnd,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    nodesFocusable: nodesFocusable,\n    edgesFocusable: edgesFocusable,\n    edgesUpdatable: edgesUpdatable,\n    elementsSelectable: elementsSelectable,\n    elevateNodesOnSelect: elevateNodesOnSelect,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    nodeExtent: nodeExtent,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    connectionMode: connectionMode,\n    translateExtent: translateExtent,\n    connectOnClick: connectOnClick,\n    defaultEdgeOptions: defaultEdgeOptions,\n    fitView: fitView,\n    fitViewOptions: fitViewOptions,\n    onNodesDelete: onNodesDelete,\n    onEdgesDelete: onEdgesDelete,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDrag: onNodeDrag,\n    onNodeDragStop: onNodeDragStop,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDragStop: onSelectionDragStop,\n    noPanClassName: noPanClassName,\n    nodeOrigin: nodeOrigin,\n    rfId: rfId,\n    autoPanOnConnect: autoPanOnConnect,\n    autoPanOnNodeDrag: autoPanOnNodeDrag,\n    onError: onError,\n    connectionRadius: connectionRadius,\n    isValidConnection: isValidConnection,\n    nodeDragThreshold: nodeDragThreshold\n  }), React.createElement(Wrapper$1, {\n    onSelectionChange: onSelectionChange\n  }), children, React.createElement(Attribution, {\n    proOptions: proOptions,\n    position: attributionPosition\n  }), React.createElement(A11yDescriptions, {\n    rfId: rfId,\n    disableKeyboardA11y: disableKeyboardA11y\n  })));\n});\nReactFlow.displayName = 'ReactFlow';\nvar selector$1 = function selector$1(s) {\n  var _s$domNode;\n  return (_s$domNode = s.domNode) === null || _s$domNode === void 0 ? void 0 : _s$domNode.querySelector('.react-flow__edgelabel-renderer');\n};\nfunction EdgeLabelRenderer(_ref81) {\n  var children = _ref81.children;\n  var edgeLabelRenderer = useStore(selector$1);\n  if (!edgeLabelRenderer) {\n    return null;\n  }\n  return createPortal(children, edgeLabelRenderer);\n}\nfunction useUpdateNodeInternals() {\n  var store = useStoreApi();\n  return useCallback(function (id) {\n    var _store$getState41 = store.getState(),\n      domNode = _store$getState41.domNode,\n      updateNodeDimensions = _store$getState41.updateNodeDimensions;\n    var updateIds = Array.isArray(id) ? id : [id];\n    var updates = updateIds.reduce(function (res, updateId) {\n      var nodeElement = domNode === null || domNode === void 0 ? void 0 : domNode.querySelector(\".react-flow__node[data-id=\\\"\".concat(updateId, \"\\\"]\"));\n      if (nodeElement) {\n        res.push({\n          id: updateId,\n          nodeElement: nodeElement,\n          forceUpdate: true\n        });\n      }\n      return res;\n    }, []);\n    requestAnimationFrame(function () {\n      return updateNodeDimensions(updates);\n    });\n  }, []);\n}\nvar nodesSelector = function nodesSelector(state) {\n  return state.getNodes();\n};\nfunction useNodes() {\n  var nodes = useStore(nodesSelector, shallow);\n  return nodes;\n}\nvar edgesSelector = function edgesSelector(state) {\n  return state.edges;\n};\nfunction useEdges() {\n  var edges = useStore(edgesSelector, shallow);\n  return edges;\n}\nvar viewportSelector = function viewportSelector(state) {\n  return {\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2]\n  };\n};\nfunction useViewport() {\n  var viewport = useStore(viewportSelector, shallow);\n  return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n  return function (initialItems) {\n    var _useState11 = useState(initialItems),\n      _useState12 = _slicedToArray(_useState11, 2),\n      items = _useState12[0],\n      setItems = _useState12[1];\n    var onItemsChange = useCallback(function (changes) {\n      return setItems(function (items) {\n        return applyChanges(changes, items);\n      });\n    }, []);\n    return [items, setItems, onItemsChange];\n  };\n}\nvar useNodesState = createUseItemsState(applyNodeChanges);\nvar useEdgesState = createUseItemsState(applyEdgeChanges);\nfunction useOnViewportChange(_ref82) {\n  var onStart = _ref82.onStart,\n    onChange = _ref82.onChange,\n    onEnd = _ref82.onEnd;\n  var store = useStoreApi();\n  useEffect(function () {\n    store.setState({\n      onViewportChangeStart: onStart\n    });\n  }, [onStart]);\n  useEffect(function () {\n    store.setState({\n      onViewportChange: onChange\n    });\n  }, [onChange]);\n  useEffect(function () {\n    store.setState({\n      onViewportChangeEnd: onEnd\n    });\n  }, [onEnd]);\n}\nfunction useOnSelectionChange(_ref83) {\n  var onChange = _ref83.onChange;\n  var store = useStoreApi();\n  useEffect(function () {\n    store.setState({\n      onSelectionChange: onChange\n    });\n  }, [onChange]);\n}\nvar selector = function selector(options) {\n  return function (s) {\n    if (s.nodeInternals.size === 0) {\n      return false;\n    }\n    return s.getNodes().filter(function (n) {\n      return options.includeHiddenNodes ? true : !n.hidden;\n    }).every(function (n) {\n      var _n$internalsSymbol;\n      return ((_n$internalsSymbol = n[internalsSymbol]) === null || _n$internalsSymbol === void 0 ? void 0 : _n$internalsSymbol.handleBounds) !== undefined;\n    });\n  };\n};\nvar defaultOptions = {\n  includeHiddenNodes: false\n};\nfunction useNodesInitialized() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOptions;\n  var initialized = useStore(selector(options));\n  return initialized;\n}\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, handleParentExpand, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };"],"names":["_handleDirections","_MarkerSymbols","_oppositePosition","_excluded","_excluded2","_excluded4","_excluded5","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","StoreContext","createContext","Provider$1","Provider","errorMessages","error001","error002","error003","nodeType","concat","error004","error005","error006","error007","id","error009","type","error008","sourceHandle","edge","targetHandle","error010","error011","edgeType","error012","zustandErrorMessage","useStore","selector","equalityFn","store","useContext","Error","useStoreApi","useMemo","getState","setState","subscribe","destroy","selector$g","userSelectionActive","Panel","_ref","position","children","className","style","rest","pointerEvents","positionClasses","split","Attribution","_ref2","proOptions","_ref2$position","hideAttribution","href","rel","EdgeText$1","memo","_ref3","x","y","label","_ref3$labelStyle","labelStyle","_ref3$labelShowBg","labelShowBg","_ref3$labelBgStyle","labelBgStyle","_ref3$labelBgPadding","labelBgPadding","_ref3$labelBgBorderRa","labelBgBorderRadius","edgeRef","useRef","_useState","useState","width","height","_useState2","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","useEffect","current","textBbox","getBBox","transform","visibility","rx","ry","dy","ref","getDimensions","node","offsetWidth","offsetHeight","clamp","val","min","undefined","max","Math","clampPosition","extent","calcAutoPanVelocity","abs","calcAutoPan","pos","bounds","getHostForElement","element","_element$getRootNode","_window","getRootNode","window","document","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","_ref4","boxToRect","_ref5","nodeToRect","positionAbsolute","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","isRectObject","obj","isNumeric","isNaN","isFinite","internalsSymbol","for","elementSelectionKeys","devWarn","message","isInputDOMNode","event","_kbEvent$composedPath","kbEvent","isReactKeyboardEvent","nativeEvent","composedPath","includes","nodeName","hasAttribute","closest","isMouseEvent","getEventPosition","_event$touches","_event$touches2","_bounds$left","_bounds$top","isMouseTriggered","evtX","clientX","touches","evtY","clientY","left","top","isMacOs","_navigator","navigator","userAgent","indexOf","BaseEdge","_ref6","path","labelX","labelY","markerEnd","markerStart","_ref6$interactionWidt","interactionWidth","d","fill","strokeOpacity","strokeWidth","displayName","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getMouseHandler$1","handler","edges","find","getEdgeCenter","_ref7","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","getBezierEdgeCenter","_ref8","sourceControlX","sourceControlY","targetControlX","centerY","targetControlY","getControl","_ref9","x1","y1","Left","Right","getSimpleBezierPath","_ref10","_ref10$sourcePosition","sourcePosition","Bottom","_ref10$targetPosition","targetPosition","Top","_getControl","_getControl2","_getControl3","_getControl4","_getBezierEdgeCenter","_getBezierEdgeCenter2","offsetX","offsetY","SimpleBezierEdge","_ref11","_ref11$sourcePosition","_ref11$targetPosition","_getSimpleBezierPath","_getSimpleBezierPath2","handleDirections","getDirection","_ref12","_ref12$sourcePosition","distance","a","b","sqrt","pow","getSmoothStepPath","_ref14","_ref14$sourcePosition","_ref14$targetPosition","_ref14$borderRadius","borderRadius","_ref14$offset","offset","_getPoints","_ref13","_ref13$sourcePosition","_ref13$targetPosition","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","_getEdgeCenter","_getEdgeCenter2","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getPoints","_getPoints2","reduce","res","p","c","size","bendSize","_xDir","_yDir","xDir","yDir","getBend","SmoothStepEdge","_ref15","_ref15$sourcePosition","_ref15$targetPosition","pathOptions","_getSmoothStepPath","_getSmoothStepPath2","StepEdge","props","_props$pathOptions2","_props$pathOptions","StraightEdge","_ref17","_getStraightPath","_ref16","_getEdgeCenter3","_getEdgeCenter4","getStraightPath","_getStraightPath2","calculateControlOffset","curvature","getControlWithCurvature","_ref18","getBezierPath","_ref19","_ref19$sourcePosition","_ref19$targetPosition","_ref19$curvature","_getControlWithCurvat","_getControlWithCurvat2","_getControlWithCurvat3","_getControlWithCurvat4","_getBezierEdgeCenter3","_getBezierEdgeCenter4","BezierEdge","_ref20","_ref20$sourcePosition","_ref20$targetPosition","_getBezierPath","_getBezierPath2","NodeIdContext","Consumer","useNodeId","getEdgeId","_ref21","getMarkerId","marker","rfId","idPrefix","sort","map","join","addEdge","edgeParams","some","el","connectionExists","pointToRendererPoint","_ref22","_ref23","snapToGrid","_ref24","_ref25","tx","ty","tScale","_ref26","snapX","snapY","round","rendererPointToPoint","_ref27","_ref28","_ref29","getNodePositionWithOrigin","_node$width","_node$height","nodeOrigin","getRectOfNodes","nodes","box","currBox","_getNodePositionWithO","Infinity","getNodesInside","nodeInternals","rect","_ref30","_ref31","partially","excludeNonSelectableNodes","paneRect","visibleNodes","_node$selectable","selectable","_node$hidden","hidden","nodeRect","overlappingArea","dragging","getConnectedEdges","nodeIds","getTransformForBounds","minZoom","maxZoom","padding","xZoom","yZoom","zoom","clampedZoom","getD3Transition","selection","duration","transition","getHandles","handleBounds","currentHandle","h","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","nodeId","nullConnection","defaultResult","handleDomNode","isValid","connection","endHandle","isValidHandle","handle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleToCheck","querySelector","result","handleType","getHandleType","handleNodeId","getAttribute","handleId","connectable","classList","contains","connectableEnd","Strict","edgeUpdaterType","resetRecentHandle","remove","handlePointerDown","_ref36","closestHandle","onConnect","onEdgeUpdateEnd","_getState","domNode","autoPanOnConnect","connectionRadius","onConnectStart","panBy","getNodes","cancelConnection","autoPanId","_getEventPosition2","clickedHandle","elementFromPoint","containerBounds","getBoundingClientRect","prevActiveHandle","connectionPosition","autoPanStarted","handleLookup","_ref35","sourceHandles","targetHandles","getHandleLookup","autoPan","_calcAutoPan","_calcAutoPan2","xMovement","yMovement","requestAnimationFrame","connectionStatus","connectionNodeId","connectionHandleId","connectionHandleType","connectionStartHandle","connectionEndHandle","addEventListener","onPointerMove","onPointerUp","isInsideConnectionRadius","isHandleValid","_getClosestHandle","handles","validator","_getEventPosition","handleBelow","elementsFromPoint","validHandleResult","closestHandles","minDistance","_validHandleResult","hasValidHandle","_ref32","hasTargetHandle","_ref33","_ref34","getClosestHandle","add","toggle","_getState$onConnectEn","_getState3","onConnectEnd","cancelAnimationFrame","removeEventListener","alwaysValid","selector$f","connectOnClick","noPanClassName","Handle","forwardRef","_ref37","_store$getState$onErr","_store$getState","_ref37$type","_ref37$position","_ref37$isConnectable","isConnectable","_ref37$isConnectableS","isConnectableStart","_ref37$isConnectableE","isConnectableEnd","onMouseDown","onTouchStart","_useStore","_useStore2","state","startHandle","clickHandle","connectionClickStartHandle","connecting","clickConnecting","connectingSelector","onError","onConnectExtended","params","_store$getState2","defaultEdgeOptions","onConnectAction","hasDefaultEdges","_store$getState3","setEdges","onPointerDown","button","connectablestart","connectableend","connectionindicator","onClick","_store$getState4","onClickConnectStart","onClickConnectEnd","isValidConnectionStore","isValidConnectionHandler","_isValidHandle","Handle$1","DefaultNode","_ref38","data","_ref38$targetPosition","_ref38$sourcePosition","DefaultNode$1","InputNode","_ref39","_ref39$sourcePosition","InputNode$1","OutputNode","_ref40","_ref40$targetPosition","OutputNode$1","GroupNode","selector$e","selectedNodes","selected","selectedEdges","selectId","areEqual","SelectionListener","_ref41","onSelectionChange","_useStore3","_store$getState$onSel","_store$getState5","changeSelector","Wrapper$1","_ref42","storeHasSelectionChange","selector$d","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","_ref43","defaultNodes","defaultEdges","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","translateExtent","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","nodeDragThreshold","_useStore4","edgesWithDefaults","display","ariaLiveStyle","margin","border","overflow","clip","clipPath","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","ariaLiveMessage","AriaLiveMessage","_ref44","A11yDescriptions","_ref45","disableKeyboardA11y","useKeyPress","keyCode","options","actInsideInputWithModifier","_useState3","_useState4","keyPressed","setKeyPressed","modifierPressed","pressedKeys","Set","_useMemo","kc","keysFlat","item","_useMemo2","keyCodes","keysToWatch","downHandler","ctrlKey","metaKey","shiftKey","keyOrCode","useKeyOrCode","code","isMatchingKey","preventDefault","upHandler","clear","delete","resetHandler","isUp","every","k","has","eventCode","calculateXYZPosition","_result$x","_result$y","_parentNode$internals","_parentNode$internals2","_result$z","_parentNode$internals3","_parentNode$internals4","_result$z2","parentNode","get","parentNodePosition","z","updateAbsoluteNodePositions","parentNodes","_node$internalsSymbol","_node$internalsSymbol2","_calculateXYZPosition","isParent","createNodeInternals","nextNodeInternals","Map","selectedNodeZ","_currInternals$intern","zIndex","currInternals","internals","set","_fitView","_get","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","initial","_options$nodes","isVisible","includeHiddenNodes","optionNode","nodesInitialized","_options$minZoom","_options$maxZoom","_options$padding","_getTransformForBound","_getTransformForBound2","_zoom","nextTransform","translate","scale","handleControlledNodeSelectionChange","nodeChanges","change","_objectSpread2","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","_ref46","changedNodes","changedEdges","_get2","hasDefaultNodes","noop","initialViewportHelper","zoomIn","zoomOut","zoomTo","getZoom","setViewport","getViewport","setCenter","fitBounds","project","viewportInitialized","selector$b","useViewportHelper","_useStore5","scaleBy","zoomLevel","scaleTo","_transform$x","_transform$y","_transform$zoom","_store$getState$trans","_store$getState$trans2","_store$getState6","nextZoom","_options$padding2","_store$getState7","_getTransformForBound3","_getTransformForBound4","_store$getState8","useReactFlow","viewportHelper","useCallback","getNode","getEdges","_store$getState9$edge","getEdge","_store$getState10$edg","payload","_store$getState11","nextNodes","_store$getState12","_store$getState12$edg","nextEdges","addNodes","_store$getState13","currentNodes","addEdges","_store$getState14","_store$getState14$edg","toObject","_store$getState15","_store$getState15$edg","_transform","viewport","deleteElements","_ref47","nodesDeleted","edgesDeleted","_store$getState16","edgeIds","nodesToRemove","parentHit","deletable","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","_getNodeRect","_getNodeRect2","currNodeRect","isNodeIntersecting","area","_getNodeRect3","deleteKeyOptions","containerStyle","eventToFlowTransform","eventTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","wheelDelta","factor","deltaY","deltaMode","selector$a","d3ZoomHandler","ZoomPane","_ref49","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","_ref49$zoomOnScroll","zoomOnScroll","_ref49$zoomOnPinch","zoomOnPinch","_ref49$panOnScroll","panOnScroll","_ref49$panOnScrollSpe","panOnScrollSpeed","_ref49$panOnScrollMod","panOnScrollMode","Free","_ref49$zoomOnDoubleCl","zoomOnDoubleClick","_ref49$panOnDrag","defaultViewport","zoomActivationKeyCode","_ref49$preventScrolli","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","_useStore6","zoomActivationKeyPressed","mouseButton","isPanScrolling","panScrollTimeout","rendererNode","resizeObserver","updateDimensions","_store$getState$onErr2","_store$getState18","ResizeObserver","observe","unobserve","useResizeHandler","bbox","d3ZoomInstance","scaleExtent","updatedTransform","constrainedTransform","constrain","on","this","passive","stopImmediatePropagation","currentZoom","property","_isMacOs","point","pinchDelta","_zoom2","deltaNormalize","deltaX","Vertical","Horizontal","translateBy","internal","nextViewport","_store$getState19","onViewportChangeStart","onViewportChange","onViewportChangeEnd","clearTimeout","setTimeout","_event$sourceEvent","_event$sourceEvent2","sourceEvent","flowTransform","paneDragging","_mouseButton$current","_event$sourceEvent3","_mouseButton$current2","prevViewport","zoomScroll","pinchZoom","buttonAllowed","selector$9","userSelectionRect","UserSelection","_useStore7","handleParentExpand","updateItem","parent","extendWidth","extendHeight","_parent$style$width","_parent$style$height","xDiff","yDiff","applyChanges","changes","elements","initElements","currentChanges","_step","_iterator","currentChange","expandParent","dimensions","updateStyle","resizing","applyNodeChanges","createSelectionChange","getSelectionChanges","items","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","_ref50","isSelecting","_ref50$selectionMode","selectionMode","Full","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","container","prevSelectedNodesCount","prevSelectedEdgesCount","_useStore8","resetUserSelection","resetSelectedElements","nodesSelectionActive","onWheel","hasActiveSelection","onContextMenu","onMouseEnter","_store$getState23","_getEventPosition3","startX","startY","onMouseMove","_userSelectionRect$st","_userSelectionRect$st2","_store$getState24","mousePos","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","_changes","onMouseUp","onMouseLeave","isParentSelected","hasSelector","nodeRef","_current","matches","parentElement","getDragItems","values","draggable","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","calcNextPosition","nextPosition","clampedNodeExtent","clampNodeExtent","currentExtent","_parent","_getNodePositionWithO4","_parentX","_parentY","_getNodePositionWithO3","parentX","parentY","parentPosition","getEventHandlerParams","_ref51","dragItems","extentedDragItems","getHandleBounds","nodeElement","querySelectorAll","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","_ref52","_ref52$unselect","unselect","_store$getState26","addSelectedNodes","unselectNodesAndEdges","multiSelectionActive","_nodeRef$current","blur","wrapSelectionDragFunc","selectionFunc","_","useDrag","_ref54","_ref54$disabled","disabled","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","_useState5","_useState6","setDragging","lastPos","mousePosition","dragEvent","dragStarted","getPointerPosition","_ref53","_store$getState27","pointerPos","xSnapped","ySnapped","useGetPointerPosition","updateNodes","_ref55","_store$getState28","updateNodePositions","hasChange","nodesBox","_n$width","_n$height","adjustedNodeExtent","updatedPos","onDrag","_getEventHandlerParam","_getEventHandlerParam2","currentNode","_calcAutoPan3","_calcAutoPan4","_lastPos$current$x","_lastPos$current$y","_store$getState29","startDrag","_store$getState30","_nodeInternals$get","onStart","_getEventHandlerParam3","_getEventHandlerParam4","dragHandler","_store$getState31","_store$getState32","_lastPos$current$x2","_lastPos$current","_lastPos$current$y2","_lastPos$current2","_store$getState33","onStop","_getEventHandlerParam5","_getEventHandlerParam6","useUpdateNodePositions","_store$getState34","xVelo","yVelo","isShiftPressed","positionDiffX","positionDiffY","_calcNextPosition","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","wrapNode","NodeComponent","NodeWrapper","_ref56","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","isFocusable","dragHandle","initialized","ariaLabel","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","updateNodeDimensions","forceUpdate","onKeyDown","hasOwnProperty","replace","toLowerCase","tabIndex","role","selector$7","transformString","NodesSelection$1","_ref58","onSelectionContextMenu","_useStore9","_nodeRef$current2","focus","preventScroll","selector$6","FlowRenderer","_ref59","deleteKeyCode","selectionKeyCode","selectionOnDrag","multiSelectionKeyCode","panActivationKeyCode","_panOnDrag","selectionKeyPressed","_ref48","deleteKeyPressed","multiSelectionKeyPressed","_store$getState17","useGlobalKeyHandler","FlowRenderer$1","createNodeTypes","nodeTypes","standardTypes","input","default","output","group","specialTypes","selector$5","NodeRenderer","onlyRenderVisible","_useStore10","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","_resizeObserverRef$cu","disconnect","_clampedPosition$x","_clampedPosition$y","_node$width2","_node$height2","_node$internalsSymbol3","_node$internalsSymbol4","_node$internalsSymbol5","_ref60","origin","focusable","clampedPosition","posX","posY","posOrigin","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","NodeRenderer$1","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","_ref61","_ref61$radius","radius","onMouseOut","cx","cy","r","stroke","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","_ref62","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","isUpdatable","_useState7","_useState8","updateHover","setUpdateHover","_useState9","_useState10","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_store$getState37","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","_store$getState36","addSelectedEdges","_edgeRef$current","_edgeRef$current2","_store$getState38","createEdgeTypes","edgeTypes","straight","bezier","smoothstep","simplebezier","getHandlePosition","getHandle","getNodeData","_node$internalsSymbol6","_node$positionAbsolut5","_node$positionAbsolut6","_node$positionAbsolut7","_node$positionAbsolut8","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","maxLevel","levelLookup","tree","hasZIndex","_sourceNode$internals","_targetNode$internals","targetNode","sourceNode","edgeOrConnectedNodeSelected","selectedZIndex","edgeTree","_ref64","_ref65","groupEdgesByZLevel","_ref63","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","viewBox","isEdgeVisible","MarkerSymbols","Arrow","_ref66","_ref66$color","color","_ref66$strokeWidth","strokeLinecap","strokeLinejoin","ArrowClosed","_ref67","_ref67$color","_ref67$strokeWidth","Marker","_ref68","_ref68$width","_ref68$height","_ref68$markerUnits","markerUnits","_ref68$orient","orient","_store$getState$onErr3","_store$getState39","useMarkerSymbol","markerWidth","markerHeight","refX","refY","MarkerDefinitions","_ref70","defaultColor","markers","_ref69","ids","markerId","localeCompare","markerSelector","m","MarkerDefinitions$1","selector$4","EdgeRenderer","_ref71","defaultMarkerColor","onEdgeClick","_useStore11","_ref72","_targetHandleBounds$t","_targetHandleBounds$s","_getNodeData","_getNodeData2","sourceNodeRect","sourceHandleBounds","sourceIsValid","_getNodeData3","_getNodeData4","targetNodeRect","targetHandleBounds","targetIsValid","targetNodeHandles","updatable","_getEdgePositions","sourceHandlePos","targetHandlePos","getEdgePositions","EdgeRenderer$1","selector$3","Viewport","_ref73","oppositePosition","ConnectionLine","_ref74","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","_fromNode$positionAbs3","_fromNode$positionAbs4","_ref74$type","Bezier","CustomComponent","_useStore12","fromNode","toX","toY","fromHandleBounds","Loose","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","connectionLineType","connectionLineStyle","dAttr","pathParams","_getBezierPath3","Step","_getSmoothStepPath3","SmoothStep","_getSmoothStepPath5","SimpleBezier","_getSimpleBezierPath3","selector$2","ConnectionLineWrapper","_ref75","component","_useStore13","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","GraphView","_ref76","onInit","connectionLineComponent","connectionLineContainerStyle","nodeTypesWrapped","edgeTypesWrapped","rfInstance","isInitialized","useOnInitHandler","GraphView$1","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","initialState","fitViewOnInitOptions","ReactFlowProvider","_ref78","storeRef","_get3","_get4$defaultEdgeOpti","_get5","viewportNode","getComputedStyle","DOMMatrixReadOnly","m22","update","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","_get7","_get8","_get9","edgeId","_ref77","_get10","storeEdges","edgesToUnselect","_get11","_get12","_get$d3Zoom","_get13","_get15","is","Wrapper","_ref79","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","_ref80","_ref80$nodeTypes","_ref80$edgeTypes","_ref80$connectionMode","_ref80$connectionLine","_ref80$deleteKeyCode","_ref80$selectionKeyCo","_ref80$selectionOnDra","_ref80$selectionMode","_ref80$panActivationK","_ref80$multiSelection","_ref80$zoomActivation","_ref80$snapToGrid","_ref80$snapGrid","_ref80$onlyRenderVisi","_ref80$selectNodesOnD","_ref80$nodeOrigin","_ref80$defaultViewpor","_ref80$minZoom","_ref80$maxZoom","_ref80$translateExten","_ref80$preventScrolli","_ref80$defaultMarkerC","_ref80$zoomOnScroll","_ref80$zoomOnPinch","_ref80$panOnScroll","_ref80$panOnScrollSpe","_ref80$panOnScrollMod","_ref80$zoomOnDoubleCl","_ref80$panOnDrag","_ref80$edgeUpdaterRad","_ref80$noDragClassNam","_ref80$noWheelClassNa","_ref80$noPanClassName","_ref80$fitView","_ref80$connectOnClick","attributionPosition","_ref80$elevateNodesOn","_ref80$elevateEdgesOn","_ref80$disableKeyboar","_ref80$autoPanOnConne","_ref80$autoPanOnNodeD","_ref80$connectionRadi","createUseItemsState","initialItems","_useState11","_useState12","setItems","onItemsChange","useNodesState","useEdgesState"],"sourceRoot":""}