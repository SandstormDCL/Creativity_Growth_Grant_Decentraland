import { Transport } from "../types";
export interface IWebSocketEventMap {
    close: any;
    error: any;
    message: {
        data: any;
    };
    open: any;
}
export declare const defer: <TResult1 = any, TResult2 = never>(onfulfilled?: ((value: any) => TResult1 | PromiseLike<TResult1>) | null | undefined, onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null | undefined) => Promise<TResult1 | TResult2>;
/**
 * This interface should be compatible with the Browsers interface
 * and npm ws package for servers
 */
export interface IWebSocket {
    CONNECTING: number;
    OPEN: number;
    CLOSING: number;
    CLOSED: number;
    readyState: number;
    close(code?: number, data?: string): void;
    send(data: any, cb?: (err: Error) => void): void;
    send(data: any, options: any, cb?: (err: Error) => void): void;
    terminate?(): void;
    addEventListener<K extends keyof IWebSocketEventMap>(type: K, listener: (ev: IWebSocketEventMap[K]) => any, options?: any): void;
}
export declare function WebSocketTransport(socket: IWebSocket): Transport;
//# sourceMappingURL=WebSocket.d.ts.map