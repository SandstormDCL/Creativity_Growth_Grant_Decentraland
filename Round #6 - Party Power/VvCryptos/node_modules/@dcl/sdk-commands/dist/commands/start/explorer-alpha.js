"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runExplorerAlpha = void 0;
const isWindows = /^win/.test(process.platform);
async function runExplorerAlpha(components, opts) {
    const { cwd, realm, baseCoords, isHub } = opts;
    if (await runApp(components, { cwd, realm, baseCoords, isHub })) {
        return;
    }
    components.logger.log('Please download & install the Decentraland Desktop Client: https://dcl.gg/explorer\n\n');
}
exports.runExplorerAlpha = runExplorerAlpha;
async function runApp(components, { cwd, realm, baseCoords, isHub }) {
    const cmd = isWindows ? 'start' : 'open';
    try {
        const params = `realm=${realm}&position=${baseCoords.x},${baseCoords.y}&local-scene=true&debug=true&hub=${isHub}`;
        const app = `decentraland://"${params}"`;
        await components.spawner.exec(cwd, cmd, [app], { silent: true });
        components.logger.info(`Desktop client: decentraland://${params}\n`);
        return true;
    }
    catch (e) {
        components.logger.error('Decentraland Desktop Client failed with: ', e.message);
        return false;
    }
}
//# sourceMappingURL=explorer-alpha.js.map