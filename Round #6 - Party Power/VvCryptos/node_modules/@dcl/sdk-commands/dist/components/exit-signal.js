"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createExitSignalComponent = void 0;
const fp_future_1 = __importDefault(require("fp-future"));
// this component exists to "await program stopped" at the end of Lifecycle.main
function createExitSignalComponent() {
    const programClosed = (0, fp_future_1.default)();
    const signaler = {
        programClosed,
        async stop() {
            // this promise is resolved upon SIGTERM or SIGHUP
            // or when program.stop is called
            programClosed.resolve();
        }
    };
    return signaler;
}
exports.createExitSignalComponent = createExitSignalComponent;
//# sourceMappingURL=exit-signal.js.map